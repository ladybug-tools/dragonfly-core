<!DOCTYPE html>

<html lang="en" data-content_root="../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>dragonfly.model &#8212; dragonfly-core  documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=8f2a1f02" />
    <link rel="stylesheet" type="text/css" href="../../_static/bootstrap-sphinx.css?v=0bf093e7" />
    <link rel="stylesheet" type="text/css" href="../../_static/custom.css?v=0b9525ea" />
    <script src="../../_static/documentation_options.js?v=5929fcd5"></script>
    <script src="../../_static/doctools.js?v=9a2dae69"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
<link rel="icon" type="image/x-icon" href="https://github.com/ladybug-tools/artwork/raw/refs/heads/master/icons_bugs/ico/dragonfly.ico">
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript" src="../../_static/js/jquery-1.11.0.min.js "></script>
<script type="text/javascript" src="../../_static/js/jquery-fix.js "></script>
<script type="text/javascript" src="../../_static/bootstrap-3.3.7/js/bootstrap.min.js "></script>
<script type="text/javascript" src="../../_static/bootstrap-sphinx.js "></script>

  </head><body>

  <div id="navbar" class="navbar navbar-inverse navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../../index.html">
          dragonfly-core</a>
        <span class="navbar-text navbar-version pull-left"><b></b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../../index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul>
<li class="toctree-l1"><a class="reference internal" href="../../cli/index.html">CLI Docs</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../cli/index.html#installation">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cli/index.html#commands">Commands</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../cli/translate.html">translate</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../cli/translate.html#dragonfly-translate">dragonfly translate</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../cli/translate.html#dragonfly-translate-merge-models-to-honeybee">merge-models-to-honeybee</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../cli/translate.html#dragonfly-translate-model-to-honeybee">model-to-honeybee</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../cli/translate.html#dragonfly-translate-model-to-honeybee-file">model-to-honeybee-file</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../cli/validate.html">validate</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../cli/validate.html#dragonfly-validate">dragonfly validate</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../cli/validate.html#dragonfly-validate-model">model</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../cli/validate.html#dragonfly-validate-room-collisions">room-collisions</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../cli/create.html">create</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../cli/create.html#dragonfly-create">dragonfly create</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../cli/create.html#dragonfly-create-from-geojson">from-geojson</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../cli/create.html#dragonfly-create-from-honeybee">from-honeybee</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../cli/create.html#dragonfly-create-merge-models">merge-models</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../cli/edit.html">edit</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../cli/edit.html#dragonfly-edit">dragonfly edit</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../cli/edit.html#dragonfly-edit-align">align</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../cli/edit.html#dragonfly-edit-convert-units">convert-units</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../cli/edit.html#dragonfly-edit-remove-short-segments">remove-short-segments</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../cli/edit.html#dragonfly-edit-reset-room-boundaries">reset-room-boundaries</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../cli/edit.html#dragonfly-edit-solve-adjacency">solve-adjacency</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../cli/edit.html#dragonfly-edit-windows-by-ratio">windows-by-ratio</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../modules.html">dragonfly</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../dragonfly.html">dragonfly package</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../dragonfly.html#subpackages">Subpackages</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../dragonfly.cli.html">dragonfly.cli package</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../dragonfly.cli.html#submodules">Submodules</a><ul>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.cli.create.html">dragonfly.cli.create module</a><ul>
<li class="toctree-l7"><a class="reference internal" href="../../dragonfly.cli.create.html#dragonfly.cli.create.from_geojson"><code class="docutils literal notranslate"><span class="pre">from_geojson()</span></code></a></li>
<li class="toctree-l7"><a class="reference internal" href="../../dragonfly.cli.create.html#dragonfly.cli.create.from_honeybee"><code class="docutils literal notranslate"><span class="pre">from_honeybee()</span></code></a></li>
<li class="toctree-l7"><a class="reference internal" href="../../dragonfly.cli.create.html#dragonfly.cli.create.merge_models"><code class="docutils literal notranslate"><span class="pre">merge_models()</span></code></a></li>
</ul>
</li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.cli.edit.html">dragonfly.cli.edit module</a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.cli.translate.html">dragonfly.cli.translate module</a><ul>
<li class="toctree-l7"><a class="reference internal" href="../../dragonfly.cli.translate.html#dragonfly.cli.translate.merge_models_to_honeybee"><code class="docutils literal notranslate"><span class="pre">merge_models_to_honeybee()</span></code></a></li>
<li class="toctree-l7"><a class="reference internal" href="../../dragonfly.cli.translate.html#dragonfly.cli.translate.model_to_honeybee"><code class="docutils literal notranslate"><span class="pre">model_to_honeybee()</span></code></a></li>
<li class="toctree-l7"><a class="reference internal" href="../../dragonfly.cli.translate.html#dragonfly.cli.translate.model_to_honeybee_file"><code class="docutils literal notranslate"><span class="pre">model_to_honeybee_file()</span></code></a></li>
</ul>
</li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.cli.validate.html">dragonfly.cli.validate module</a><ul>
<li class="toctree-l7"><a class="reference internal" href="../../dragonfly.cli.validate.html#dragonfly.cli.validate.validate_model"><code class="docutils literal notranslate"><span class="pre">validate_model()</span></code></a></li>
<li class="toctree-l7"><a class="reference internal" href="../../dragonfly.cli.validate.html#dragonfly.cli.validate.validate_room_collisions"><code class="docutils literal notranslate"><span class="pre">validate_room_collisions()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="../../dragonfly.cli.html#module-dragonfly.cli">Module contents</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../dragonfly.writer.html">dragonfly.writer package</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../dragonfly.writer.html#submodules">Submodules</a><ul>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.writer.building.html">dragonfly.writer.building module</a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.writer.context.html">dragonfly.writer.context module</a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.writer.model.html">dragonfly.writer.model module</a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.writer.room2d.html">dragonfly.writer.room2d module</a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.writer.story.html">dragonfly.writer.story module</a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="../../dragonfly.writer.html#module-dragonfly.writer">Module contents</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../dragonfly.html#submodules">Submodules</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../dragonfly.building.html">dragonfly.building module</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building"><code class="docutils literal notranslate"><span class="pre">Building</span></code></a><ul>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.ToString"><code class="docutils literal notranslate"><span class="pre">ToString()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.add_prefix"><code class="docutils literal notranslate"><span class="pre">add_prefix()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.add_roof_geometry"><code class="docutils literal notranslate"><span class="pre">add_roof_geometry()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.add_room_3ds"><code class="docutils literal notranslate"><span class="pre">add_room_3ds()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.add_stories"><code class="docutils literal notranslate"><span class="pre">add_stories()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.all_room_2ds"><code class="docutils literal notranslate"><span class="pre">all_room_2ds()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.all_stories"><code class="docutils literal notranslate"><span class="pre">all_stories()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.automatically_zone"><code class="docutils literal notranslate"><span class="pre">automatically_zone()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.buildings_to_honeybee"><code class="docutils literal notranslate"><span class="pre">buildings_to_honeybee()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.check_collisions_between_stories"><code class="docutils literal notranslate"><span class="pre">check_collisions_between_stories()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.convert_all_room_3ds_to_2d"><code class="docutils literal notranslate"><span class="pre">convert_all_room_3ds_to_2d()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.convert_multipliers_to_stories"><code class="docutils literal notranslate"><span class="pre">convert_multipliers_to_stories()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.convert_plenum_depths_to_room_2ds"><code class="docutils literal notranslate"><span class="pre">convert_plenum_depths_to_room_2ds()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.convert_room_3d_to_2d"><code class="docutils literal notranslate"><span class="pre">convert_room_3d_to_2d()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.convert_room_3ds_to_2d"><code class="docutils literal notranslate"><span class="pre">convert_room_3ds_to_2d()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.district_to_honeybee"><code class="docutils literal notranslate"><span class="pre">district_to_honeybee()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.duplicate"><code class="docutils literal notranslate"><span class="pre">duplicate()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.find_adjacency_gaps"><code class="docutils literal notranslate"><span class="pre">find_adjacency_gaps()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.footprint"><code class="docutils literal notranslate"><span class="pre">footprint()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.from_all_story_geometry"><code class="docutils literal notranslate"><span class="pre">from_all_story_geometry()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.from_dict"><code class="docutils literal notranslate"><span class="pre">from_dict()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.from_footprint"><code class="docutils literal notranslate"><span class="pre">from_footprint()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.from_honeybee"><code class="docutils literal notranslate"><span class="pre">from_honeybee()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.has_floors_ceilings"><code class="docutils literal notranslate"><span class="pre">has_floors_ceilings()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.make_basement_stories"><code class="docutils literal notranslate"><span class="pre">make_basement_stories()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.match_and_replace_room_2d_floor_geometry"><code class="docutils literal notranslate"><span class="pre">match_and_replace_room_2d_floor_geometry()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.move"><code class="docutils literal notranslate"><span class="pre">move()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.process_alleys"><code class="docutils literal notranslate"><span class="pre">process_alleys()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.reflect"><code class="docutils literal notranslate"><span class="pre">reflect()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.remove_duplicate_roofs"><code class="docutils literal notranslate"><span class="pre">remove_duplicate_roofs()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.remove_stories_by_identifier"><code class="docutils literal notranslate"><span class="pre">remove_stories_by_identifier()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.room_2ds_by_display_name"><code class="docutils literal notranslate"><span class="pre">room_2ds_by_display_name()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.room_3ds_by_display_name"><code class="docutils literal notranslate"><span class="pre">room_3ds_by_display_name()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.room_3ds_by_story"><code class="docutils literal notranslate"><span class="pre">room_3ds_by_story()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.rotate_xy"><code class="docutils literal notranslate"><span class="pre">rotate_xy()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.scale"><code class="docutils literal notranslate"><span class="pre">scale()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.separate_mid_floors"><code class="docutils literal notranslate"><span class="pre">separate_mid_floors()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.separate_room_2d_plenums"><code class="docutils literal notranslate"><span class="pre">separate_room_2d_plenums()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.separate_top_bottom_floors"><code class="docutils literal notranslate"><span class="pre">separate_top_bottom_floors()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.set_outdoor_shading_parameters"><code class="docutils literal notranslate"><span class="pre">set_outdoor_shading_parameters()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.set_outdoor_window_parameters"><code class="docutils literal notranslate"><span class="pre">set_outdoor_window_parameters()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.shade_representation"><code class="docutils literal notranslate"><span class="pre">shade_representation()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.sort_stories"><code class="docutils literal notranslate"><span class="pre">sort_stories()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.split_room_2d_vertically"><code class="docutils literal notranslate"><span class="pre">split_room_2d_vertically()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.stories_by_display_name"><code class="docutils literal notranslate"><span class="pre">stories_by_display_name()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.stories_by_identifier"><code class="docutils literal notranslate"><span class="pre">stories_by_identifier()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.stories_to_honeybee"><code class="docutils literal notranslate"><span class="pre">stories_to_honeybee()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.suggested_alignment_axes"><code class="docutils literal notranslate"><span class="pre">suggested_alignment_axes()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.to_dict"><code class="docutils literal notranslate"><span class="pre">to_dict()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.to_honeybee"><code class="docutils literal notranslate"><span class="pre">to_honeybee()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.to_rectangular_windows"><code class="docutils literal notranslate"><span class="pre">to_rectangular_windows()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.display_name"><code class="docutils literal notranslate"><span class="pre">display_name</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.exterior_aperture_area"><code class="docutils literal notranslate"><span class="pre">exterior_aperture_area</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.exterior_wall_area"><code class="docutils literal notranslate"><span class="pre">exterior_wall_area</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.floor_area"><code class="docutils literal notranslate"><span class="pre">floor_area</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.footprint_area"><code class="docutils literal notranslate"><span class="pre">footprint_area</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.full_id"><code class="docutils literal notranslate"><span class="pre">full_id</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.has_room_2d_plenums"><code class="docutils literal notranslate"><span class="pre">has_room_2d_plenums</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.has_room_2ds"><code class="docutils literal notranslate"><span class="pre">has_room_2ds</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.has_room_3ds"><code class="docutils literal notranslate"><span class="pre">has_room_3ds</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.has_zones"><code class="docutils literal notranslate"><span class="pre">has_zones</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.height"><code class="docutils literal notranslate"><span class="pre">height</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.height_above_ground"><code class="docutils literal notranslate"><span class="pre">height_above_ground</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.height_from_first_floor"><code class="docutils literal notranslate"><span class="pre">height_from_first_floor</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.identifier"><code class="docutils literal notranslate"><span class="pre">identifier</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.max"><code class="docutils literal notranslate"><span class="pre">max</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.min"><code class="docutils literal notranslate"><span class="pre">min</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.properties"><code class="docutils literal notranslate"><span class="pre">properties</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.room_2d_story_names"><code class="docutils literal notranslate"><span class="pre">room_2d_story_names</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.room_3d_apertures"><code class="docutils literal notranslate"><span class="pre">room_3d_apertures</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.room_3d_doors"><code class="docutils literal notranslate"><span class="pre">room_3d_doors</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.room_3d_faces"><code class="docutils literal notranslate"><span class="pre">room_3d_faces</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.room_3d_shades"><code class="docutils literal notranslate"><span class="pre">room_3d_shades</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.room_3d_story_names"><code class="docutils literal notranslate"><span class="pre">room_3d_story_names</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.room_3ds"><code class="docutils literal notranslate"><span class="pre">room_3ds</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.story_count"><code class="docutils literal notranslate"><span class="pre">story_count</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.story_count_above_ground"><code class="docutils literal notranslate"><span class="pre">story_count_above_ground</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.sub_face_area"><code class="docutils literal notranslate"><span class="pre">sub_face_area</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.to"><code class="docutils literal notranslate"><span class="pre">to</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.unique_room_2ds"><code class="docutils literal notranslate"><span class="pre">unique_room_2ds</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.unique_stories"><code class="docutils literal notranslate"><span class="pre">unique_stories</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.unique_stories_above_ground"><code class="docutils literal notranslate"><span class="pre">unique_stories_above_ground</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.user_data"><code class="docutils literal notranslate"><span class="pre">user_data</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.volume"><code class="docutils literal notranslate"><span class="pre">volume</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.zone_dict"><code class="docutils literal notranslate"><span class="pre">zone_dict</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../dragonfly.colorobj.html">dragonfly.colorobj module</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../dragonfly.colorobj.html#dragonfly.colorobj.ColorRoom2D"><code class="docutils literal notranslate"><span class="pre">ColorRoom2D</span></code></a><ul>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.colorobj.html#dragonfly.colorobj.ColorRoom2D.ToString"><code class="docutils literal notranslate"><span class="pre">ToString()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.colorobj.html#dragonfly.colorobj.ColorRoom2D.attr_name"><code class="docutils literal notranslate"><span class="pre">attr_name</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.colorobj.html#dragonfly.colorobj.ColorRoom2D.attr_name_end"><code class="docutils literal notranslate"><span class="pre">attr_name_end</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.colorobj.html#dragonfly.colorobj.ColorRoom2D.attributes"><code class="docutils literal notranslate"><span class="pre">attributes</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.colorobj.html#dragonfly.colorobj.ColorRoom2D.attributes_original"><code class="docutils literal notranslate"><span class="pre">attributes_original</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.colorobj.html#dragonfly.colorobj.ColorRoom2D.attributes_unique"><code class="docutils literal notranslate"><span class="pre">attributes_unique</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.colorobj.html#dragonfly.colorobj.ColorRoom2D.floor_faces"><code class="docutils literal notranslate"><span class="pre">floor_faces</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.colorobj.html#dragonfly.colorobj.ColorRoom2D.graphic_container"><code class="docutils literal notranslate"><span class="pre">graphic_container</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.colorobj.html#dragonfly.colorobj.ColorRoom2D.legend_parameters"><code class="docutils literal notranslate"><span class="pre">legend_parameters</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.colorobj.html#dragonfly.colorobj.ColorRoom2D.max_point"><code class="docutils literal notranslate"><span class="pre">max_point</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.colorobj.html#dragonfly.colorobj.ColorRoom2D.min_point"><code class="docutils literal notranslate"><span class="pre">min_point</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.colorobj.html#dragonfly.colorobj.ColorRoom2D.room_2ds"><code class="docutils literal notranslate"><span class="pre">room_2ds</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../dragonfly.config.html">dragonfly.config module</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../dragonfly.config.html#dragonfly.config.Folders"><code class="docutils literal notranslate"><span class="pre">Folders</span></code></a><ul>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.config.html#dragonfly.config.Folders.dragonfly_core_version"><code class="docutils literal notranslate"><span class="pre">dragonfly_core_version</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.config.html#dragonfly.config.Folders.dragonfly_core_version_str"><code class="docutils literal notranslate"><span class="pre">dragonfly_core_version_str</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.config.html#dragonfly.config.Folders.dragonfly_schema_version"><code class="docutils literal notranslate"><span class="pre">dragonfly_schema_version</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.config.html#dragonfly.config.Folders.dragonfly_schema_version_str"><code class="docutils literal notranslate"><span class="pre">dragonfly_schema_version_str</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.config.html#dragonfly.config.Folders.python_package_path"><code class="docutils literal notranslate"><span class="pre">python_package_path</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../dragonfly.context.html">dragonfly.context module</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../dragonfly.context.html#dragonfly.context.ContextShade"><code class="docutils literal notranslate"><span class="pre">ContextShade</span></code></a><ul>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.context.html#dragonfly.context.ContextShade.ToString"><code class="docutils literal notranslate"><span class="pre">ToString()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.context.html#dragonfly.context.ContextShade.add_prefix"><code class="docutils literal notranslate"><span class="pre">add_prefix()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.context.html#dragonfly.context.ContextShade.align"><code class="docutils literal notranslate"><span class="pre">align()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.context.html#dragonfly.context.ContextShade.apply_vertex_map"><code class="docutils literal notranslate"><span class="pre">apply_vertex_map()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.context.html#dragonfly.context.ContextShade.duplicate"><code class="docutils literal notranslate"><span class="pre">duplicate()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.context.html#dragonfly.context.ContextShade.from_dict"><code class="docutils literal notranslate"><span class="pre">from_dict()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.context.html#dragonfly.context.ContextShade.from_honeybee"><code class="docutils literal notranslate"><span class="pre">from_honeybee()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.context.html#dragonfly.context.ContextShade.is_conforming"><code class="docutils literal notranslate"><span class="pre">is_conforming()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.context.html#dragonfly.context.ContextShade.move"><code class="docutils literal notranslate"><span class="pre">move()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.context.html#dragonfly.context.ContextShade.reflect"><code class="docutils literal notranslate"><span class="pre">reflect()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.context.html#dragonfly.context.ContextShade.rotate_xy"><code class="docutils literal notranslate"><span class="pre">rotate_xy()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.context.html#dragonfly.context.ContextShade.scale"><code class="docutils literal notranslate"><span class="pre">scale()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.context.html#dragonfly.context.ContextShade.snap_to_grid"><code class="docutils literal notranslate"><span class="pre">snap_to_grid()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.context.html#dragonfly.context.ContextShade.to_dict"><code class="docutils literal notranslate"><span class="pre">to_dict()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.context.html#dragonfly.context.ContextShade.to_honeybee"><code class="docutils literal notranslate"><span class="pre">to_honeybee()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.context.html#dragonfly.context.ContextShade.unconforming_vertex_map"><code class="docutils literal notranslate"><span class="pre">unconforming_vertex_map()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.context.html#dragonfly.context.ContextShade.area"><code class="docutils literal notranslate"><span class="pre">area</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.context.html#dragonfly.context.ContextShade.display_name"><code class="docutils literal notranslate"><span class="pre">display_name</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.context.html#dragonfly.context.ContextShade.full_id"><code class="docutils literal notranslate"><span class="pre">full_id</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.context.html#dragonfly.context.ContextShade.geometry"><code class="docutils literal notranslate"><span class="pre">geometry</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.context.html#dragonfly.context.ContextShade.identifier"><code class="docutils literal notranslate"><span class="pre">identifier</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.context.html#dragonfly.context.ContextShade.is_detached"><code class="docutils literal notranslate"><span class="pre">is_detached</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.context.html#dragonfly.context.ContextShade.max"><code class="docutils literal notranslate"><span class="pre">max</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.context.html#dragonfly.context.ContextShade.min"><code class="docutils literal notranslate"><span class="pre">min</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.context.html#dragonfly.context.ContextShade.properties"><code class="docutils literal notranslate"><span class="pre">properties</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.context.html#dragonfly.context.ContextShade.to"><code class="docutils literal notranslate"><span class="pre">to</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.context.html#dragonfly.context.ContextShade.user_data"><code class="docutils literal notranslate"><span class="pre">user_data</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../dragonfly.dictutil.html">dragonfly.dictutil module</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../dragonfly.dictutil.html#dragonfly.dictutil.dict_to_object"><code class="docutils literal notranslate"><span class="pre">dict_to_object()</span></code></a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../dragonfly.extensionutil.html">dragonfly.extensionutil module</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../dragonfly.extensionutil.html#dragonfly.extensionutil.building_extension_dicts"><code class="docutils literal notranslate"><span class="pre">building_extension_dicts()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../dragonfly.extensionutil.html#dragonfly.extensionutil.context_shade_extension_dicts"><code class="docutils literal notranslate"><span class="pre">context_shade_extension_dicts()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../dragonfly.extensionutil.html#dragonfly.extensionutil.model_extension_dicts"><code class="docutils literal notranslate"><span class="pre">model_extension_dicts()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../dragonfly.extensionutil.html#dragonfly.extensionutil.room2d_extension_dicts"><code class="docutils literal notranslate"><span class="pre">room2d_extension_dicts()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../dragonfly.extensionutil.html#dragonfly.extensionutil.story_extension_dicts"><code class="docutils literal notranslate"><span class="pre">story_extension_dicts()</span></code></a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../dragonfly.model.html">dragonfly.model module</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model"><code class="docutils literal notranslate"><span class="pre">Model</span></code></a><ul>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.ToString"><code class="docutils literal notranslate"><span class="pre">ToString()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.add_building"><code class="docutils literal notranslate"><span class="pre">add_building()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.add_context_shade"><code class="docutils literal notranslate"><span class="pre">add_context_shade()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.add_model"><code class="docutils literal notranslate"><span class="pre">add_model()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.add_prefix"><code class="docutils literal notranslate"><span class="pre">add_prefix()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.buildings_by_identifier"><code class="docutils literal notranslate"><span class="pre">buildings_by_identifier()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.check_all"><code class="docutils literal notranslate"><span class="pre">check_all()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.check_all_duplicate_identifiers"><code class="docutils literal notranslate"><span class="pre">check_all_duplicate_identifiers()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.check_all_room3d"><code class="docutils literal notranslate"><span class="pre">check_all_room3d()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.check_all_room_collisions"><code class="docutils literal notranslate"><span class="pre">check_all_room_collisions()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.check_collisions_between_stories"><code class="docutils literal notranslate"><span class="pre">check_collisions_between_stories()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.check_degenerate_room_2ds"><code class="docutils literal notranslate"><span class="pre">check_degenerate_room_2ds()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.check_duplicate_building_identifiers"><code class="docutils literal notranslate"><span class="pre">check_duplicate_building_identifiers()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.check_duplicate_context_shade_identifiers"><code class="docutils literal notranslate"><span class="pre">check_duplicate_context_shade_identifiers()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.check_duplicate_room_2d_identifiers"><code class="docutils literal notranslate"><span class="pre">check_duplicate_room_2d_identifiers()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.check_duplicate_story_identifiers"><code class="docutils literal notranslate"><span class="pre">check_duplicate_story_identifiers()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.check_for_error"><code class="docutils literal notranslate"><span class="pre">check_for_error()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.check_for_extension"><code class="docutils literal notranslate"><span class="pre">check_for_extension()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.check_missing_adjacencies"><code class="docutils literal notranslate"><span class="pre">check_missing_adjacencies()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.check_no_roof_overlaps"><code class="docutils literal notranslate"><span class="pre">check_no_roof_overlaps()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.check_no_room2d_overlaps"><code class="docutils literal notranslate"><span class="pre">check_no_room2d_overlaps()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.check_plenum_depths"><code class="docutils literal notranslate"><span class="pre">check_plenum_depths()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.check_roofs_above_rooms"><code class="docutils literal notranslate"><span class="pre">check_roofs_above_rooms()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.check_room2d_floor_heights_valid"><code class="docutils literal notranslate"><span class="pre">check_room2d_floor_heights_valid()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.check_self_intersecting_room_2ds"><code class="docutils literal notranslate"><span class="pre">check_self_intersecting_room_2ds()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.check_window_parameters_valid"><code class="docutils literal notranslate"><span class="pre">check_window_parameters_valid()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.clean_irrational_geometry"><code class="docutils literal notranslate"><span class="pre">clean_irrational_geometry()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.context_shade_by_identifier"><code class="docutils literal notranslate"><span class="pre">context_shade_by_identifier()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.convert_to_units"><code class="docutils literal notranslate"><span class="pre">convert_to_units()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.duplicate"><code class="docutils literal notranslate"><span class="pre">duplicate()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.from_dfjson"><code class="docutils literal notranslate"><span class="pre">from_dfjson()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.from_dfpkl"><code class="docutils literal notranslate"><span class="pre">from_dfpkl()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.from_dict"><code class="docutils literal notranslate"><span class="pre">from_dict()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.from_file"><code class="docutils literal notranslate"><span class="pre">from_file()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.from_geojson"><code class="docutils literal notranslate"><span class="pre">from_geojson()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.from_honeybee"><code class="docutils literal notranslate"><span class="pre">from_honeybee()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.from_pomf"><code class="docutils literal notranslate"><span class="pre">from_pomf()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.lines_from_pomf"><code class="docutils literal notranslate"><span class="pre">lines_from_pomf()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.model_dict_room_2d_subset"><code class="docutils literal notranslate"><span class="pre">model_dict_room_2d_subset()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.model_dict_subset"><code class="docutils literal notranslate"><span class="pre">model_dict_subset()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.move"><code class="docutils literal notranslate"><span class="pre">move()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.reflect"><code class="docutils literal notranslate"><span class="pre">reflect()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.remove_duplicate_roofs"><code class="docutils literal notranslate"><span class="pre">remove_duplicate_roofs()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.reset_coordinate_system"><code class="docutils literal notranslate"><span class="pre">reset_coordinate_system()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.reset_ids"><code class="docutils literal notranslate"><span class="pre">reset_ids()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.resolve_id_collisions"><code class="docutils literal notranslate"><span class="pre">resolve_id_collisions()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.room_2ds_by_identifier"><code class="docutils literal notranslate"><span class="pre">room_2ds_by_identifier()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.room_3ds_by_identifier"><code class="docutils literal notranslate"><span class="pre">room_3ds_by_identifier()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.rotate_xy"><code class="docutils literal notranslate"><span class="pre">rotate_xy()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.scale"><code class="docutils literal notranslate"><span class="pre">scale()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.separate_top_bottom_floors"><code class="docutils literal notranslate"><span class="pre">separate_top_bottom_floors()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.set_outdoor_shading_parameters"><code class="docutils literal notranslate"><span class="pre">set_outdoor_shading_parameters()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.set_outdoor_window_parameters"><code class="docutils literal notranslate"><span class="pre">set_outdoor_window_parameters()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.stories_by_identifier"><code class="docutils literal notranslate"><span class="pre">stories_by_identifier()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.to_dfjson"><code class="docutils literal notranslate"><span class="pre">to_dfjson()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.to_dfpkl"><code class="docutils literal notranslate"><span class="pre">to_dfpkl()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.to_dict"><code class="docutils literal notranslate"><span class="pre">to_dict()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.to_geojson"><code class="docutils literal notranslate"><span class="pre">to_geojson()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.to_geojson_dict"><code class="docutils literal notranslate"><span class="pre">to_geojson_dict()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.to_honeybee"><code class="docutils literal notranslate"><span class="pre">to_honeybee()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.to_rectangular_windows"><code class="docutils literal notranslate"><span class="pre">to_rectangular_windows()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.validate"><code class="docutils literal notranslate"><span class="pre">validate()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.ERROR_MAP"><code class="docutils literal notranslate"><span class="pre">ERROR_MAP</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.angle_tolerance"><code class="docutils literal notranslate"><span class="pre">angle_tolerance</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.average_height"><code class="docutils literal notranslate"><span class="pre">average_height</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.average_height_above_ground"><code class="docutils literal notranslate"><span class="pre">average_height_above_ground</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.average_story_count"><code class="docutils literal notranslate"><span class="pre">average_story_count</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.average_story_count_above_ground"><code class="docutils literal notranslate"><span class="pre">average_story_count_above_ground</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.buildings"><code class="docutils literal notranslate"><span class="pre">buildings</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.context_shades"><code class="docutils literal notranslate"><span class="pre">context_shades</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.display_name"><code class="docutils literal notranslate"><span class="pre">display_name</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.exterior_aperture_area"><code class="docutils literal notranslate"><span class="pre">exterior_aperture_area</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.exterior_wall_area"><code class="docutils literal notranslate"><span class="pre">exterior_wall_area</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.floor_area"><code class="docutils literal notranslate"><span class="pre">floor_area</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.footprint_area"><code class="docutils literal notranslate"><span class="pre">footprint_area</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.full_id"><code class="docutils literal notranslate"><span class="pre">full_id</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.identifier"><code class="docutils literal notranslate"><span class="pre">identifier</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.max"><code class="docutils literal notranslate"><span class="pre">max</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.min"><code class="docutils literal notranslate"><span class="pre">min</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.properties"><code class="docutils literal notranslate"><span class="pre">properties</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.reference_vector"><code class="docutils literal notranslate"><span class="pre">reference_vector</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.room_2ds"><code class="docutils literal notranslate"><span class="pre">room_2ds</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.room_3ds"><code class="docutils literal notranslate"><span class="pre">room_3ds</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.stories"><code class="docutils literal notranslate"><span class="pre">stories</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.sub_face_area"><code class="docutils literal notranslate"><span class="pre">sub_face_area</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.to"><code class="docutils literal notranslate"><span class="pre">to</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.tolerance"><code class="docutils literal notranslate"><span class="pre">tolerance</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.units"><code class="docutils literal notranslate"><span class="pre">units</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.user_data"><code class="docutils literal notranslate"><span class="pre">user_data</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.volume"><code class="docutils literal notranslate"><span class="pre">volume</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../dragonfly.projection.html">dragonfly.projection module</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../dragonfly.projection.html#dragonfly.projection.lon_lat_to_polygon"><code class="docutils literal notranslate"><span class="pre">lon_lat_to_polygon()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../dragonfly.projection.html#dragonfly.projection.meters_to_long_lat_factors"><code class="docutils literal notranslate"><span class="pre">meters_to_long_lat_factors()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../dragonfly.projection.html#dragonfly.projection.origin_long_lat_from_location"><code class="docutils literal notranslate"><span class="pre">origin_long_lat_from_location()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../dragonfly.projection.html#dragonfly.projection.polygon_to_lon_lat"><code class="docutils literal notranslate"><span class="pre">polygon_to_lon_lat()</span></code></a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../dragonfly.properties.html">dragonfly.properties module</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../dragonfly.properties.html#dragonfly.properties.BuildingProperties"><code class="docutils literal notranslate"><span class="pre">BuildingProperties</span></code></a><ul>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.properties.html#dragonfly.properties.BuildingProperties.ToString"><code class="docutils literal notranslate"><span class="pre">ToString()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.properties.html#dragonfly.properties.BuildingProperties.add_prefix"><code class="docutils literal notranslate"><span class="pre">add_prefix()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.properties.html#dragonfly.properties.BuildingProperties.apply_ceiling_plenum_face_properties"><code class="docutils literal notranslate"><span class="pre">apply_ceiling_plenum_face_properties()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.properties.html#dragonfly.properties.BuildingProperties.apply_floor_plenum_face_properties"><code class="docutils literal notranslate"><span class="pre">apply_floor_plenum_face_properties()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.properties.html#dragonfly.properties.BuildingProperties.apply_properties_from_geojson_dict"><code class="docutils literal notranslate"><span class="pre">apply_properties_from_geojson_dict()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.properties.html#dragonfly.properties.BuildingProperties.make_plenums"><code class="docutils literal notranslate"><span class="pre">make_plenums()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.properties.html#dragonfly.properties.BuildingProperties.move"><code class="docutils literal notranslate"><span class="pre">move()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.properties.html#dragonfly.properties.BuildingProperties.reflect"><code class="docutils literal notranslate"><span class="pre">reflect()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.properties.html#dragonfly.properties.BuildingProperties.rotate_xy"><code class="docutils literal notranslate"><span class="pre">rotate_xy()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.properties.html#dragonfly.properties.BuildingProperties.scale"><code class="docutils literal notranslate"><span class="pre">scale()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.properties.html#dragonfly.properties.BuildingProperties.to_dict"><code class="docutils literal notranslate"><span class="pre">to_dict()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.properties.html#dragonfly.properties.BuildingProperties.host"><code class="docutils literal notranslate"><span class="pre">host</span></code></a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="../../dragonfly.properties.html#dragonfly.properties.ContextShadeProperties"><code class="docutils literal notranslate"><span class="pre">ContextShadeProperties</span></code></a><ul>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.properties.html#dragonfly.properties.ContextShadeProperties.ToString"><code class="docutils literal notranslate"><span class="pre">ToString()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.properties.html#dragonfly.properties.ContextShadeProperties.add_prefix"><code class="docutils literal notranslate"><span class="pre">add_prefix()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.properties.html#dragonfly.properties.ContextShadeProperties.from_honeybee"><code class="docutils literal notranslate"><span class="pre">from_honeybee()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.properties.html#dragonfly.properties.ContextShadeProperties.move"><code class="docutils literal notranslate"><span class="pre">move()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.properties.html#dragonfly.properties.ContextShadeProperties.reflect"><code class="docutils literal notranslate"><span class="pre">reflect()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.properties.html#dragonfly.properties.ContextShadeProperties.rotate_xy"><code class="docutils literal notranslate"><span class="pre">rotate_xy()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.properties.html#dragonfly.properties.ContextShadeProperties.scale"><code class="docutils literal notranslate"><span class="pre">scale()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.properties.html#dragonfly.properties.ContextShadeProperties.to_dict"><code class="docutils literal notranslate"><span class="pre">to_dict()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.properties.html#dragonfly.properties.ContextShadeProperties.to_honeybee"><code class="docutils literal notranslate"><span class="pre">to_honeybee()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.properties.html#dragonfly.properties.ContextShadeProperties.host"><code class="docutils literal notranslate"><span class="pre">host</span></code></a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="../../dragonfly.properties.html#dragonfly.properties.ModelProperties"><code class="docutils literal notranslate"><span class="pre">ModelProperties</span></code></a><ul>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.properties.html#dragonfly.properties.ModelProperties.ToString"><code class="docutils literal notranslate"><span class="pre">ToString()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.properties.html#dragonfly.properties.ModelProperties.apply_properties_from_dict"><code class="docutils literal notranslate"><span class="pre">apply_properties_from_dict()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.properties.html#dragonfly.properties.ModelProperties.move"><code class="docutils literal notranslate"><span class="pre">move()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.properties.html#dragonfly.properties.ModelProperties.reflect"><code class="docutils literal notranslate"><span class="pre">reflect()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.properties.html#dragonfly.properties.ModelProperties.rotate_xy"><code class="docutils literal notranslate"><span class="pre">rotate_xy()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.properties.html#dragonfly.properties.ModelProperties.scale"><code class="docutils literal notranslate"><span class="pre">scale()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.properties.html#dragonfly.properties.ModelProperties.to_dict"><code class="docutils literal notranslate"><span class="pre">to_dict()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.properties.html#dragonfly.properties.ModelProperties.to_honeybee"><code class="docutils literal notranslate"><span class="pre">to_honeybee()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.properties.html#dragonfly.properties.ModelProperties.host"><code class="docutils literal notranslate"><span class="pre">host</span></code></a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="../../dragonfly.properties.html#dragonfly.properties.Room2DProperties"><code class="docutils literal notranslate"><span class="pre">Room2DProperties</span></code></a><ul>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.properties.html#dragonfly.properties.Room2DProperties.ToString"><code class="docutils literal notranslate"><span class="pre">ToString()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.properties.html#dragonfly.properties.Room2DProperties.add_prefix"><code class="docutils literal notranslate"><span class="pre">add_prefix()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.properties.html#dragonfly.properties.Room2DProperties.from_honeybee"><code class="docutils literal notranslate"><span class="pre">from_honeybee()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.properties.html#dragonfly.properties.Room2DProperties.move"><code class="docutils literal notranslate"><span class="pre">move()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.properties.html#dragonfly.properties.Room2DProperties.reflect"><code class="docutils literal notranslate"><span class="pre">reflect()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.properties.html#dragonfly.properties.Room2DProperties.rotate_xy"><code class="docutils literal notranslate"><span class="pre">rotate_xy()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.properties.html#dragonfly.properties.Room2DProperties.scale"><code class="docutils literal notranslate"><span class="pre">scale()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.properties.html#dragonfly.properties.Room2DProperties.to_dict"><code class="docutils literal notranslate"><span class="pre">to_dict()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.properties.html#dragonfly.properties.Room2DProperties.to_honeybee"><code class="docutils literal notranslate"><span class="pre">to_honeybee()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.properties.html#dragonfly.properties.Room2DProperties.host"><code class="docutils literal notranslate"><span class="pre">host</span></code></a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="../../dragonfly.properties.html#dragonfly.properties.StoryProperties"><code class="docutils literal notranslate"><span class="pre">StoryProperties</span></code></a><ul>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.properties.html#dragonfly.properties.StoryProperties.ToString"><code class="docutils literal notranslate"><span class="pre">ToString()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.properties.html#dragonfly.properties.StoryProperties.add_prefix"><code class="docutils literal notranslate"><span class="pre">add_prefix()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.properties.html#dragonfly.properties.StoryProperties.move"><code class="docutils literal notranslate"><span class="pre">move()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.properties.html#dragonfly.properties.StoryProperties.reflect"><code class="docutils literal notranslate"><span class="pre">reflect()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.properties.html#dragonfly.properties.StoryProperties.rotate_xy"><code class="docutils literal notranslate"><span class="pre">rotate_xy()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.properties.html#dragonfly.properties.StoryProperties.scale"><code class="docutils literal notranslate"><span class="pre">scale()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.properties.html#dragonfly.properties.StoryProperties.to_dict"><code class="docutils literal notranslate"><span class="pre">to_dict()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.properties.html#dragonfly.properties.StoryProperties.host"><code class="docutils literal notranslate"><span class="pre">host</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../dragonfly.roof.html">dragonfly.roof module</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../dragonfly.roof.html#dragonfly.roof.RoofSpecification"><code class="docutils literal notranslate"><span class="pre">RoofSpecification</span></code></a><ul>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.roof.html#dragonfly.roof.RoofSpecification.ToString"><code class="docutils literal notranslate"><span class="pre">ToString()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.roof.html#dragonfly.roof.RoofSpecification.align"><code class="docutils literal notranslate"><span class="pre">align()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.roof.html#dragonfly.roof.RoofSpecification.check_roof_above_rooms"><code class="docutils literal notranslate"><span class="pre">check_roof_above_rooms()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.roof.html#dragonfly.roof.RoofSpecification.duplicate"><code class="docutils literal notranslate"><span class="pre">duplicate()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.roof.html#dragonfly.roof.RoofSpecification.find_gaps"><code class="docutils literal notranslate"><span class="pre">find_gaps()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.roof.html#dragonfly.roof.RoofSpecification.from_dict"><code class="docutils literal notranslate"><span class="pre">from_dict()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.roof.html#dragonfly.roof.RoofSpecification.from_geometry_to_join"><code class="docutils literal notranslate"><span class="pre">from_geometry_to_join()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.roof.html#dragonfly.roof.RoofSpecification.join_geometries"><code class="docutils literal notranslate"><span class="pre">join_geometries()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.roof.html#dragonfly.roof.RoofSpecification.move"><code class="docutils literal notranslate"><span class="pre">move()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.roof.html#dragonfly.roof.RoofSpecification.overlap_count"><code class="docutils literal notranslate"><span class="pre">overlap_count()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.roof.html#dragonfly.roof.RoofSpecification.pull_to_segments"><code class="docutils literal notranslate"><span class="pre">pull_to_segments()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.roof.html#dragonfly.roof.RoofSpecification.reflect"><code class="docutils literal notranslate"><span class="pre">reflect()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.roof.html#dragonfly.roof.RoofSpecification.remove_small_holes"><code class="docutils literal notranslate"><span class="pre">remove_small_holes()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.roof.html#dragonfly.roof.RoofSpecification.resolved_geometry"><code class="docutils literal notranslate"><span class="pre">resolved_geometry()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.roof.html#dragonfly.roof.RoofSpecification.rotate_xy"><code class="docutils literal notranslate"><span class="pre">rotate_xy()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.roof.html#dragonfly.roof.RoofSpecification.scale"><code class="docutils literal notranslate"><span class="pre">scale()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.roof.html#dragonfly.roof.RoofSpecification.snap_to_grid"><code class="docutils literal notranslate"><span class="pre">snap_to_grid()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.roof.html#dragonfly.roof.RoofSpecification.split_with_lines"><code class="docutils literal notranslate"><span class="pre">split_with_lines()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.roof.html#dragonfly.roof.RoofSpecification.split_with_polygon"><code class="docutils literal notranslate"><span class="pre">split_with_polygon()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.roof.html#dragonfly.roof.RoofSpecification.split_with_thick_line"><code class="docutils literal notranslate"><span class="pre">split_with_thick_line()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.roof.html#dragonfly.roof.RoofSpecification.split_with_thick_polyline"><code class="docutils literal notranslate"><span class="pre">split_with_thick_polyline()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.roof.html#dragonfly.roof.RoofSpecification.subtract_roofs"><code class="docutils literal notranslate"><span class="pre">subtract_roofs()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.roof.html#dragonfly.roof.RoofSpecification.to_dict"><code class="docutils literal notranslate"><span class="pre">to_dict()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.roof.html#dragonfly.roof.RoofSpecification.union_coplanar"><code class="docutils literal notranslate"><span class="pre">union_coplanar()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.roof.html#dragonfly.roof.RoofSpecification.update_geometry_2d"><code class="docutils literal notranslate"><span class="pre">update_geometry_2d()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.roof.html#dragonfly.roof.RoofSpecification.update_geometry_3d"><code class="docutils literal notranslate"><span class="pre">update_geometry_3d()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.roof.html#dragonfly.roof.RoofSpecification.altitudes"><code class="docutils literal notranslate"><span class="pre">altitudes</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.roof.html#dragonfly.roof.RoofSpecification.azimuths"><code class="docutils literal notranslate"><span class="pre">azimuths</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.roof.html#dragonfly.roof.RoofSpecification.boundary_geometry_2d"><code class="docutils literal notranslate"><span class="pre">boundary_geometry_2d</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.roof.html#dragonfly.roof.RoofSpecification.center_heights"><code class="docutils literal notranslate"><span class="pre">center_heights</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.roof.html#dragonfly.roof.RoofSpecification.geometry"><code class="docutils literal notranslate"><span class="pre">geometry</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.roof.html#dragonfly.roof.RoofSpecification.geometry_2d"><code class="docutils literal notranslate"><span class="pre">geometry_2d</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.roof.html#dragonfly.roof.RoofSpecification.has_parent"><code class="docutils literal notranslate"><span class="pre">has_parent</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.roof.html#dragonfly.roof.RoofSpecification.max"><code class="docutils literal notranslate"><span class="pre">max</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.roof.html#dragonfly.roof.RoofSpecification.max_height"><code class="docutils literal notranslate"><span class="pre">max_height</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.roof.html#dragonfly.roof.RoofSpecification.min"><code class="docutils literal notranslate"><span class="pre">min</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.roof.html#dragonfly.roof.RoofSpecification.min_height"><code class="docutils literal notranslate"><span class="pre">min_height</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.roof.html#dragonfly.roof.RoofSpecification.parent"><code class="docutils literal notranslate"><span class="pre">parent</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.roof.html#dragonfly.roof.RoofSpecification.planes"><code class="docutils literal notranslate"><span class="pre">planes</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.roof.html#dragonfly.roof.RoofSpecification.tilts"><code class="docutils literal notranslate"><span class="pre">tilts</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../dragonfly.room2d.html">dragonfly.room2d module</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D"><code class="docutils literal notranslate"><span class="pre">Room2D</span></code></a><ul>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.ToString"><code class="docutils literal notranslate"><span class="pre">ToString()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.add_prefix"><code class="docutils literal notranslate"><span class="pre">add_prefix()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.align"><code class="docutils literal notranslate"><span class="pre">align()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.apply_vertex_map"><code class="docutils literal notranslate"><span class="pre">apply_vertex_map()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.assign_sub_faces"><code class="docutils literal notranslate"><span class="pre">assign_sub_faces()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.automatically_zone"><code class="docutils literal notranslate"><span class="pre">automatically_zone()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.average_orientation"><code class="docutils literal notranslate"><span class="pre">average_orientation()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.check_degenerate"><code class="docutils literal notranslate"><span class="pre">check_degenerate()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.check_horizontal"><code class="docutils literal notranslate"><span class="pre">check_horizontal()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.check_plenum_depths"><code class="docutils literal notranslate"><span class="pre">check_plenum_depths()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.check_self_intersecting"><code class="docutils literal notranslate"><span class="pre">check_self_intersecting()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.check_window_parameters_valid"><code class="docutils literal notranslate"><span class="pre">check_window_parameters_valid()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.coordinate_room_2d_vertices"><code class="docutils literal notranslate"><span class="pre">coordinate_room_2d_vertices()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.coordinate_segment_vertices"><code class="docutils literal notranslate"><span class="pre">coordinate_segment_vertices()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.duplicate"><code class="docutils literal notranslate"><span class="pre">duplicate()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.find_adjacency"><code class="docutils literal notranslate"><span class="pre">find_adjacency()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.find_adjacency_by_guide_lines"><code class="docutils literal notranslate"><span class="pre">find_adjacency_by_guide_lines()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.find_adjacency_gaps"><code class="docutils literal notranslate"><span class="pre">find_adjacency_gaps()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.find_segment_adjacency"><code class="docutils literal notranslate"><span class="pre">find_segment_adjacency()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.floor_segment_by_index"><code class="docutils literal notranslate"><span class="pre">floor_segment_by_index()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.from_dict"><code class="docutils literal notranslate"><span class="pre">from_dict()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.from_honeybee"><code class="docutils literal notranslate"><span class="pre">from_honeybee()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.from_polygon"><code class="docutils literal notranslate"><span class="pre">from_polygon()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.from_vertices"><code class="docutils literal notranslate"><span class="pre">from_vertices()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.generate_alignment_axes"><code class="docutils literal notranslate"><span class="pre">generate_alignment_axes()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.generate_grid"><code class="docutils literal notranslate"><span class="pre">generate_grid()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.group_by_adjacency"><code class="docutils literal notranslate"><span class="pre">group_by_adjacency()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.group_by_air_boundary_adjacency"><code class="docutils literal notranslate"><span class="pre">group_by_air_boundary_adjacency()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.group_by_attribute"><code class="docutils literal notranslate"><span class="pre">group_by_attribute()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.group_by_floor_height"><code class="docutils literal notranslate"><span class="pre">group_by_floor_height()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.group_by_orientation"><code class="docutils literal notranslate"><span class="pre">group_by_orientation()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.grouped_horizontal_boundary"><code class="docutils literal notranslate"><span class="pre">grouped_horizontal_boundary()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.intersect_adjacency"><code class="docutils literal notranslate"><span class="pre">intersect_adjacency()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.join_by_boundary"><code class="docutils literal notranslate"><span class="pre">join_by_boundary()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.join_room_2ds"><code class="docutils literal notranslate"><span class="pre">join_room_2ds()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.join_to_neighbor"><code class="docutils literal notranslate"><span class="pre">join_to_neighbor()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.label_point"><code class="docutils literal notranslate"><span class="pre">label_point()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.make_skylights_flush"><code class="docutils literal notranslate"><span class="pre">make_skylights_flush()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.make_windows_flush"><code class="docutils literal notranslate"><span class="pre">make_windows_flush()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.move"><code class="docutils literal notranslate"><span class="pre">move()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.offset_skylights"><code class="docutils literal notranslate"><span class="pre">offset_skylights()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.offset_skylights_from_edges"><code class="docutils literal notranslate"><span class="pre">offset_skylights_from_edges()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.offset_windows"><code class="docutils literal notranslate"><span class="pre">offset_windows()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.overlap_area"><code class="docutils literal notranslate"><span class="pre">overlap_area()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.patch_missing_adjacencies"><code class="docutils literal notranslate"><span class="pre">patch_missing_adjacencies()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.pull_to_polygon"><code class="docutils literal notranslate"><span class="pre">pull_to_polygon()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.pull_to_polyline"><code class="docutils literal notranslate"><span class="pre">pull_to_polyline()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.pull_to_room_2d"><code class="docutils literal notranslate"><span class="pre">pull_to_room_2d()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.pull_to_segments"><code class="docutils literal notranslate"><span class="pre">pull_to_segments()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.rectangularize_windows"><code class="docutils literal notranslate"><span class="pre">rectangularize_windows()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.reflect"><code class="docutils literal notranslate"><span class="pre">reflect()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.relevant_roof_geometry"><code class="docutils literal notranslate"><span class="pre">relevant_roof_geometry()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.remove_colinear_vertices"><code class="docutils literal notranslate"><span class="pre">remove_colinear_vertices()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.remove_degenerate_holes"><code class="docutils literal notranslate"><span class="pre">remove_degenerate_holes()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.remove_doors"><code class="docutils literal notranslate"><span class="pre">remove_doors()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.remove_duplicate_vertices"><code class="docutils literal notranslate"><span class="pre">remove_duplicate_vertices()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.remove_short_segments"><code class="docutils literal notranslate"><span class="pre">remove_short_segments()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.remove_small_holes"><code class="docutils literal notranslate"><span class="pre">remove_small_holes()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.remove_small_skylights"><code class="docutils literal notranslate"><span class="pre">remove_small_skylights()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.remove_small_windows"><code class="docutils literal notranslate"><span class="pre">remove_small_windows()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.replace_floor_geometry"><code class="docutils literal notranslate"><span class="pre">replace_floor_geometry()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.reset_adjacency"><code class="docutils literal notranslate"><span class="pre">reset_adjacency()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.room_orientation_plane"><code class="docutils literal notranslate"><span class="pre">room_orientation_plane()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.rotate_xy"><code class="docutils literal notranslate"><span class="pre">rotate_xy()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.scale"><code class="docutils literal notranslate"><span class="pre">scale()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.segment_indices_by_guide_lines"><code class="docutils literal notranslate"><span class="pre">segment_indices_by_guide_lines()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.segment_orientations"><code class="docutils literal notranslate"><span class="pre">segment_orientations()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.separate_plenum"><code class="docutils literal notranslate"><span class="pre">separate_plenum()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.set_adjacency"><code class="docutils literal notranslate"><span class="pre">set_adjacency()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.set_air_boundary"><code class="docutils literal notranslate"><span class="pre">set_air_boundary()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.set_boundary_condition"><code class="docutils literal notranslate"><span class="pre">set_boundary_condition()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.set_outdoor_shading_parameters"><code class="docutils literal notranslate"><span class="pre">set_outdoor_shading_parameters()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.set_outdoor_window_parameters"><code class="docutils literal notranslate"><span class="pre">set_outdoor_window_parameters()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.set_window_parameter"><code class="docutils literal notranslate"><span class="pre">set_window_parameter()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.snap_to_grid"><code class="docutils literal notranslate"><span class="pre">snap_to_grid()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.snap_to_line_end_points"><code class="docutils literal notranslate"><span class="pre">snap_to_line_end_points()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.snap_to_points"><code class="docutils literal notranslate"><span class="pre">snap_to_points()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.solve_adjacency"><code class="docutils literal notranslate"><span class="pre">solve_adjacency()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.split_through_self_intersection"><code class="docutils literal notranslate"><span class="pre">split_through_self_intersection()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.split_with_line"><code class="docutils literal notranslate"><span class="pre">split_with_line()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.split_with_lines"><code class="docutils literal notranslate"><span class="pre">split_with_lines()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.split_with_polygon"><code class="docutils literal notranslate"><span class="pre">split_with_polygon()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.split_with_polyline"><code class="docutils literal notranslate"><span class="pre">split_with_polyline()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.split_with_thick_line"><code class="docutils literal notranslate"><span class="pre">split_with_thick_line()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.split_with_thick_polyline"><code class="docutils literal notranslate"><span class="pre">split_with_thick_polyline()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.subtract_room_2ds"><code class="docutils literal notranslate"><span class="pre">subtract_room_2ds()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.to_core_perimeter"><code class="docutils literal notranslate"><span class="pre">to_core_perimeter()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.to_detailed_windows"><code class="docutils literal notranslate"><span class="pre">to_detailed_windows()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.to_dict"><code class="docutils literal notranslate"><span class="pre">to_dict()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.to_honeybee"><code class="docutils literal notranslate"><span class="pre">to_honeybee()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.to_rectangular_windows"><code class="docutils literal notranslate"><span class="pre">to_rectangular_windows()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.unconforming_vertex_map"><code class="docutils literal notranslate"><span class="pre">unconforming_vertex_map()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.update_floor_geometry"><code class="docutils literal notranslate"><span class="pre">update_floor_geometry()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.air_boundaries"><code class="docutils literal notranslate"><span class="pre">air_boundaries</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.boundary_conditions"><code class="docutils literal notranslate"><span class="pre">boundary_conditions</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.ceiling_elevation"><code class="docutils literal notranslate"><span class="pre">ceiling_elevation</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.ceiling_height"><code class="docutils literal notranslate"><span class="pre">ceiling_height</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.ceiling_plenum_depth"><code class="docutils literal notranslate"><span class="pre">ceiling_plenum_depth</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.center"><code class="docutils literal notranslate"><span class="pre">center</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.display_name"><code class="docutils literal notranslate"><span class="pre">display_name</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.exterior_aperture_area"><code class="docutils literal notranslate"><span class="pre">exterior_aperture_area</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.exterior_wall_area"><code class="docutils literal notranslate"><span class="pre">exterior_wall_area</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.exterior_window_area"><code class="docutils literal notranslate"><span class="pre">exterior_window_area</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.floor_area"><code class="docutils literal notranslate"><span class="pre">floor_area</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.floor_elevation"><code class="docutils literal notranslate"><span class="pre">floor_elevation</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.floor_geometry"><code class="docutils literal notranslate"><span class="pre">floor_geometry</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.floor_height"><code class="docutils literal notranslate"><span class="pre">floor_height</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.floor_plenum_depth"><code class="docutils literal notranslate"><span class="pre">floor_plenum_depth</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.floor_segments"><code class="docutils literal notranslate"><span class="pre">floor_segments</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.floor_segments_2d"><code class="docutils literal notranslate"><span class="pre">floor_segments_2d</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.floor_to_ceiling_height"><code class="docutils literal notranslate"><span class="pre">floor_to_ceiling_height</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.full_id"><code class="docutils literal notranslate"><span class="pre">full_id</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.has_ceiling"><code class="docutils literal notranslate"><span class="pre">has_ceiling</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.has_floor"><code class="docutils literal notranslate"><span class="pre">has_floor</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.has_parent"><code class="docutils literal notranslate"><span class="pre">has_parent</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.highest_plenum_floor_height"><code class="docutils literal notranslate"><span class="pre">highest_plenum_floor_height</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.identifier"><code class="docutils literal notranslate"><span class="pre">identifier</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.interior_wall_area"><code class="docutils literal notranslate"><span class="pre">interior_wall_area</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.is_core"><code class="docutils literal notranslate"><span class="pre">is_core</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.is_ground_contact"><code class="docutils literal notranslate"><span class="pre">is_ground_contact</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.is_perimeter"><code class="docutils literal notranslate"><span class="pre">is_perimeter</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.is_top_exposed"><code class="docutils literal notranslate"><span class="pre">is_top_exposed</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.max"><code class="docutils literal notranslate"><span class="pre">max</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.min"><code class="docutils literal notranslate"><span class="pre">min</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.parent"><code class="docutils literal notranslate"><span class="pre">parent</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.properties"><code class="docutils literal notranslate"><span class="pre">properties</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.roof_sub_face_area"><code class="docutils literal notranslate"><span class="pre">roof_sub_face_area</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.segment_count"><code class="docutils literal notranslate"><span class="pre">segment_count</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.segment_normals"><code class="docutils literal notranslate"><span class="pre">segment_normals</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.shading_parameters"><code class="docutils literal notranslate"><span class="pre">shading_parameters</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.skylight_area"><code class="docutils literal notranslate"><span class="pre">skylight_area</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.skylight_parameters"><code class="docutils literal notranslate"><span class="pre">skylight_parameters</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.sub_face_area"><code class="docutils literal notranslate"><span class="pre">sub_face_area</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.to"><code class="docutils literal notranslate"><span class="pre">to</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.user_data"><code class="docutils literal notranslate"><span class="pre">user_data</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.volume"><code class="docutils literal notranslate"><span class="pre">volume</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.wall_sub_face_area"><code class="docutils literal notranslate"><span class="pre">wall_sub_face_area</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.window_parameters"><code class="docutils literal notranslate"><span class="pre">window_parameters</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.zone"><code class="docutils literal notranslate"><span class="pre">zone</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../dragonfly.shadingparameter.html">dragonfly.shadingparameter module</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../dragonfly.shadingparameter.html#dragonfly.shadingparameter.ExtrudedBorder"><code class="docutils literal notranslate"><span class="pre">ExtrudedBorder</span></code></a><ul>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.shadingparameter.html#dragonfly.shadingparameter.ExtrudedBorder.ToString"><code class="docutils literal notranslate"><span class="pre">ToString()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.shadingparameter.html#dragonfly.shadingparameter.ExtrudedBorder.add_shading_to_face"><code class="docutils literal notranslate"><span class="pre">add_shading_to_face()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.shadingparameter.html#dragonfly.shadingparameter.ExtrudedBorder.duplicate"><code class="docutils literal notranslate"><span class="pre">duplicate()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.shadingparameter.html#dragonfly.shadingparameter.ExtrudedBorder.from_dict"><code class="docutils literal notranslate"><span class="pre">from_dict()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.shadingparameter.html#dragonfly.shadingparameter.ExtrudedBorder.scale"><code class="docutils literal notranslate"><span class="pre">scale()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.shadingparameter.html#dragonfly.shadingparameter.ExtrudedBorder.to_dict"><code class="docutils literal notranslate"><span class="pre">to_dict()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.shadingparameter.html#dragonfly.shadingparameter.ExtrudedBorder.depth"><code class="docutils literal notranslate"><span class="pre">depth</span></code></a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="../../dragonfly.shadingparameter.html#dragonfly.shadingparameter.LouversByCount"><code class="docutils literal notranslate"><span class="pre">LouversByCount</span></code></a><ul>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.shadingparameter.html#dragonfly.shadingparameter.LouversByCount.ToString"><code class="docutils literal notranslate"><span class="pre">ToString()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.shadingparameter.html#dragonfly.shadingparameter.LouversByCount.add_shading_to_face"><code class="docutils literal notranslate"><span class="pre">add_shading_to_face()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.shadingparameter.html#dragonfly.shadingparameter.LouversByCount.duplicate"><code class="docutils literal notranslate"><span class="pre">duplicate()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.shadingparameter.html#dragonfly.shadingparameter.LouversByCount.from_dict"><code class="docutils literal notranslate"><span class="pre">from_dict()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.shadingparameter.html#dragonfly.shadingparameter.LouversByCount.scale"><code class="docutils literal notranslate"><span class="pre">scale()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.shadingparameter.html#dragonfly.shadingparameter.LouversByCount.to_dict"><code class="docutils literal notranslate"><span class="pre">to_dict()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.shadingparameter.html#dragonfly.shadingparameter.LouversByCount.angle"><code class="docutils literal notranslate"><span class="pre">angle</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.shadingparameter.html#dragonfly.shadingparameter.LouversByCount.contour_vector"><code class="docutils literal notranslate"><span class="pre">contour_vector</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.shadingparameter.html#dragonfly.shadingparameter.LouversByCount.depth"><code class="docutils literal notranslate"><span class="pre">depth</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.shadingparameter.html#dragonfly.shadingparameter.LouversByCount.flip_start_side"><code class="docutils literal notranslate"><span class="pre">flip_start_side</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.shadingparameter.html#dragonfly.shadingparameter.LouversByCount.louver_count"><code class="docutils literal notranslate"><span class="pre">louver_count</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.shadingparameter.html#dragonfly.shadingparameter.LouversByCount.offset"><code class="docutils literal notranslate"><span class="pre">offset</span></code></a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="../../dragonfly.shadingparameter.html#dragonfly.shadingparameter.LouversByDistance"><code class="docutils literal notranslate"><span class="pre">LouversByDistance</span></code></a><ul>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.shadingparameter.html#dragonfly.shadingparameter.LouversByDistance.ToString"><code class="docutils literal notranslate"><span class="pre">ToString()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.shadingparameter.html#dragonfly.shadingparameter.LouversByDistance.add_shading_to_face"><code class="docutils literal notranslate"><span class="pre">add_shading_to_face()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.shadingparameter.html#dragonfly.shadingparameter.LouversByDistance.duplicate"><code class="docutils literal notranslate"><span class="pre">duplicate()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.shadingparameter.html#dragonfly.shadingparameter.LouversByDistance.from_dict"><code class="docutils literal notranslate"><span class="pre">from_dict()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.shadingparameter.html#dragonfly.shadingparameter.LouversByDistance.scale"><code class="docutils literal notranslate"><span class="pre">scale()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.shadingparameter.html#dragonfly.shadingparameter.LouversByDistance.to_dict"><code class="docutils literal notranslate"><span class="pre">to_dict()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.shadingparameter.html#dragonfly.shadingparameter.LouversByDistance.angle"><code class="docutils literal notranslate"><span class="pre">angle</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.shadingparameter.html#dragonfly.shadingparameter.LouversByDistance.contour_vector"><code class="docutils literal notranslate"><span class="pre">contour_vector</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.shadingparameter.html#dragonfly.shadingparameter.LouversByDistance.depth"><code class="docutils literal notranslate"><span class="pre">depth</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.shadingparameter.html#dragonfly.shadingparameter.LouversByDistance.distance"><code class="docutils literal notranslate"><span class="pre">distance</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.shadingparameter.html#dragonfly.shadingparameter.LouversByDistance.flip_start_side"><code class="docutils literal notranslate"><span class="pre">flip_start_side</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.shadingparameter.html#dragonfly.shadingparameter.LouversByDistance.offset"><code class="docutils literal notranslate"><span class="pre">offset</span></code></a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="../../dragonfly.shadingparameter.html#dragonfly.shadingparameter.Overhang"><code class="docutils literal notranslate"><span class="pre">Overhang</span></code></a><ul>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.shadingparameter.html#dragonfly.shadingparameter.Overhang.ToString"><code class="docutils literal notranslate"><span class="pre">ToString()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.shadingparameter.html#dragonfly.shadingparameter.Overhang.add_shading_to_face"><code class="docutils literal notranslate"><span class="pre">add_shading_to_face()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.shadingparameter.html#dragonfly.shadingparameter.Overhang.duplicate"><code class="docutils literal notranslate"><span class="pre">duplicate()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.shadingparameter.html#dragonfly.shadingparameter.Overhang.from_dict"><code class="docutils literal notranslate"><span class="pre">from_dict()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.shadingparameter.html#dragonfly.shadingparameter.Overhang.scale"><code class="docutils literal notranslate"><span class="pre">scale()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.shadingparameter.html#dragonfly.shadingparameter.Overhang.to_dict"><code class="docutils literal notranslate"><span class="pre">to_dict()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.shadingparameter.html#dragonfly.shadingparameter.Overhang.angle"><code class="docutils literal notranslate"><span class="pre">angle</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.shadingparameter.html#dragonfly.shadingparameter.Overhang.depth"><code class="docutils literal notranslate"><span class="pre">depth</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../dragonfly.skylightparameter.html">dragonfly.skylightparameter module</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../dragonfly.skylightparameter.html#dragonfly.skylightparameter.DetailedSkylights"><code class="docutils literal notranslate"><span class="pre">DetailedSkylights</span></code></a><ul>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.skylightparameter.html#dragonfly.skylightparameter.DetailedSkylights.ToString"><code class="docutils literal notranslate"><span class="pre">ToString()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.skylightparameter.html#dragonfly.skylightparameter.DetailedSkylights.add_skylight_to_face"><code class="docutils literal notranslate"><span class="pre">add_skylight_to_face()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.skylightparameter.html#dragonfly.skylightparameter.DetailedSkylights.aperture_area_from_face"><code class="docutils literal notranslate"><span class="pre">aperture_area_from_face()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.skylightparameter.html#dragonfly.skylightparameter.DetailedSkylights.area_from_face"><code class="docutils literal notranslate"><span class="pre">area_from_face()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.skylightparameter.html#dragonfly.skylightparameter.DetailedSkylights.check_overlaps"><code class="docutils literal notranslate"><span class="pre">check_overlaps()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.skylightparameter.html#dragonfly.skylightparameter.DetailedSkylights.check_self_intersecting"><code class="docutils literal notranslate"><span class="pre">check_self_intersecting()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.skylightparameter.html#dragonfly.skylightparameter.DetailedSkylights.check_valid_for_face"><code class="docutils literal notranslate"><span class="pre">check_valid_for_face()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.skylightparameter.html#dragonfly.skylightparameter.DetailedSkylights.duplicate"><code class="docutils literal notranslate"><span class="pre">duplicate()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.skylightparameter.html#dragonfly.skylightparameter.DetailedSkylights.from_dict"><code class="docutils literal notranslate"><span class="pre">from_dict()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.skylightparameter.html#dragonfly.skylightparameter.DetailedSkylights.from_honeybee"><code class="docutils literal notranslate"><span class="pre">from_honeybee()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.skylightparameter.html#dragonfly.skylightparameter.DetailedSkylights.invalid_face_geometries"><code class="docutils literal notranslate"><span class="pre">invalid_face_geometries()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.skylightparameter.html#dragonfly.skylightparameter.DetailedSkylights.make_flush"><code class="docutils literal notranslate"><span class="pre">make_flush()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.skylightparameter.html#dragonfly.skylightparameter.DetailedSkylights.merge_and_simplify"><code class="docutils literal notranslate"><span class="pre">merge_and_simplify()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.skylightparameter.html#dragonfly.skylightparameter.DetailedSkylights.merge_to_bounding_rectangle"><code class="docutils literal notranslate"><span class="pre">merge_to_bounding_rectangle()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.skylightparameter.html#dragonfly.skylightparameter.DetailedSkylights.move"><code class="docutils literal notranslate"><span class="pre">move()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.skylightparameter.html#dragonfly.skylightparameter.DetailedSkylights.offset"><code class="docutils literal notranslate"><span class="pre">offset()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.skylightparameter.html#dragonfly.skylightparameter.DetailedSkylights.offset_polygons_for_face"><code class="docutils literal notranslate"><span class="pre">offset_polygons_for_face()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.skylightparameter.html#dragonfly.skylightparameter.DetailedSkylights.overlapping_geometries"><code class="docutils literal notranslate"><span class="pre">overlapping_geometries()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.skylightparameter.html#dragonfly.skylightparameter.DetailedSkylights.rectangularize"><code class="docutils literal notranslate"><span class="pre">rectangularize()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.skylightparameter.html#dragonfly.skylightparameter.DetailedSkylights.reflect"><code class="docutils literal notranslate"><span class="pre">reflect()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.skylightparameter.html#dragonfly.skylightparameter.DetailedSkylights.remove_doors"><code class="docutils literal notranslate"><span class="pre">remove_doors()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.skylightparameter.html#dragonfly.skylightparameter.DetailedSkylights.remove_duplicate_skylights"><code class="docutils literal notranslate"><span class="pre">remove_duplicate_skylights()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.skylightparameter.html#dragonfly.skylightparameter.DetailedSkylights.remove_self_intersecting"><code class="docutils literal notranslate"><span class="pre">remove_self_intersecting()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.skylightparameter.html#dragonfly.skylightparameter.DetailedSkylights.remove_small_skylights"><code class="docutils literal notranslate"><span class="pre">remove_small_skylights()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.skylightparameter.html#dragonfly.skylightparameter.DetailedSkylights.remove_windows"><code class="docutils literal notranslate"><span class="pre">remove_windows()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.skylightparameter.html#dragonfly.skylightparameter.DetailedSkylights.rotate"><code class="docutils literal notranslate"><span class="pre">rotate()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.skylightparameter.html#dragonfly.skylightparameter.DetailedSkylights.scale"><code class="docutils literal notranslate"><span class="pre">scale()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.skylightparameter.html#dragonfly.skylightparameter.DetailedSkylights.self_intersecting_geometries"><code class="docutils literal notranslate"><span class="pre">self_intersecting_geometries()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.skylightparameter.html#dragonfly.skylightparameter.DetailedSkylights.split"><code class="docutils literal notranslate"><span class="pre">split()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.skylightparameter.html#dragonfly.skylightparameter.DetailedSkylights.to_dict"><code class="docutils literal notranslate"><span class="pre">to_dict()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.skylightparameter.html#dragonfly.skylightparameter.DetailedSkylights.union_overlaps"><code class="docutils literal notranslate"><span class="pre">union_overlaps()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.skylightparameter.html#dragonfly.skylightparameter.DetailedSkylights.are_doors"><code class="docutils literal notranslate"><span class="pre">are_doors</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.skylightparameter.html#dragonfly.skylightparameter.DetailedSkylights.polygons"><code class="docutils literal notranslate"><span class="pre">polygons</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.skylightparameter.html#dragonfly.skylightparameter.DetailedSkylights.user_data"><code class="docutils literal notranslate"><span class="pre">user_data</span></code></a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="../../dragonfly.skylightparameter.html#dragonfly.skylightparameter.GriddedSkylightArea"><code class="docutils literal notranslate"><span class="pre">GriddedSkylightArea</span></code></a><ul>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.skylightparameter.html#dragonfly.skylightparameter.GriddedSkylightArea.ToString"><code class="docutils literal notranslate"><span class="pre">ToString()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.skylightparameter.html#dragonfly.skylightparameter.GriddedSkylightArea.add_skylight_to_face"><code class="docutils literal notranslate"><span class="pre">add_skylight_to_face()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.skylightparameter.html#dragonfly.skylightparameter.GriddedSkylightArea.area_from_face"><code class="docutils literal notranslate"><span class="pre">area_from_face()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.skylightparameter.html#dragonfly.skylightparameter.GriddedSkylightArea.duplicate"><code class="docutils literal notranslate"><span class="pre">duplicate()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.skylightparameter.html#dragonfly.skylightparameter.GriddedSkylightArea.from_dict"><code class="docutils literal notranslate"><span class="pre">from_dict()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.skylightparameter.html#dragonfly.skylightparameter.GriddedSkylightArea.scale"><code class="docutils literal notranslate"><span class="pre">scale()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.skylightparameter.html#dragonfly.skylightparameter.GriddedSkylightArea.split"><code class="docutils literal notranslate"><span class="pre">split()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.skylightparameter.html#dragonfly.skylightparameter.GriddedSkylightArea.to_dict"><code class="docutils literal notranslate"><span class="pre">to_dict()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.skylightparameter.html#dragonfly.skylightparameter.GriddedSkylightArea.skylight_area"><code class="docutils literal notranslate"><span class="pre">skylight_area</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.skylightparameter.html#dragonfly.skylightparameter.GriddedSkylightArea.spacing"><code class="docutils literal notranslate"><span class="pre">spacing</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.skylightparameter.html#dragonfly.skylightparameter.GriddedSkylightArea.user_data"><code class="docutils literal notranslate"><span class="pre">user_data</span></code></a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="../../dragonfly.skylightparameter.html#dragonfly.skylightparameter.GriddedSkylightRatio"><code class="docutils literal notranslate"><span class="pre">GriddedSkylightRatio</span></code></a><ul>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.skylightparameter.html#dragonfly.skylightparameter.GriddedSkylightRatio.ToString"><code class="docutils literal notranslate"><span class="pre">ToString()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.skylightparameter.html#dragonfly.skylightparameter.GriddedSkylightRatio.add_skylight_to_face"><code class="docutils literal notranslate"><span class="pre">add_skylight_to_face()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.skylightparameter.html#dragonfly.skylightparameter.GriddedSkylightRatio.area_from_face"><code class="docutils literal notranslate"><span class="pre">area_from_face()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.skylightparameter.html#dragonfly.skylightparameter.GriddedSkylightRatio.duplicate"><code class="docutils literal notranslate"><span class="pre">duplicate()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.skylightparameter.html#dragonfly.skylightparameter.GriddedSkylightRatio.from_dict"><code class="docutils literal notranslate"><span class="pre">from_dict()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.skylightparameter.html#dragonfly.skylightparameter.GriddedSkylightRatio.scale"><code class="docutils literal notranslate"><span class="pre">scale()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.skylightparameter.html#dragonfly.skylightparameter.GriddedSkylightRatio.split"><code class="docutils literal notranslate"><span class="pre">split()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.skylightparameter.html#dragonfly.skylightparameter.GriddedSkylightRatio.to_dict"><code class="docutils literal notranslate"><span class="pre">to_dict()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.skylightparameter.html#dragonfly.skylightparameter.GriddedSkylightRatio.skylight_ratio"><code class="docutils literal notranslate"><span class="pre">skylight_ratio</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.skylightparameter.html#dragonfly.skylightparameter.GriddedSkylightRatio.spacing"><code class="docutils literal notranslate"><span class="pre">spacing</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.skylightparameter.html#dragonfly.skylightparameter.GriddedSkylightRatio.user_data"><code class="docutils literal notranslate"><span class="pre">user_data</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../dragonfly.story.html">dragonfly.story module</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story"><code class="docutils literal notranslate"><span class="pre">Story</span></code></a><ul>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.ToString"><code class="docutils literal notranslate"><span class="pre">ToString()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.add_prefix"><code class="docutils literal notranslate"><span class="pre">add_prefix()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.add_room_2d"><code class="docutils literal notranslate"><span class="pre">add_room_2d()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.add_room_2ds"><code class="docutils literal notranslate"><span class="pre">add_room_2ds()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.align"><code class="docutils literal notranslate"><span class="pre">align()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.align_room_2ds"><code class="docutils literal notranslate"><span class="pre">align_room_2ds()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.automatically_zone"><code class="docutils literal notranslate"><span class="pre">automatically_zone()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.check_collision_with_story"><code class="docutils literal notranslate"><span class="pre">check_collision_with_story()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.check_missing_adjacencies"><code class="docutils literal notranslate"><span class="pre">check_missing_adjacencies()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.check_no_roof_overlaps"><code class="docutils literal notranslate"><span class="pre">check_no_roof_overlaps()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.check_no_room2d_overlaps"><code class="docutils literal notranslate"><span class="pre">check_no_room2d_overlaps()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.check_roofs_above_rooms"><code class="docutils literal notranslate"><span class="pre">check_roofs_above_rooms()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.check_room2d_floor_heights_valid"><code class="docutils literal notranslate"><span class="pre">check_room2d_floor_heights_valid()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.delete_degenerate_room_2ds"><code class="docutils literal notranslate"><span class="pre">delete_degenerate_room_2ds()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.duplicate"><code class="docutils literal notranslate"><span class="pre">duplicate()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.fill_holes"><code class="docutils literal notranslate"><span class="pre">fill_holes()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.floor_geometry"><code class="docutils literal notranslate"><span class="pre">floor_geometry()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.footprint"><code class="docutils literal notranslate"><span class="pre">footprint()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.from_dict"><code class="docutils literal notranslate"><span class="pre">from_dict()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.from_honeybee"><code class="docutils literal notranslate"><span class="pre">from_honeybee()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.generate_grid"><code class="docutils literal notranslate"><span class="pre">generate_grid()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.intersect_room_2d_adjacency"><code class="docutils literal notranslate"><span class="pre">intersect_room_2d_adjacency()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.join_room_2ds"><code class="docutils literal notranslate"><span class="pre">join_room_2ds()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.join_small_room_2ds"><code class="docutils literal notranslate"><span class="pre">join_small_room_2ds()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.make_aboveground"><code class="docutils literal notranslate"><span class="pre">make_aboveground()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.make_underground"><code class="docutils literal notranslate"><span class="pre">make_underground()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.move"><code class="docutils literal notranslate"><span class="pre">move()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.outline_polylines"><code class="docutils literal notranslate"><span class="pre">outline_polylines()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.outline_segments"><code class="docutils literal notranslate"><span class="pre">outline_segments()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.patch_missing_adjacencies"><code class="docutils literal notranslate"><span class="pre">patch_missing_adjacencies()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.rebuild_detailed_windows"><code class="docutils literal notranslate"><span class="pre">rebuild_detailed_windows()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.reflect"><code class="docutils literal notranslate"><span class="pre">reflect()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.remove_room_2d_colinear_vertices"><code class="docutils literal notranslate"><span class="pre">remove_room_2d_colinear_vertices()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.remove_room_2d_duplicate_vertices"><code class="docutils literal notranslate"><span class="pre">remove_room_2d_duplicate_vertices()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.remove_room_2d_short_segments"><code class="docutils literal notranslate"><span class="pre">remove_room_2d_short_segments()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.reset_adjacency"><code class="docutils literal notranslate"><span class="pre">reset_adjacency()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.reset_room_2d_boundaries"><code class="docutils literal notranslate"><span class="pre">reset_room_2d_boundaries()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.room_2d_story_geometry_valid"><code class="docutils literal notranslate"><span class="pre">room_2d_story_geometry_valid()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.room_by_identifier"><code class="docutils literal notranslate"><span class="pre">room_by_identifier()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.rooms_by_identifier"><code class="docutils literal notranslate"><span class="pre">rooms_by_identifier()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.rotate_xy"><code class="docutils literal notranslate"><span class="pre">rotate_xy()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.scale"><code class="docutils literal notranslate"><span class="pre">scale()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.set_adjacent_air_boundary"><code class="docutils literal notranslate"><span class="pre">set_adjacent_air_boundary()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.set_ground_contact"><code class="docutils literal notranslate"><span class="pre">set_ground_contact()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.set_ground_contact_by_story_below"><code class="docutils literal notranslate"><span class="pre">set_ground_contact_by_story_below()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.set_outdoor_shading_parameters"><code class="docutils literal notranslate"><span class="pre">set_outdoor_shading_parameters()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.set_outdoor_window_parameters"><code class="docutils literal notranslate"><span class="pre">set_outdoor_window_parameters()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.set_top_exposed"><code class="docutils literal notranslate"><span class="pre">set_top_exposed()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.set_top_exposed_by_story_above"><code class="docutils literal notranslate"><span class="pre">set_top_exposed_by_story_above()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.shade_representation"><code class="docutils literal notranslate"><span class="pre">shade_representation()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.shade_representation_multiplier"><code class="docutils literal notranslate"><span class="pre">shade_representation_multiplier()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.solve_room_2d_adjacency"><code class="docutils literal notranslate"><span class="pre">solve_room_2d_adjacency()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.split_with_story_above"><code class="docutils literal notranslate"><span class="pre">split_with_story_above()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.suggested_alignment_axes"><code class="docutils literal notranslate"><span class="pre">suggested_alignment_axes()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.to_dict"><code class="docutils literal notranslate"><span class="pre">to_dict()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.to_honeybee"><code class="docutils literal notranslate"><span class="pre">to_honeybee()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.to_rectangular_windows"><code class="docutils literal notranslate"><span class="pre">to_rectangular_windows()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.STORY_TYPES"><code class="docutils literal notranslate"><span class="pre">STORY_TYPES</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.display_name"><code class="docutils literal notranslate"><span class="pre">display_name</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.exterior_aperture_area"><code class="docutils literal notranslate"><span class="pre">exterior_aperture_area</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.exterior_wall_area"><code class="docutils literal notranslate"><span class="pre">exterior_wall_area</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.floor_area"><code class="docutils literal notranslate"><span class="pre">floor_area</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.floor_height"><code class="docutils literal notranslate"><span class="pre">floor_height</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.floor_to_floor_height"><code class="docutils literal notranslate"><span class="pre">floor_to_floor_height</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.full_id"><code class="docutils literal notranslate"><span class="pre">full_id</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.has_parent"><code class="docutils literal notranslate"><span class="pre">has_parent</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.has_plenums"><code class="docutils literal notranslate"><span class="pre">has_plenums</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.has_zones"><code class="docutils literal notranslate"><span class="pre">has_zones</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.highest_plenum_floor_height"><code class="docutils literal notranslate"><span class="pre">highest_plenum_floor_height</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.identifier"><code class="docutils literal notranslate"><span class="pre">identifier</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.is_above_ground"><code class="docutils literal notranslate"><span class="pre">is_above_ground</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.is_plenum"><code class="docutils literal notranslate"><span class="pre">is_plenum</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.max"><code class="docutils literal notranslate"><span class="pre">max</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.max_room_2d_ceiling_height"><code class="docutils literal notranslate"><span class="pre">max_room_2d_ceiling_height</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.median_room2d_floor_height"><code class="docutils literal notranslate"><span class="pre">median_room2d_floor_height</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.min"><code class="docutils literal notranslate"><span class="pre">min</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.min_room_2d_floor_height"><code class="docutils literal notranslate"><span class="pre">min_room_2d_floor_height</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.multiplier"><code class="docutils literal notranslate"><span class="pre">multiplier</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.parent"><code class="docutils literal notranslate"><span class="pre">parent</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.properties"><code class="docutils literal notranslate"><span class="pre">properties</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.roof"><code class="docutils literal notranslate"><span class="pre">roof</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.room_2ds"><code class="docutils literal notranslate"><span class="pre">room_2ds</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.sub_face_area"><code class="docutils literal notranslate"><span class="pre">sub_face_area</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.to"><code class="docutils literal notranslate"><span class="pre">to</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.type"><code class="docutils literal notranslate"><span class="pre">type</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.user_data"><code class="docutils literal notranslate"><span class="pre">user_data</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.volume"><code class="docutils literal notranslate"><span class="pre">volume</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.zone_dict"><code class="docutils literal notranslate"><span class="pre">zone_dict</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../dragonfly.subdivide.html">dragonfly.subdivide module</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../dragonfly.subdivide.html#dragonfly.subdivide.interpret_core_perimeter_subdivide"><code class="docutils literal notranslate"><span class="pre">interpret_core_perimeter_subdivide()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../dragonfly.subdivide.html#dragonfly.subdivide.interpret_floor_height_subdivide"><code class="docutils literal notranslate"><span class="pre">interpret_floor_height_subdivide()</span></code></a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../dragonfly.windowparameter.html">dragonfly.windowparameter module</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.DetailedWindows"><code class="docutils literal notranslate"><span class="pre">DetailedWindows</span></code></a><ul>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.DetailedWindows.ToString"><code class="docutils literal notranslate"><span class="pre">ToString()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.DetailedWindows.add_window_to_face"><code class="docutils literal notranslate"><span class="pre">add_window_to_face()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.DetailedWindows.adjust_for_segment"><code class="docutils literal notranslate"><span class="pre">adjust_for_segment()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.DetailedWindows.aperture_area_from_segment"><code class="docutils literal notranslate"><span class="pre">aperture_area_from_segment()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.DetailedWindows.area_from_segment"><code class="docutils literal notranslate"><span class="pre">area_from_segment()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.DetailedWindows.check_self_intersecting"><code class="docutils literal notranslate"><span class="pre">check_self_intersecting()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.DetailedWindows.check_valid_for_segment"><code class="docutils literal notranslate"><span class="pre">check_valid_for_segment()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.DetailedWindows.check_window_overlaps"><code class="docutils literal notranslate"><span class="pre">check_window_overlaps()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.DetailedWindows.duplicate"><code class="docutils literal notranslate"><span class="pre">duplicate()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.DetailedWindows.flip"><code class="docutils literal notranslate"><span class="pre">flip()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.DetailedWindows.from_dict"><code class="docutils literal notranslate"><span class="pre">from_dict()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.DetailedWindows.from_face3ds"><code class="docutils literal notranslate"><span class="pre">from_face3ds()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.DetailedWindows.is_face3d_in_segment_plane"><code class="docutils literal notranslate"><span class="pre">is_face3d_in_segment_plane()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.DetailedWindows.is_flipped_equivalent"><code class="docutils literal notranslate"><span class="pre">is_flipped_equivalent()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.DetailedWindows.make_flush"><code class="docutils literal notranslate"><span class="pre">make_flush()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.DetailedWindows.merge"><code class="docutils literal notranslate"><span class="pre">merge()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.DetailedWindows.merge_and_simplify"><code class="docutils literal notranslate"><span class="pre">merge_and_simplify()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.DetailedWindows.merge_to_bounding_rectangle"><code class="docutils literal notranslate"><span class="pre">merge_to_bounding_rectangle()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.DetailedWindows.merge_to_rectangular"><code class="docutils literal notranslate"><span class="pre">merge_to_rectangular()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.DetailedWindows.offset"><code class="docutils literal notranslate"><span class="pre">offset()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.DetailedWindows.overlapping_geometries"><code class="docutils literal notranslate"><span class="pre">overlapping_geometries()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.DetailedWindows.rectangularize"><code class="docutils literal notranslate"><span class="pre">rectangularize()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.DetailedWindows.remove_doors"><code class="docutils literal notranslate"><span class="pre">remove_doors()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.DetailedWindows.remove_duplicate_windows"><code class="docutils literal notranslate"><span class="pre">remove_duplicate_windows()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.DetailedWindows.remove_small_windows"><code class="docutils literal notranslate"><span class="pre">remove_small_windows()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.DetailedWindows.remove_windows"><code class="docutils literal notranslate"><span class="pre">remove_windows()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.DetailedWindows.scale"><code class="docutils literal notranslate"><span class="pre">scale()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.DetailedWindows.self_intersecting_geometries"><code class="docutils literal notranslate"><span class="pre">self_intersecting_geometries()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.DetailedWindows.shift_horizontally"><code class="docutils literal notranslate"><span class="pre">shift_horizontally()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.DetailedWindows.shift_vertically"><code class="docutils literal notranslate"><span class="pre">shift_vertically()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.DetailedWindows.split"><code class="docutils literal notranslate"><span class="pre">split()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.DetailedWindows.to_dict"><code class="docutils literal notranslate"><span class="pre">to_dict()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.DetailedWindows.to_rectangular_windows"><code class="docutils literal notranslate"><span class="pre">to_rectangular_windows()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.DetailedWindows.trim"><code class="docutils literal notranslate"><span class="pre">trim()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.DetailedWindows.union_overlaps"><code class="docutils literal notranslate"><span class="pre">union_overlaps()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.DetailedWindows.are_doors"><code class="docutils literal notranslate"><span class="pre">are_doors</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.DetailedWindows.polygons"><code class="docutils literal notranslate"><span class="pre">polygons</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.DetailedWindows.user_data"><code class="docutils literal notranslate"><span class="pre">user_data</span></code></a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RectangularWindows"><code class="docutils literal notranslate"><span class="pre">RectangularWindows</span></code></a><ul>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RectangularWindows.ToString"><code class="docutils literal notranslate"><span class="pre">ToString()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RectangularWindows.add_window_to_face"><code class="docutils literal notranslate"><span class="pre">add_window_to_face()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RectangularWindows.adjust_for_segment"><code class="docutils literal notranslate"><span class="pre">adjust_for_segment()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RectangularWindows.aperture_area_from_segment"><code class="docutils literal notranslate"><span class="pre">aperture_area_from_segment()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RectangularWindows.area_from_segment"><code class="docutils literal notranslate"><span class="pre">area_from_segment()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RectangularWindows.check_valid_for_segment"><code class="docutils literal notranslate"><span class="pre">check_valid_for_segment()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RectangularWindows.check_window_overlaps"><code class="docutils literal notranslate"><span class="pre">check_window_overlaps()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RectangularWindows.duplicate"><code class="docutils literal notranslate"><span class="pre">duplicate()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RectangularWindows.flip"><code class="docutils literal notranslate"><span class="pre">flip()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RectangularWindows.from_dict"><code class="docutils literal notranslate"><span class="pre">from_dict()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RectangularWindows.merge"><code class="docutils literal notranslate"><span class="pre">merge()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RectangularWindows.merge_to_rectangular"><code class="docutils literal notranslate"><span class="pre">merge_to_rectangular()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RectangularWindows.offset"><code class="docutils literal notranslate"><span class="pre">offset()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RectangularWindows.remove_doors"><code class="docutils literal notranslate"><span class="pre">remove_doors()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RectangularWindows.remove_duplicate_windows"><code class="docutils literal notranslate"><span class="pre">remove_duplicate_windows()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RectangularWindows.remove_small_windows"><code class="docutils literal notranslate"><span class="pre">remove_small_windows()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RectangularWindows.remove_windows"><code class="docutils literal notranslate"><span class="pre">remove_windows()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RectangularWindows.scale"><code class="docutils literal notranslate"><span class="pre">scale()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RectangularWindows.shift_horizontally"><code class="docutils literal notranslate"><span class="pre">shift_horizontally()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RectangularWindows.shift_vertically"><code class="docutils literal notranslate"><span class="pre">shift_vertically()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RectangularWindows.split"><code class="docutils literal notranslate"><span class="pre">split()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RectangularWindows.to_detailed_windows"><code class="docutils literal notranslate"><span class="pre">to_detailed_windows()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RectangularWindows.to_dict"><code class="docutils literal notranslate"><span class="pre">to_dict()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RectangularWindows.to_rectangular_windows"><code class="docutils literal notranslate"><span class="pre">to_rectangular_windows()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RectangularWindows.trim"><code class="docutils literal notranslate"><span class="pre">trim()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RectangularWindows.are_doors"><code class="docutils literal notranslate"><span class="pre">are_doors</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RectangularWindows.heights"><code class="docutils literal notranslate"><span class="pre">heights</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RectangularWindows.origins"><code class="docutils literal notranslate"><span class="pre">origins</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RectangularWindows.user_data"><code class="docutils literal notranslate"><span class="pre">user_data</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RectangularWindows.widths"><code class="docutils literal notranslate"><span class="pre">widths</span></code></a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RepeatingWindowRatio"><code class="docutils literal notranslate"><span class="pre">RepeatingWindowRatio</span></code></a><ul>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RepeatingWindowRatio.ToString"><code class="docutils literal notranslate"><span class="pre">ToString()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RepeatingWindowRatio.add_window_to_face"><code class="docutils literal notranslate"><span class="pre">add_window_to_face()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RepeatingWindowRatio.area_from_segment"><code class="docutils literal notranslate"><span class="pre">area_from_segment()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RepeatingWindowRatio.duplicate"><code class="docutils literal notranslate"><span class="pre">duplicate()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RepeatingWindowRatio.from_dict"><code class="docutils literal notranslate"><span class="pre">from_dict()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RepeatingWindowRatio.merge"><code class="docutils literal notranslate"><span class="pre">merge()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RepeatingWindowRatio.merge_to_rectangular"><code class="docutils literal notranslate"><span class="pre">merge_to_rectangular()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RepeatingWindowRatio.scale"><code class="docutils literal notranslate"><span class="pre">scale()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RepeatingWindowRatio.split"><code class="docutils literal notranslate"><span class="pre">split()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RepeatingWindowRatio.to_dict"><code class="docutils literal notranslate"><span class="pre">to_dict()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RepeatingWindowRatio.to_rectangular_windows"><code class="docutils literal notranslate"><span class="pre">to_rectangular_windows()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RepeatingWindowRatio.trim"><code class="docutils literal notranslate"><span class="pre">trim()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RepeatingWindowRatio.horizontal_separation"><code class="docutils literal notranslate"><span class="pre">horizontal_separation</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RepeatingWindowRatio.rect_split"><code class="docutils literal notranslate"><span class="pre">rect_split</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RepeatingWindowRatio.sill_height"><code class="docutils literal notranslate"><span class="pre">sill_height</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RepeatingWindowRatio.user_data"><code class="docutils literal notranslate"><span class="pre">user_data</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RepeatingWindowRatio.vertical_separation"><code class="docutils literal notranslate"><span class="pre">vertical_separation</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RepeatingWindowRatio.window_height"><code class="docutils literal notranslate"><span class="pre">window_height</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RepeatingWindowRatio.window_ratio"><code class="docutils literal notranslate"><span class="pre">window_ratio</span></code></a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RepeatingWindowWidthHeight"><code class="docutils literal notranslate"><span class="pre">RepeatingWindowWidthHeight</span></code></a><ul>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RepeatingWindowWidthHeight.ToString"><code class="docutils literal notranslate"><span class="pre">ToString()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RepeatingWindowWidthHeight.add_window_to_face"><code class="docutils literal notranslate"><span class="pre">add_window_to_face()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RepeatingWindowWidthHeight.area_from_segment"><code class="docutils literal notranslate"><span class="pre">area_from_segment()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RepeatingWindowWidthHeight.duplicate"><code class="docutils literal notranslate"><span class="pre">duplicate()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RepeatingWindowWidthHeight.from_dict"><code class="docutils literal notranslate"><span class="pre">from_dict()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RepeatingWindowWidthHeight.merge"><code class="docutils literal notranslate"><span class="pre">merge()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RepeatingWindowWidthHeight.merge_to_rectangular"><code class="docutils literal notranslate"><span class="pre">merge_to_rectangular()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RepeatingWindowWidthHeight.scale"><code class="docutils literal notranslate"><span class="pre">scale()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RepeatingWindowWidthHeight.split"><code class="docutils literal notranslate"><span class="pre">split()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RepeatingWindowWidthHeight.to_dict"><code class="docutils literal notranslate"><span class="pre">to_dict()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RepeatingWindowWidthHeight.to_rectangular_windows"><code class="docutils literal notranslate"><span class="pre">to_rectangular_windows()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RepeatingWindowWidthHeight.trim"><code class="docutils literal notranslate"><span class="pre">trim()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RepeatingWindowWidthHeight.horizontal_separation"><code class="docutils literal notranslate"><span class="pre">horizontal_separation</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RepeatingWindowWidthHeight.sill_height"><code class="docutils literal notranslate"><span class="pre">sill_height</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RepeatingWindowWidthHeight.user_data"><code class="docutils literal notranslate"><span class="pre">user_data</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RepeatingWindowWidthHeight.window_height"><code class="docutils literal notranslate"><span class="pre">window_height</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RepeatingWindowWidthHeight.window_width"><code class="docutils literal notranslate"><span class="pre">window_width</span></code></a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.SimpleWindowArea"><code class="docutils literal notranslate"><span class="pre">SimpleWindowArea</span></code></a><ul>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.SimpleWindowArea.ToString"><code class="docutils literal notranslate"><span class="pre">ToString()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.SimpleWindowArea.add_window_to_face"><code class="docutils literal notranslate"><span class="pre">add_window_to_face()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.SimpleWindowArea.area_from_segment"><code class="docutils literal notranslate"><span class="pre">area_from_segment()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.SimpleWindowArea.duplicate"><code class="docutils literal notranslate"><span class="pre">duplicate()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.SimpleWindowArea.from_dict"><code class="docutils literal notranslate"><span class="pre">from_dict()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.SimpleWindowArea.merge"><code class="docutils literal notranslate"><span class="pre">merge()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.SimpleWindowArea.merge_to_rectangular"><code class="docutils literal notranslate"><span class="pre">merge_to_rectangular()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.SimpleWindowArea.scale"><code class="docutils literal notranslate"><span class="pre">scale()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.SimpleWindowArea.split"><code class="docutils literal notranslate"><span class="pre">split()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.SimpleWindowArea.to_dict"><code class="docutils literal notranslate"><span class="pre">to_dict()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.SimpleWindowArea.to_rectangular_windows"><code class="docutils literal notranslate"><span class="pre">to_rectangular_windows()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.SimpleWindowArea.trim"><code class="docutils literal notranslate"><span class="pre">trim()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.SimpleWindowArea.rect_split"><code class="docutils literal notranslate"><span class="pre">rect_split</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.SimpleWindowArea.user_data"><code class="docutils literal notranslate"><span class="pre">user_data</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.SimpleWindowArea.window_area"><code class="docutils literal notranslate"><span class="pre">window_area</span></code></a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.SimpleWindowRatio"><code class="docutils literal notranslate"><span class="pre">SimpleWindowRatio</span></code></a><ul>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.SimpleWindowRatio.ToString"><code class="docutils literal notranslate"><span class="pre">ToString()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.SimpleWindowRatio.add_window_to_face"><code class="docutils literal notranslate"><span class="pre">add_window_to_face()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.SimpleWindowRatio.area_from_segment"><code class="docutils literal notranslate"><span class="pre">area_from_segment()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.SimpleWindowRatio.duplicate"><code class="docutils literal notranslate"><span class="pre">duplicate()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.SimpleWindowRatio.from_dict"><code class="docutils literal notranslate"><span class="pre">from_dict()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.SimpleWindowRatio.merge"><code class="docutils literal notranslate"><span class="pre">merge()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.SimpleWindowRatio.merge_to_rectangular"><code class="docutils literal notranslate"><span class="pre">merge_to_rectangular()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.SimpleWindowRatio.scale"><code class="docutils literal notranslate"><span class="pre">scale()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.SimpleWindowRatio.split"><code class="docutils literal notranslate"><span class="pre">split()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.SimpleWindowRatio.to_dict"><code class="docutils literal notranslate"><span class="pre">to_dict()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.SimpleWindowRatio.to_rectangular_windows"><code class="docutils literal notranslate"><span class="pre">to_rectangular_windows()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.SimpleWindowRatio.trim"><code class="docutils literal notranslate"><span class="pre">trim()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.SimpleWindowRatio.rect_split"><code class="docutils literal notranslate"><span class="pre">rect_split</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.SimpleWindowRatio.user_data"><code class="docutils literal notranslate"><span class="pre">user_data</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.SimpleWindowRatio.window_ratio"><code class="docutils literal notranslate"><span class="pre">window_ratio</span></code></a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.SingleWindow"><code class="docutils literal notranslate"><span class="pre">SingleWindow</span></code></a><ul>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.SingleWindow.ToString"><code class="docutils literal notranslate"><span class="pre">ToString()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.SingleWindow.add_window_to_face"><code class="docutils literal notranslate"><span class="pre">add_window_to_face()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.SingleWindow.area_from_segment"><code class="docutils literal notranslate"><span class="pre">area_from_segment()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.SingleWindow.duplicate"><code class="docutils literal notranslate"><span class="pre">duplicate()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.SingleWindow.from_dict"><code class="docutils literal notranslate"><span class="pre">from_dict()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.SingleWindow.merge"><code class="docutils literal notranslate"><span class="pre">merge()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.SingleWindow.merge_to_rectangular"><code class="docutils literal notranslate"><span class="pre">merge_to_rectangular()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.SingleWindow.scale"><code class="docutils literal notranslate"><span class="pre">scale()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.SingleWindow.split"><code class="docutils literal notranslate"><span class="pre">split()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.SingleWindow.to_dict"><code class="docutils literal notranslate"><span class="pre">to_dict()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.SingleWindow.to_rectangular_windows"><code class="docutils literal notranslate"><span class="pre">to_rectangular_windows()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.SingleWindow.trim"><code class="docutils literal notranslate"><span class="pre">trim()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.SingleWindow.height"><code class="docutils literal notranslate"><span class="pre">height</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.SingleWindow.sill_height"><code class="docutils literal notranslate"><span class="pre">sill_height</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.SingleWindow.user_data"><code class="docutils literal notranslate"><span class="pre">user_data</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.SingleWindow.width"><code class="docutils literal notranslate"><span class="pre">width</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../dragonfly.html#module-dragonfly">Module contents</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li class="toctree-l1"><a class="reference internal" href="../../cli/index.html">CLI Docs</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../modules.html">dragonfly</a></li>
</ul>
</ul>
</li>
              
            
            
              
                
              
            
            
            
            
              <li class="hidden-sm"></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
      <div class="col-md-4">
        <div id="sidebar" class="bs-sidenav" role="complementary"><ul>
<li class="toctree-l1"><a class="reference internal" href="../../cli/index.html">CLI Docs</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../modules.html">dragonfly</a></li>
</ul>

        </div>
      </div>
    <div class="body col-md-8 content" role="main">
      
  <h1>Source code for dragonfly.model</h1><div class="highlight"><pre>
<span></span><span class="c1"># coding: utf-8</span>
<span class="sd">&quot;&quot;&quot;Dragonfly Model.&quot;&quot;&quot;</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">__future__</span><span class="w"> </span><span class="kn">import</span> <span class="n">division</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">os</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">io</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">re</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">json</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">datetime</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">tempfile</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">uuid</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">zipfile</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">collections</span><span class="w"> </span><span class="kn">import</span> <span class="n">OrderedDict</span>
<span class="k">try</span><span class="p">:</span>  <span class="c1"># check if we are in IronPython</span>
    <span class="kn">import</span><span class="w"> </span><span class="nn">cPickle</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pickle</span>
<span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>  <span class="c1"># wea re in cPython</span>
    <span class="kn">import</span><span class="w"> </span><span class="nn">pickle</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">ladybug_geometry.geometry2d</span><span class="w"> </span><span class="kn">import</span> <span class="n">Point2D</span><span class="p">,</span> <span class="n">LineSegment2D</span><span class="p">,</span> <span class="n">Polyline2D</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">ladybug_geometry.geometry3d</span><span class="w"> </span><span class="kn">import</span> <span class="n">Vector3D</span><span class="p">,</span> <span class="n">Point3D</span><span class="p">,</span> <span class="n">Plane</span><span class="p">,</span> <span class="n">Face3D</span><span class="p">,</span> <span class="n">Polyface3D</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">ladybug.futil</span><span class="w"> </span><span class="kn">import</span> <span class="n">preparedir</span><span class="p">,</span> <span class="n">unzip_file</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">ladybug.location</span><span class="w"> </span><span class="kn">import</span> <span class="n">Location</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">honeybee.typing</span><span class="w"> </span><span class="kn">import</span> <span class="n">float_positive</span><span class="p">,</span> <span class="n">invalid_dict_error</span><span class="p">,</span> <span class="n">clean_and_number_string</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">honeybee.checkdup</span><span class="w"> </span><span class="kn">import</span> <span class="n">check_duplicate_identifiers</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">honeybee.units</span><span class="w"> </span><span class="kn">import</span> <span class="n">conversion_factor_to_meters</span><span class="p">,</span> <span class="n">parse_distance_string</span><span class="p">,</span> \
    <span class="n">UNITS</span><span class="p">,</span> <span class="n">UNITS_TOLERANCES</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">honeybee.config</span><span class="w"> </span><span class="kn">import</span> <span class="n">folders</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">honeybee.facetype</span><span class="w"> </span><span class="kn">import</span> <span class="n">Floor</span><span class="p">,</span> <span class="n">RoofCeiling</span><span class="p">,</span> <span class="n">face_types</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">honeybee.boundarycondition</span><span class="w"> </span><span class="kn">import</span> <span class="n">Outdoors</span><span class="p">,</span> <span class="n">Surface</span><span class="p">,</span> <span class="n">Ground</span><span class="p">,</span> <span class="n">boundary_conditions</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">honeybee.shade</span><span class="w"> </span><span class="kn">import</span> <span class="n">Shade</span> <span class="k">as</span> <span class="n">HBShade</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">honeybee.room</span><span class="w"> </span><span class="kn">import</span> <span class="n">Room</span> <span class="k">as</span> <span class="n">HBRoom</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">honeybee.model</span><span class="w"> </span><span class="kn">import</span> <span class="n">Model</span> <span class="k">as</span> <span class="n">HBModel</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">._base</span><span class="w"> </span><span class="kn">import</span> <span class="n">_BaseGeometry</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">.properties</span><span class="w"> </span><span class="kn">import</span> <span class="n">ModelProperties</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">.building</span><span class="w"> </span><span class="kn">import</span> <span class="n">Building</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">.roof</span><span class="w"> </span><span class="kn">import</span> <span class="n">RoofSpecification</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">.context</span><span class="w"> </span><span class="kn">import</span> <span class="n">ContextShade</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">.windowparameter</span><span class="w"> </span><span class="kn">import</span> <span class="n">SimpleWindowRatio</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">.projection</span><span class="w"> </span><span class="kn">import</span> <span class="n">meters_to_long_lat_factors</span><span class="p">,</span> <span class="n">polygon_to_lon_lat</span><span class="p">,</span> \
    <span class="n">origin_long_lat_from_location</span><span class="p">,</span> <span class="n">lon_lat_to_polygon</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">dragonfly.config</span><span class="w"> </span><span class="kn">import</span> <span class="n">folders</span> <span class="k">as</span> <span class="n">df_folders</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">dragonfly.writer.model</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">writer</span>


<div class="viewcode-block" id="Model">
<a class="viewcode-back" href="../../dragonfly.model.html#dragonfly.model.Model">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">Model</span><span class="p">(</span><span class="n">_BaseGeometry</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A collection of Buildings and ContextShades for an entire model.</span>

<span class="sd">    Args:</span>
<span class="sd">        identifier: Text string for a unique Model ID. Must be &lt; 100 characters</span>
<span class="sd">            and not contain any spaces or special characters.</span>
<span class="sd">        buildings: A list of Building objects in the model.</span>
<span class="sd">        context_shades: A list of ContextShade objects in the model.</span>
<span class="sd">        units: Text for the units system in which the model geometry</span>
<span class="sd">            exists. Default: &#39;Meters&#39;. Choose from the following:</span>

<span class="sd">            * Meters</span>
<span class="sd">            * Millimeters</span>
<span class="sd">            * Feet</span>
<span class="sd">            * Inches</span>
<span class="sd">            * Centimeters</span>

<span class="sd">        tolerance: The maximum difference between x, y, and z values at which</span>
<span class="sd">            vertices are considered equivalent. Zero indicates that no tolerance</span>
<span class="sd">            checks should be performed and certain capabilities like to_honeybee</span>
<span class="sd">            will not be available. None indicates that the tolerance will be</span>
<span class="sd">            set based on the units above, with the tolerance consistently being</span>
<span class="sd">            between 1 cm and 1 mm (roughly the tolerance implicit in the OpenStudio</span>
<span class="sd">            SDK). (Default: None).</span>
<span class="sd">        angle_tolerance: The max angle difference in degrees that vertices are allowed</span>
<span class="sd">            to differ from one another in order to consider them colinear. Zero indicates</span>
<span class="sd">            that no angle tolerance checks should be performed. (Default: 1.0).</span>
<span class="sd">        reference_vector: An optional Vector3D to relate the model back to an</span>
<span class="sd">            original source coordinate system. This is useful if the model has</span>
<span class="sd">            been moved from its original location and there may be future operations</span>
<span class="sd">            of merging geometry from the original source model. (Default: None).</span>

<span class="sd">    Properties:</span>
<span class="sd">        * identifier</span>
<span class="sd">        * display_name</span>
<span class="sd">        * full_id</span>
<span class="sd">        * units</span>
<span class="sd">        * tolerance</span>
<span class="sd">        * angle_tolerance</span>
<span class="sd">        * reference_vector</span>
<span class="sd">        * buildings</span>
<span class="sd">        * context_shades</span>
<span class="sd">        * stories</span>
<span class="sd">        * room_2ds</span>
<span class="sd">        * room_3ds</span>
<span class="sd">        * average_story_count</span>
<span class="sd">        * average_story_count_above_ground</span>
<span class="sd">        * average_height</span>
<span class="sd">        * average_height_above_ground</span>
<span class="sd">        * footprint_area</span>
<span class="sd">        * floor_area</span>
<span class="sd">        * exterior_wall_area</span>
<span class="sd">        * exterior_aperture_area</span>
<span class="sd">        * sub_face_area</span>
<span class="sd">        * volume</span>
<span class="sd">        * min</span>
<span class="sd">        * max</span>
<span class="sd">        * user_data</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="vm">__slots__</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;_buildings&#39;</span><span class="p">,</span> <span class="s1">&#39;_context_shades&#39;</span><span class="p">,</span>
                 <span class="s1">&#39;_units&#39;</span><span class="p">,</span> <span class="s1">&#39;_tolerance&#39;</span><span class="p">,</span> <span class="s1">&#39;_angle_tolerance&#39;</span><span class="p">,</span> <span class="s1">&#39;_reference_vector&#39;</span><span class="p">)</span>
    <span class="c1"># dictionary mapping validation error codes to a corresponding check function</span>
    <span class="n">ERROR_MAP</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;100001&#39;</span><span class="p">:</span> <span class="s1">&#39;check_duplicate_context_shade_identifiers&#39;</span><span class="p">,</span>
        <span class="s1">&#39;100002&#39;</span><span class="p">:</span> <span class="s1">&#39;check_duplicate_room_2d_identifiers&#39;</span><span class="p">,</span>
        <span class="s1">&#39;100003&#39;</span><span class="p">:</span> <span class="s1">&#39;check_duplicate_story_identifiers&#39;</span><span class="p">,</span>
        <span class="s1">&#39;100004&#39;</span><span class="p">:</span> <span class="s1">&#39;check_duplicate_building_identifiers&#39;</span><span class="p">,</span>
        <span class="s1">&#39;100101&#39;</span><span class="p">:</span> <span class="s1">&#39;check_degenerate_room_2ds&#39;</span><span class="p">,</span>
        <span class="s1">&#39;100102&#39;</span><span class="p">:</span> <span class="s1">&#39;check_self_intersecting_room_2ds&#39;</span><span class="p">,</span>
        <span class="s1">&#39;100103&#39;</span><span class="p">:</span> <span class="s1">&#39;check_window_parameters_valid&#39;</span><span class="p">,</span>
        <span class="s1">&#39;100104&#39;</span><span class="p">:</span> <span class="s1">&#39;check_no_room2d_overlaps&#39;</span><span class="p">,</span>
        <span class="s1">&#39;100105&#39;</span><span class="p">:</span> <span class="s1">&#39;check_roofs_above_rooms&#39;</span><span class="p">,</span>
        <span class="s1">&#39;100106&#39;</span><span class="p">:</span> <span class="s1">&#39;check_room2d_floor_heights_valid&#39;</span><span class="p">,</span>
        <span class="s1">&#39;100107&#39;</span><span class="p">:</span> <span class="s1">&#39;check_plenum_depths&#39;</span><span class="p">,</span>
        <span class="s1">&#39;100108&#39;</span><span class="p">:</span> <span class="s1">&#39;check_collisions_between_stories&#39;</span><span class="p">,</span>
        <span class="s1">&#39;100201&#39;</span><span class="p">:</span> <span class="s1">&#39;check_missing_adjacencies&#39;</span><span class="p">,</span>
        <span class="s1">&#39;100202&#39;</span><span class="p">:</span> <span class="s1">&#39;check_missing_adjacencies&#39;</span><span class="p">,</span>
        <span class="s1">&#39;100203&#39;</span><span class="p">:</span> <span class="s1">&#39;check_missing_adjacencies&#39;</span>
    <span class="p">}</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">identifier</span><span class="p">,</span> <span class="n">buildings</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">context_shades</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                 <span class="n">units</span><span class="o">=</span><span class="s1">&#39;Meters&#39;</span><span class="p">,</span> <span class="n">tolerance</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">angle_tolerance</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span>
                 <span class="n">reference_vector</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;A collection of Buildings and ContextShades for an entire model.&quot;&quot;&quot;</span>
        <span class="n">_BaseGeometry</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">identifier</span><span class="p">)</span>  <span class="c1"># process the identifier</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">units</span> <span class="o">=</span> <span class="n">units</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tolerance</span> <span class="o">=</span> <span class="n">tolerance</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">angle_tolerance</span> <span class="o">=</span> <span class="n">angle_tolerance</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">reference_vector</span> <span class="o">=</span> <span class="n">reference_vector</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">buildings</span> <span class="o">=</span> <span class="n">buildings</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">context_shades</span> <span class="o">=</span> <span class="n">context_shades</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_properties</span> <span class="o">=</span> <span class="n">ModelProperties</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

<div class="viewcode-block" id="Model.from_dict">
<a class="viewcode-back" href="../../dragonfly.model.html#dragonfly.model.Model.from_dict">[docs]</a>
    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">from_dict</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">cleanup_irrational</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize a Model from a dictionary.</span>

<span class="sd">        Args:</span>
<span class="sd">            data: A dictionary representation of a Model object.</span>
<span class="sd">            cleanup_irrational: Boolean to note whether common types of irrational</span>
<span class="sd">                objects should be cleaned or removed from the dictionary before</span>
<span class="sd">                serializing the model to Python. Typical cases that are removed</span>
<span class="sd">                this way include Face3Ds with fewer than 3 vertices, Stories that</span>
<span class="sd">                have no Room2D geometry, etc. (Default: False).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># check the type of dictionary</span>
        <span class="k">assert</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;Model&#39;</span><span class="p">,</span> <span class="s1">&#39;Expected Model dictionary. &#39;</span> \
            <span class="s1">&#39;Got </span><span class="si">{}</span><span class="s1">.&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">])</span>

        <span class="c1"># import the units and tolerance values</span>
        <span class="n">units</span> <span class="o">=</span> <span class="s1">&#39;Meters&#39;</span> <span class="k">if</span> <span class="s1">&#39;units&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">data</span> <span class="ow">or</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;units&#39;</span><span class="p">]</span> <span class="ow">is</span> <span class="kc">None</span> \
            <span class="k">else</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;units&#39;</span><span class="p">]</span>
        <span class="n">tol</span> <span class="o">=</span> <span class="n">UNITS_TOLERANCES</span><span class="p">[</span><span class="n">units</span><span class="p">]</span> <span class="k">if</span> <span class="s1">&#39;tolerance&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">data</span> <span class="ow">or</span> \
            <span class="n">data</span><span class="p">[</span><span class="s1">&#39;tolerance&#39;</span><span class="p">]</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;tolerance&#39;</span><span class="p">]</span>
        <span class="n">angle_tol</span> <span class="o">=</span> <span class="mf">1.0</span> <span class="k">if</span> <span class="s1">&#39;angle_tolerance&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">data</span> <span class="ow">or</span> \
            <span class="n">data</span><span class="p">[</span><span class="s1">&#39;angle_tolerance&#39;</span><span class="p">]</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;angle_tolerance&#39;</span><span class="p">]</span>
        <span class="n">ref_vec</span> <span class="o">=</span> <span class="kc">None</span> <span class="k">if</span> <span class="s1">&#39;reference_vector&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">data</span> <span class="ow">or</span> \
            <span class="n">data</span><span class="p">[</span><span class="s1">&#39;reference_vector&#39;</span><span class="p">]</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> \
            <span class="n">Vector3D</span><span class="o">.</span><span class="n">from_array</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;reference_vector&#39;</span><span class="p">])</span>

        <span class="c1"># clean the irrational objects out if requested</span>
        <span class="k">if</span> <span class="n">cleanup_irrational</span><span class="p">:</span>
            <span class="bp">cls</span><span class="o">.</span><span class="n">clean_irrational_geometry</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>

        <span class="c1"># import all of the geometry</span>
        <span class="n">buildings</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># import buildings</span>
        <span class="n">building_roofs</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="s1">&#39;buildings&#39;</span> <span class="ow">in</span> <span class="n">data</span> <span class="ow">and</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;buildings&#39;</span><span class="p">]</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">buildings</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">bldg</span> <span class="ow">in</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;buildings&#39;</span><span class="p">]:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">unique_stories</span> <span class="o">=</span> <span class="n">bldg</span><span class="p">[</span><span class="s1">&#39;unique_stories&#39;</span><span class="p">]</span> \
                        <span class="k">if</span> <span class="s1">&#39;unique_stories&#39;</span> <span class="ow">in</span> <span class="n">bldg</span> <span class="k">else</span> <span class="kc">None</span>
                    <span class="n">room_3ds</span> <span class="o">=</span> <span class="n">bldg</span><span class="p">[</span><span class="s1">&#39;room_3ds&#39;</span><span class="p">]</span> \
                        <span class="k">if</span> <span class="s1">&#39;room_3ds&#39;</span> <span class="ow">in</span> <span class="n">bldg</span> <span class="k">else</span> <span class="kc">None</span>
                    <span class="k">if</span> <span class="p">(</span><span class="n">unique_stories</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="nb">len</span><span class="p">(</span><span class="n">unique_stories</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="ow">and</span> \
                            <span class="p">(</span><span class="n">room_3ds</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="nb">len</span><span class="p">(</span><span class="n">room_3ds</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">):</span>
                        <span class="k">continue</span>  <span class="c1"># empty Building object that should be ignored</span>
                    <span class="k">if</span> <span class="s1">&#39;roof&#39;</span> <span class="ow">in</span> <span class="n">bldg</span> <span class="ow">and</span> <span class="n">bldg</span><span class="p">[</span><span class="s1">&#39;roof&#39;</span><span class="p">]</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> \
                            <span class="ow">and</span> <span class="s1">&#39;geometry&#39;</span> <span class="ow">in</span> <span class="n">bldg</span><span class="p">[</span><span class="s1">&#39;roof&#39;</span><span class="p">]</span> \
                            <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">bldg</span><span class="p">[</span><span class="s1">&#39;roof&#39;</span><span class="p">][</span><span class="s1">&#39;geometry&#39;</span><span class="p">])</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                        <span class="n">roof</span> <span class="o">=</span> <span class="n">RoofSpecification</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span><span class="n">bldg</span><span class="p">[</span><span class="s1">&#39;roof&#39;</span><span class="p">],</span> <span class="n">tol</span><span class="p">)</span>
                        <span class="n">building_roofs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">roof</span><span class="o">.</span><span class="n">geometry</span><span class="p">)</span>
                        <span class="n">bldg</span><span class="p">[</span><span class="s1">&#39;roof&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">building_roofs</span><span class="o">.</span><span class="n">append</span><span class="p">([])</span>
                    <span class="n">bldg</span> <span class="o">=</span> <span class="n">Building</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span><span class="n">bldg</span><span class="p">,</span> <span class="n">tol</span><span class="p">,</span> <span class="n">angle_tol</span><span class="p">,</span> <span class="n">sort_stories</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
                    <span class="n">buildings</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">bldg</span><span class="p">)</span>
                <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                    <span class="n">invalid_dict_error</span><span class="p">(</span><span class="n">bldg</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
        <span class="n">context_shades</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># import context shades</span>
        <span class="k">if</span> <span class="s1">&#39;context_shades&#39;</span> <span class="ow">in</span> <span class="n">data</span> <span class="ow">and</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;context_shades&#39;</span><span class="p">]</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">context_shades</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;context_shades&#39;</span><span class="p">]:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">context_shades</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ContextShade</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span><span class="n">s</span><span class="p">))</span>
                <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                    <span class="n">invalid_dict_error</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>

        <span class="c1"># build the model object</span>
        <span class="n">model</span> <span class="o">=</span> <span class="n">Model</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;identifier&#39;</span><span class="p">],</span> <span class="n">buildings</span><span class="p">,</span> <span class="n">context_shades</span><span class="p">,</span>
                      <span class="n">units</span><span class="p">,</span> <span class="n">tol</span><span class="p">,</span> <span class="n">angle_tol</span><span class="p">,</span> <span class="n">ref_vec</span><span class="p">)</span>
        <span class="k">if</span> <span class="s1">&#39;display_name&#39;</span> <span class="ow">in</span> <span class="n">data</span> <span class="ow">and</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;display_name&#39;</span><span class="p">]</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">model</span><span class="o">.</span><span class="n">display_name</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;display_name&#39;</span><span class="p">]</span>
        <span class="k">if</span> <span class="s1">&#39;user_data&#39;</span> <span class="ow">in</span> <span class="n">data</span> <span class="ow">and</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;user_data&#39;</span><span class="p">]</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">model</span><span class="o">.</span><span class="n">user_data</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;user_data&#39;</span><span class="p">]</span>

        <span class="c1"># assign extension properties to the model</span>
        <span class="n">model</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">apply_properties_from_dict</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>

        <span class="c1"># sort stories now that properties were ordered correctly during assignment</span>
        <span class="k">for</span> <span class="n">building</span><span class="p">,</span> <span class="n">bldg_roof</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">buildings</span><span class="p">,</span> <span class="n">building_roofs</span><span class="p">):</span>
            <span class="n">building</span><span class="o">.</span><span class="n">sort_stories</span><span class="p">()</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">bldg_roof</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">building</span><span class="o">.</span><span class="n">add_roof_geometry</span><span class="p">(</span><span class="n">bldg_roof</span><span class="p">,</span> <span class="n">tol</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">model</span></div>


<div class="viewcode-block" id="Model.from_file">
<a class="viewcode-back" href="../../dragonfly.model.html#dragonfly.model.Model.from_file">[docs]</a>
    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">from_file</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">df_file</span><span class="p">,</span> <span class="n">cleanup_irrational</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize a Model from a DFJSON or DFpkl file, auto-sensing the type.</span>

<span class="sd">        This will also sense if the input is a Honeybee Model and, if so,</span>
<span class="sd">        the loaded Dragonfly model will be derived from the Honeybee one.</span>

<span class="sd">        Args:</span>
<span class="sd">            df_file: Path to either a DFJSON or DFpkl file. This can also be a</span>
<span class="sd">                HBJSON or a HBpkl from which a Dragonfly model should be derived.</span>
<span class="sd">            cleanup_irrational: Boolean to note whether common types of irrational</span>
<span class="sd">                objects should be cleaned or removed from the dictionary before</span>
<span class="sd">                serializing the model to Python. Typical cases that are removed</span>
<span class="sd">                this way include Face3Ds with fewer than 3 vertices, Stories that</span>
<span class="sd">                have no Room2D geometry, etc. (Default: False).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">assert</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">df_file</span><span class="p">),</span> <span class="s1">&#39;Failed to find </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">df_file</span>
        <span class="c1"># sense the file type by first checking it it&#39;s a zip file</span>
        <span class="k">if</span> <span class="n">zipfile</span><span class="o">.</span><span class="n">is_zipfile</span><span class="p">(</span><span class="n">df_file</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">from_pomf</span><span class="p">(</span><span class="n">df_file</span><span class="p">,</span> <span class="n">cleanup_irrational</span><span class="p">)</span>
        <span class="c1"># check the first character to avoid maxing memory with JSON</span>
        <span class="k">with</span> <span class="n">io</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">df_file</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">inf</span><span class="p">:</span>
            <span class="n">first_char</span> <span class="o">=</span> <span class="n">inf</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
            <span class="n">second_char</span> <span class="o">=</span> <span class="n">inf</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">is_json</span> <span class="o">=</span> <span class="kc">True</span> <span class="k">if</span> <span class="n">first_char</span> <span class="o">==</span> <span class="s1">&#39;{&#39;</span> <span class="ow">or</span> <span class="n">second_char</span> <span class="o">==</span> <span class="s1">&#39;{&#39;</span> <span class="k">else</span> <span class="kc">False</span>
        <span class="c1"># load the file using either DFJSON pathway or DFpkl</span>
        <span class="k">if</span> <span class="n">is_json</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">from_dfjson</span><span class="p">(</span><span class="n">df_file</span><span class="p">,</span> <span class="n">cleanup_irrational</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">from_dfpkl</span><span class="p">(</span><span class="n">df_file</span><span class="p">,</span> <span class="n">cleanup_irrational</span><span class="p">)</span></div>


<div class="viewcode-block" id="Model.from_dfjson">
<a class="viewcode-back" href="../../dragonfly.model.html#dragonfly.model.Model.from_dfjson">[docs]</a>
    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">from_dfjson</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">dfjson_file</span><span class="p">,</span> <span class="n">cleanup_irrational</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize a Model from a DFJSON file.</span>

<span class="sd">        Args:</span>
<span class="sd">            dfjson_file: Path to DFJSON file. This can also be a HBJSON from which</span>
<span class="sd">                a Dragonfly model should be derived.</span>
<span class="sd">            cleanup_irrational: Boolean to note whether common types of irrational</span>
<span class="sd">                objects should be cleaned or removed from the dictionary before</span>
<span class="sd">                serializing the model to Python. Typical cases that are removed</span>
<span class="sd">                this way include Face3Ds with fewer than 3 vertices, Stories that</span>
<span class="sd">                have no Room2D geometry, etc. (Default: False).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">assert</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">dfjson_file</span><span class="p">),</span> <span class="s1">&#39;Failed to find </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">dfjson_file</span>
        <span class="k">with</span> <span class="n">io</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">dfjson_file</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">inf</span><span class="p">:</span>
            <span class="n">inf</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
            <span class="n">second_char</span> <span class="o">=</span> <span class="n">inf</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
        <span class="k">with</span> <span class="n">io</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">dfjson_file</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">inf</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">second_char</span> <span class="o">==</span> <span class="s1">&#39;{&#39;</span><span class="p">:</span>
                <span class="n">inf</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">inf</span><span class="p">)</span>
        <span class="k">if</span> <span class="s1">&#39;buildings&#39;</span> <span class="ow">in</span> <span class="n">data</span> <span class="ow">or</span> <span class="s1">&#39;context_shades&#39;</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">cleanup_irrational</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>  <span class="c1"># assume that it&#39;s a Honeybee Model to translate</span>
            <span class="n">hb_model</span> <span class="o">=</span> <span class="n">HBModel</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">cleanup_irrational</span><span class="p">)</span>
            <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">from_honeybee</span><span class="p">(</span><span class="n">hb_model</span><span class="p">)</span></div>


<div class="viewcode-block" id="Model.from_dfpkl">
<a class="viewcode-back" href="../../dragonfly.model.html#dragonfly.model.Model.from_dfpkl">[docs]</a>
    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">from_dfpkl</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">dfpkl_file</span><span class="p">,</span> <span class="n">cleanup_irrational</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize a Model from a DFpkl file.</span>

<span class="sd">        Args:</span>
<span class="sd">            dfpkl_file: Path to DFpkl file. This can also be a HBpkl from which</span>
<span class="sd">                a Dragonfly model should be derived.</span>
<span class="sd">            cleanup_irrational: Boolean to note whether common types of irrational</span>
<span class="sd">                objects should be cleaned or removed from the dictionary before</span>
<span class="sd">                serializing the model to Python. Typical cases that are removed</span>
<span class="sd">                this way include Face3Ds with fewer than 3 vertices, Stories that</span>
<span class="sd">                have no Room2D geometry, etc. (Default: False).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">assert</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">dfpkl_file</span><span class="p">),</span> <span class="s1">&#39;Failed to find </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">dfpkl_file</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">dfpkl_file</span><span class="p">,</span> <span class="s1">&#39;rb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">inf</span><span class="p">:</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">pickle</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">inf</span><span class="p">)</span>
        <span class="k">if</span> <span class="s1">&#39;buildings&#39;</span> <span class="ow">in</span> <span class="n">data</span> <span class="ow">or</span> <span class="s1">&#39;context_shades&#39;</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">cleanup_irrational</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>  <span class="c1"># assume that it&#39;s a Honeybee Model to translate</span>
            <span class="n">hb_model</span> <span class="o">=</span> <span class="n">HBModel</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">cleanup_irrational</span><span class="p">)</span>
            <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">from_honeybee</span><span class="p">(</span><span class="n">hb_model</span><span class="p">)</span></div>


<div class="viewcode-block" id="Model.from_pomf">
<a class="viewcode-back" href="../../dragonfly.model.html#dragonfly.model.Model.from_pomf">[docs]</a>
    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">from_pomf</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">pomf_file</span><span class="p">,</span> <span class="n">cleanup_irrational</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize a Model from a Pollination Model File (POMF).</span>

<span class="sd">        Args:</span>
<span class="sd">            pomf_file: Path to POMF file containing a dragonfly Model.</span>
<span class="sd">            cleanup_irrational: Boolean to note whether common types of irrational</span>
<span class="sd">                objects should be cleaned or removed from the dictionary before</span>
<span class="sd">                serializing the model to Python. Typical cases that are removed</span>
<span class="sd">                this way include Face3Ds with fewer than 3 vertices, Stories that</span>
<span class="sd">                have no Room2D geometry, etc. (Default: False).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">folder_name</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">uuid</span><span class="o">.</span><span class="n">uuid4</span><span class="p">())[:</span><span class="mi">6</span><span class="p">]</span>
        <span class="n">temp_dir</span> <span class="o">=</span> <span class="n">tempfile</span><span class="o">.</span><span class="n">gettempdir</span><span class="p">()</span>
        <span class="n">folder_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">temp_dir</span><span class="p">,</span> <span class="n">folder_name</span><span class="p">)</span>
        <span class="n">os</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="n">folder_path</span><span class="p">)</span>
        <span class="n">unzip_file</span><span class="p">(</span><span class="n">pomf_file</span><span class="p">,</span> <span class="n">folder_path</span><span class="p">)</span>
        <span class="n">df_file</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">folder_path</span><span class="p">,</span> <span class="s1">&#39;model.json&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">from_dfjson</span><span class="p">(</span><span class="n">df_file</span><span class="p">,</span> <span class="n">cleanup_irrational</span><span class="p">)</span></div>


<div class="viewcode-block" id="Model.from_honeybee">
<a class="viewcode-back" href="../../dragonfly.model.html#dragonfly.model.Model.from_honeybee">[docs]</a>
    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">from_honeybee</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">model</span><span class="p">,</span> <span class="n">conversion_method</span><span class="o">=</span><span class="s1">&#39;AllRoom2D&#39;</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize a Dragonfly Model from a Honeybee Model.</span>

<span class="sd">        Args:</span>
<span class="sd">            model: A Honeybee Model to be converted to a Dragonfly Model.</span>
<span class="sd">            conversion_method: Text to indicate how the Honeybee Rooms should be</span>
<span class="sd">                converted to Dragonfly. Note that the AllRoom2D option may result</span>
<span class="sd">                in some loss or simplification of the 3D Honeybee geometry but</span>
<span class="sd">                ensures that all of Dragonfly&#39;s features for editing the rooms can</span>
<span class="sd">                be used. The ExtrudedOnly method will convert only the 3D Rooms</span>
<span class="sd">                that would have no loss or simplification of geometry when converted</span>
<span class="sd">                to Room2D. AllRoom3D keeps all detailed 3D geometry on the</span>
<span class="sd">                Building.room_3ds property, enabling you to convert the 3D Rooms</span>
<span class="sd">                to Room2D using the Building.convert_room_3ds_to_2d() method as you</span>
<span class="sd">                see fit. (Default: AllRoom2D). Choose from the following options.</span>

<span class="sd">                * AllRoom2D - All Honeybee Rooms converted to Dragonfly Room2D</span>
<span class="sd">                * ExtrudedOnly - Only pure extrusions converted to Dragonfly Room2D</span>
<span class="sd">                * AllRoom3D - All Honeybee Rooms left as-is on Building.room_3ds</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># translate the rooms to a dragonfly building</span>
        <span class="n">bldgs</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">rooms</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">bldgs</span> <span class="o">=</span> <span class="p">[</span><span class="n">Building</span><span class="o">.</span><span class="n">from_honeybee</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">conversion_method</span><span class="p">)]</span>
        <span class="c1"># translate the orphaned shades to context shades</span>
        <span class="n">shades</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">shd_grp</span> <span class="ow">in</span> <span class="n">model</span><span class="o">.</span><span class="n">grouped_shades</span><span class="p">:</span>
            <span class="n">base_obj</span> <span class="o">=</span> <span class="n">shd_grp</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">shd_geo</span> <span class="o">=</span> <span class="p">[</span><span class="n">s</span><span class="o">.</span><span class="n">geometry</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">shd_grp</span><span class="p">]</span>
            <span class="n">con_shade</span> <span class="o">=</span> <span class="n">ContextShade</span><span class="p">(</span><span class="n">base_obj</span><span class="o">.</span><span class="n">identifier</span><span class="p">,</span> <span class="n">shd_geo</span><span class="p">,</span> <span class="n">base_obj</span><span class="o">.</span><span class="n">is_detached</span><span class="p">)</span>
            <span class="n">con_shade</span><span class="o">.</span><span class="n">display_name</span> <span class="o">=</span> <span class="n">base_obj</span><span class="o">.</span><span class="n">display_name</span>
            <span class="n">con_shade</span><span class="o">.</span><span class="n">_user_data</span> <span class="o">=</span> <span class="kc">None</span> <span class="k">if</span> <span class="n">base_obj</span><span class="o">.</span><span class="n">user_data</span> <span class="ow">is</span> <span class="kc">None</span> \
                <span class="k">else</span> <span class="n">base_obj</span><span class="o">.</span><span class="n">user_data</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
            <span class="n">con_shade</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">from_honeybee</span><span class="p">(</span><span class="n">base_obj</span><span class="o">.</span><span class="n">properties</span><span class="p">)</span>
            <span class="n">shades</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">con_shade</span><span class="p">)</span>
        <span class="n">new_model</span> <span class="o">=</span> <span class="bp">cls</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">identifier</span><span class="p">,</span> <span class="n">bldgs</span><span class="p">,</span> <span class="n">shades</span><span class="p">,</span> <span class="n">model</span><span class="o">.</span><span class="n">units</span><span class="p">,</span>
                        <span class="n">model</span><span class="o">.</span><span class="n">tolerance</span><span class="p">,</span> <span class="n">model</span><span class="o">.</span><span class="n">angle_tolerance</span><span class="p">)</span>
        <span class="n">new_model</span><span class="o">.</span><span class="n">_display_name</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">_display_name</span>
        <span class="k">return</span> <span class="n">new_model</span></div>


<div class="viewcode-block" id="Model.from_geojson">
<a class="viewcode-back" href="../../dragonfly.model.html#dragonfly.model.Model.from_geojson">[docs]</a>
    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">from_geojson</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">geojson_file_path</span><span class="p">,</span> <span class="n">location</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">point</span><span class="o">=</span><span class="n">Point2D</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
                     <span class="n">all_polygons_to_buildings</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">existing_to_context</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                     <span class="n">units</span><span class="o">=</span><span class="s1">&#39;Meters&#39;</span><span class="p">,</span> <span class="n">tolerance</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">angle_tolerance</span><span class="o">=</span><span class="mf">1.0</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Make a Model from a geojson file.</span>

<span class="sd">        Args:</span>
<span class="sd">            geojson_file_path: Text for the full path to the geojson file to load as</span>
<span class="sd">                Model.</span>
<span class="sd">            location: An optional ladybug location object with longitude and</span>
<span class="sd">                latitude data defining the origin of the geojson file. If nothing</span>
<span class="sd">                is passed, the origin is autocalculated as the bottom-left corner</span>
<span class="sd">                of the bounding box of all building footprints in the geojson file</span>
<span class="sd">                (Default: None).</span>
<span class="sd">            point: A ladybug_geometry Point2D for where the location object exists</span>
<span class="sd">                within the space of a scene. The coordinates of this point are</span>
<span class="sd">                expected to be in the expected units of this Model (Default: (0, 0)).</span>
<span class="sd">            all_polygons_to_buildings: Boolean to indicate if all geometries in</span>
<span class="sd">                the geojson file should be considered buildings. If False, this</span>
<span class="sd">                method will only generate footprints from geometries that are</span>
<span class="sd">                defined as a &quot;Building&quot; in the type field of its corresponding</span>
<span class="sd">                properties. (Default: False).</span>
<span class="sd">            existing_to_context: Boolean to indicate whether polygons possessing</span>
<span class="sd">                a building_status of &quot;Existing&quot; under their properties should be</span>
<span class="sd">                imported as ContextShade instead of Building objects. (Default: False).</span>
<span class="sd">            units: Text for the units system in which the model geometry</span>
<span class="sd">                exists. Default: &#39;Meters&#39;. Choose from the following:</span>

<span class="sd">                * Meters</span>
<span class="sd">                * Millimeters</span>
<span class="sd">                * Feet</span>
<span class="sd">                * Inches</span>
<span class="sd">                * Centimeters</span>

<span class="sd">                Note that this method assumes the point coordinates are in the</span>
<span class="sd">                same units.</span>
<span class="sd">            tolerance: The maximum difference between x, y, and z values at which</span>
<span class="sd">                vertices are considered equivalent. Zero indicates that no tolerance</span>
<span class="sd">                checks should be performed and certain capabilities like to_honeybee</span>
<span class="sd">                will not be available. None indicates that the tolerance will be</span>
<span class="sd">                set based on the units above, with the tolerance consistently being</span>
<span class="sd">                between 1 cm and 1 mm (roughly the tolerance implicit in the OpenStudio</span>
<span class="sd">                SDK). (Default: None).</span>
<span class="sd">            angle_tolerance: The max angle difference in degrees that vertices</span>
<span class="sd">                are allowed to differ from one another in order to consider them</span>
<span class="sd">                colinear. Zero indicates that no angle tolerance checks should</span>
<span class="sd">                be performed. (Default: 1.0).</span>

<span class="sd">        Returns:</span>
<span class="sd">            A tuple with the two items below.</span>

<span class="sd">            * model -- A dragonfly Model derived from the geoJSON.</span>

<span class="sd">            * location -- A ladybug Location object, which contains latitude and</span>
<span class="sd">                longitude information and can be used to re-serialize the model</span>
<span class="sd">                back to geoJSON.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># parse the geoJSON into a dictionary</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">geojson_file_path</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fp</span><span class="p">:</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">fp</span><span class="p">)</span>

        <span class="c1"># Get the list of building data</span>
        <span class="k">if</span> <span class="n">all_polygons_to_buildings</span><span class="p">:</span>
            <span class="n">p_types</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;Polygon&#39;</span><span class="p">,</span> <span class="s1">&#39;MultiPolygon&#39;</span><span class="p">)</span>
            <span class="n">bldgs_data</span> <span class="o">=</span> \
                <span class="p">[</span><span class="n">bldg_data</span> <span class="k">for</span> <span class="n">bldg_data</span> <span class="ow">in</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;features&#39;</span><span class="p">]</span>
                 <span class="k">if</span> <span class="s1">&#39;geometry&#39;</span> <span class="ow">in</span> <span class="n">bldg_data</span> <span class="ow">and</span> <span class="n">bldg_data</span><span class="p">[</span><span class="s1">&#39;geometry&#39;</span><span class="p">][</span><span class="s1">&#39;type&#39;</span><span class="p">]</span> <span class="ow">in</span> <span class="n">p_types</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">bldgs_data</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">bldg_data</span> <span class="ow">in</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;features&#39;</span><span class="p">]:</span>
                <span class="k">if</span> <span class="s1">&#39;type&#39;</span> <span class="ow">in</span> <span class="n">bldg_data</span><span class="p">[</span><span class="s1">&#39;properties&#39;</span><span class="p">]:</span>
                    <span class="k">if</span> <span class="n">bldg_data</span><span class="p">[</span><span class="s1">&#39;properties&#39;</span><span class="p">][</span><span class="s1">&#39;type&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;Building&#39;</span><span class="p">:</span>
                        <span class="n">bldgs_data</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">bldg_data</span><span class="p">)</span>

        <span class="c1"># Check if buildings exist</span>
        <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">bldgs_data</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;No building footprints were found in </span><span class="si">{}</span><span class="s1">.</span><span class="se">\n</span><span class="s1">&#39;</span> \
            <span class="s1">&#39;Try setting &quot;all_polygons_to_buildings&quot; to True.&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">geojson_file_path</span><span class="p">)</span>

        <span class="c1"># if model units is not Meters, convert non-meter user inputs to meters</span>
        <span class="n">scale_to_meters</span> <span class="o">=</span> <span class="n">conversion_factor_to_meters</span><span class="p">(</span><span class="n">units</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">units</span> <span class="o">!=</span> <span class="s1">&#39;Meters&#39;</span><span class="p">:</span>
            <span class="n">point</span> <span class="o">=</span> <span class="n">point</span><span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="n">scale_to_meters</span><span class="p">)</span>

        <span class="c1"># Get long and lat in the geojson that correspond to the model origin (point).</span>
        <span class="c1"># If location is None, derive coordinates from the geojson geometry.</span>
        <span class="k">if</span> <span class="n">location</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">point_lon_lat</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="k">if</span> <span class="s1">&#39;project&#39;</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>
                <span class="n">proj_data</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;project&#39;</span><span class="p">]</span>
                <span class="k">if</span> <span class="s1">&#39;latitude&#39;</span> <span class="ow">in</span> <span class="n">proj_data</span> <span class="ow">and</span> <span class="s1">&#39;longitude&#39;</span> <span class="ow">in</span> <span class="n">proj_data</span><span class="p">:</span>
                    <span class="n">point_lon_lat</span> <span class="o">=</span> <span class="p">(</span><span class="n">proj_data</span><span class="p">[</span><span class="s1">&#39;latitude&#39;</span><span class="p">],</span> <span class="n">proj_data</span><span class="p">[</span><span class="s1">&#39;longitude&#39;</span><span class="p">])</span>
            <span class="k">if</span> <span class="n">point_lon_lat</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">point_lon_lat</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_bottom_left_coordinate_from_geojson</span><span class="p">(</span><span class="n">bldgs_data</span><span class="p">)</span>
            <span class="n">location</span> <span class="o">=</span> <span class="n">Location</span><span class="p">(</span><span class="n">longitude</span><span class="o">=</span><span class="n">point_lon_lat</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">latitude</span><span class="o">=</span><span class="n">point_lon_lat</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>

        <span class="c1"># The model point may not be at (0, 0), so shift the longitude and latitude to</span>
        <span class="c1"># get the equivalent point in longitude and latitude for (0, 0) in the model.</span>
        <span class="n">origin_lon_lat</span> <span class="o">=</span> <span class="n">origin_long_lat_from_location</span><span class="p">(</span><span class="n">location</span><span class="p">,</span> <span class="n">point</span><span class="p">)</span>
        <span class="n">_convert_facs</span> <span class="o">=</span> <span class="n">meters_to_long_lat_factors</span><span class="p">(</span><span class="n">origin_lon_lat</span><span class="p">)</span>
        <span class="n">convert_facs</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">/</span> <span class="n">_convert_facs</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="mi">1</span> <span class="o">/</span> <span class="n">_convert_facs</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>

        <span class="c1"># Extract buildings</span>
        <span class="n">bldgs</span><span class="p">,</span> <span class="n">contexts</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_objects_from_geojson</span><span class="p">(</span>
            <span class="n">bldgs_data</span><span class="p">,</span> <span class="n">existing_to_context</span><span class="p">,</span> <span class="n">scale_to_meters</span><span class="p">,</span> <span class="n">origin_lon_lat</span><span class="p">,</span>
            <span class="n">convert_facs</span><span class="p">)</span>

        <span class="c1"># Make model, in meters and then convert to user-defined units</span>
        <span class="n">m_id</span><span class="p">,</span> <span class="n">m_name</span> <span class="o">=</span> <span class="s1">&#39;Model_1&#39;</span><span class="p">,</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="s1">&#39;project&#39;</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>
            <span class="n">m_id</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;project&#39;</span><span class="p">][</span><span class="s1">&#39;id&#39;</span><span class="p">]</span> <span class="k">if</span> <span class="s1">&#39;id&#39;</span> <span class="ow">in</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;project&#39;</span><span class="p">]</span> <span class="k">else</span> <span class="n">m_id</span>
            <span class="n">m_name</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;project&#39;</span><span class="p">][</span><span class="s1">&#39;name&#39;</span><span class="p">]</span> <span class="k">if</span> <span class="s1">&#39;name&#39;</span> <span class="ow">in</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;project&#39;</span><span class="p">]</span> <span class="k">else</span> <span class="n">m_name</span>
        <span class="n">model</span> <span class="o">=</span> <span class="bp">cls</span><span class="p">(</span><span class="n">m_id</span><span class="p">,</span> <span class="n">buildings</span><span class="o">=</span><span class="n">bldgs</span><span class="p">,</span> <span class="n">context_shades</span><span class="o">=</span><span class="n">contexts</span><span class="p">,</span> <span class="n">units</span><span class="o">=</span><span class="s1">&#39;Meters&#39;</span><span class="p">,</span>
                    <span class="n">tolerance</span><span class="o">=</span><span class="n">tolerance</span><span class="p">,</span> <span class="n">angle_tolerance</span><span class="o">=</span><span class="n">angle_tolerance</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">m_name</span><span class="p">:</span>
            <span class="n">model</span><span class="o">.</span><span class="n">display_name</span> <span class="o">=</span> <span class="n">m_name</span>
        <span class="k">if</span> <span class="n">units</span> <span class="o">!=</span> <span class="s1">&#39;Meters&#39;</span><span class="p">:</span>
            <span class="n">model</span><span class="o">.</span><span class="n">convert_to_units</span><span class="p">(</span><span class="n">units</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">model</span><span class="p">,</span> <span class="n">location</span></div>


    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">units</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get or set Text for the units system in which the model geometry exists.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_units</span>

    <span class="nd">@units</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">units</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="k">assert</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">UNITS</span><span class="p">,</span> <span class="s1">&#39;</span><span class="si">{}</span><span class="s1"> is not supported as a units system. &#39;</span> \
            <span class="s1">&#39;Choose from the following: </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">units</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_units</span> <span class="o">=</span> <span class="n">value</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">tolerance</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get or set a number for the max meaningful difference between x, y, z values.</span>

<span class="sd">        This value should be in the Model&#39;s units. Zero indicates cases where</span>
<span class="sd">        no tolerance checks should be performed.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tolerance</span>

    <span class="nd">@tolerance</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">tolerance</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_tolerance</span> <span class="o">=</span> <span class="n">float_positive</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="s1">&#39;model tolerance&#39;</span><span class="p">)</span> <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> \
            <span class="k">else</span> <span class="n">UNITS_TOLERANCES</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">units</span><span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">angle_tolerance</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get or set a number for the max meaningful angle difference in degrees.</span>

<span class="sd">        Face3D normal vectors differing by this amount are not considered parallel</span>
<span class="sd">        and Face3D segments that differ from 180 by this amount are not considered</span>
<span class="sd">        colinear. Zero indicates cases where no angle_tolerance checks should be</span>
<span class="sd">        performed.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_angle_tolerance</span>

    <span class="nd">@angle_tolerance</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">angle_tolerance</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_angle_tolerance</span> <span class="o">=</span> <span class="n">float_positive</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="s1">&#39;model angle_tolerance&#39;</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">reference_vector</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get or set a Vector3D relating the model to a source coordinate system.</span>

<span class="sd">        This is useful if the model has been moved from its original location</span>
<span class="sd">        and there may be future operations of merging geometry from the</span>
<span class="sd">        original source model.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_reference_vector</span>

    <span class="nd">@reference_vector</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">reference_vector</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">Vector3D</span><span class="p">),</span> <span class="s1">&#39;Expected Vector3D for Model &#39;</span> \
                <span class="s1">&#39;reference_vector. Got </span><span class="si">{}</span><span class="s1">.&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">value</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_reference_vector</span> <span class="o">=</span> <span class="n">value</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">buildings</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get or set a tuple of all Building objects in the model.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">tuple</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_buildings</span><span class="p">)</span>

    <span class="nd">@buildings</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">buildings</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_buildings</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">bldg</span> <span class="ow">in</span> <span class="n">value</span><span class="p">:</span>
                <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">bldg</span><span class="p">,</span> <span class="n">Building</span><span class="p">),</span> \
                    <span class="s1">&#39;Expected Building. Got </span><span class="si">{}</span><span class="s1">.&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">bldg</span><span class="p">))</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_buildings</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">bldg</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">context_shades</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get or set a tuple of all ContextShade objects in the model.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">tuple</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_context_shades</span><span class="p">)</span>

    <span class="nd">@context_shades</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">context_shades</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_context_shades</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">shade</span> <span class="ow">in</span> <span class="n">value</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">add_context_shade</span><span class="p">(</span><span class="n">shade</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">stories</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a tuple of all unique Story objects in the model.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">story</span> <span class="k">for</span> <span class="n">building</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_buildings</span>
                     <span class="k">for</span> <span class="n">story</span> <span class="ow">in</span> <span class="n">building</span><span class="o">.</span><span class="n">_unique_stories</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">room_2ds</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a tuple of all unique Room2D objects in the model.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">room2d</span> <span class="k">for</span> <span class="n">building</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_buildings</span>
                     <span class="k">for</span> <span class="n">story</span> <span class="ow">in</span> <span class="n">building</span><span class="o">.</span><span class="n">_unique_stories</span>
                     <span class="k">for</span> <span class="n">room2d</span> <span class="ow">in</span> <span class="n">story</span><span class="o">.</span><span class="n">_room_2ds</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">room_3ds</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a tuple of all 3D Honeybee Room objects in the model.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">room3d</span> <span class="k">for</span> <span class="n">building</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_buildings</span>
                     <span class="k">for</span> <span class="n">room3d</span> <span class="ow">in</span> <span class="n">building</span><span class="o">.</span><span class="n">_room_3ds</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">average_story_count</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the average number of stories for the buildings in the model.</span>

<span class="sd">        Note that this will be a float and not an integer in most cases.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_buildings</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="mi">0</span>
        <span class="k">return</span> <span class="nb">sum</span><span class="p">([</span><span class="n">bldg</span><span class="o">.</span><span class="n">story_count</span> <span class="k">for</span> <span class="n">bldg</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_buildings</span><span class="p">])</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_buildings</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">average_story_count_above_ground</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the average number of above-ground stories for the buildings in the model.</span>

<span class="sd">        Note that this will be a float and not an integer in most cases.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_buildings</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="mi">0</span>
        <span class="k">return</span> <span class="nb">sum</span><span class="p">([</span><span class="n">bldg</span><span class="o">.</span><span class="n">story_count_above_ground</span> <span class="k">for</span> <span class="n">bldg</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_buildings</span><span class="p">])</span> <span class="o">/</span> \
            <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_buildings</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">average_height</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the average height of the Buildings as an absolute Z-coordinate.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_buildings</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="mi">0</span>
        <span class="k">return</span> <span class="nb">sum</span><span class="p">([</span><span class="n">bldg</span><span class="o">.</span><span class="n">height</span> <span class="k">for</span> <span class="n">bldg</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_buildings</span><span class="p">])</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_buildings</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">average_height_above_ground</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the average building height relative to the first floor above ground.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_buildings</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="mi">0</span>
        <span class="k">return</span> <span class="nb">sum</span><span class="p">([</span><span class="n">bldg</span><span class="o">.</span><span class="n">height_above_ground</span> <span class="k">for</span> <span class="n">bldg</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_buildings</span><span class="p">])</span> <span class="o">/</span> \
            <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_buildings</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">footprint_area</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a number for the total footprint area of all Buildings in the Model.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">sum</span><span class="p">([</span><span class="n">bldg</span><span class="o">.</span><span class="n">footprint_area</span> <span class="k">for</span> <span class="n">bldg</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_buildings</span><span class="p">])</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">floor_area</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a number for the total floor area of all Buildings in the Model.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">sum</span><span class="p">([</span><span class="n">bldg</span><span class="o">.</span><span class="n">floor_area</span> <span class="k">for</span> <span class="n">bldg</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_buildings</span><span class="p">])</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">exterior_wall_area</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a number for the total exterior wall area for all Buildings in the Model.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">sum</span><span class="p">([</span><span class="n">bldg</span><span class="o">.</span><span class="n">exterior_wall_area</span> <span class="k">for</span> <span class="n">bldg</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_buildings</span><span class="p">])</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">exterior_aperture_area</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a number for the total exterior aperture area for all Buildings.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">sum</span><span class="p">([</span><span class="n">bldg</span><span class="o">.</span><span class="n">exterior_aperture_area</span> <span class="k">for</span> <span class="n">bldg</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_buildings</span><span class="p">])</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">sub_face_area</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a number for the total sub-face area for all Buildings.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">sum</span><span class="p">([</span><span class="n">bldg</span><span class="o">.</span><span class="n">sub_face_area</span> <span class="k">for</span> <span class="n">bldg</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_buildings</span><span class="p">])</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">volume</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a number for the volume of all the Buildings in the Model.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">sum</span><span class="p">([</span><span class="n">bldg</span><span class="o">.</span><span class="n">volume</span> <span class="k">for</span> <span class="n">bldg</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_buildings</span><span class="p">])</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">min</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a Point2D for the min bounding rectangle vertex in the XY plane.</span>

<span class="sd">        This is useful in calculations to determine if this Model is in proximity</span>
<span class="sd">        to other objects.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_calculate_min</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_buildings</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">_context_shades</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">max</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a Point2D for the max bounding rectangle vertex in the XY plane.</span>

<span class="sd">        This is useful in calculations to determine if this Model is in proximity</span>
<span class="sd">        to other objects.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_calculate_max</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_buildings</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">_context_shades</span><span class="p">)</span>

<div class="viewcode-block" id="Model.add_model">
<a class="viewcode-back" href="../../dragonfly.model.html#dragonfly.model.Model.add_model">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">add_model</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other_model</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Add another Dragonfly Model object to this one.</span>

<span class="sd">        In the case that Building or Story identifiers in the other_model match</span>
<span class="sd">        one the current model, these objects will be merged together. Room2Ds</span>
<span class="sd">        that have matching identifiers within a merged Story will not be added</span>
<span class="sd">        in order to avoid ID conflicts. Context Shades will also not be added if their</span>
<span class="sd">        identifier matches one that is already in the Model.</span>

<span class="sd">        Note that the other model&#39;s unit system does not have to match this one</span>
<span class="sd">        since the other_model will automatically be converted to this model&#39;s</span>
<span class="sd">        units before merging. Also, if this model has a reference_vector assigned,</span>
<span class="sd">        it will be used to translate the other_model before it is merged into</span>
<span class="sd">        this one.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># check that the object to merge is a Model and its units are correct</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other_model</span><span class="p">,</span> <span class="n">Model</span><span class="p">),</span> \
            <span class="s1">&#39;Expected Dragonfly Model. Got </span><span class="si">{}</span><span class="s1">.&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">other_model</span><span class="p">))</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">units</span> <span class="o">!=</span> <span class="n">other_model</span><span class="o">.</span><span class="n">units</span><span class="p">:</span>
            <span class="n">other_model</span><span class="o">.</span><span class="n">convert_to_units</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">units</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">reference_vector</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">other_model</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">reference_vector</span><span class="p">)</span>
        <span class="c1"># add the Buildings while checking to see if they should be merged</span>
        <span class="n">bldg_to_add</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_buildings</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">o_bldg</span> <span class="ow">in</span> <span class="n">other_model</span><span class="o">.</span><span class="n">_buildings</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">e_bldg</span> <span class="ow">in</span> <span class="n">bldg_to_add</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">o_bldg</span><span class="o">.</span><span class="n">identifier</span> <span class="o">==</span> <span class="n">e_bldg</span><span class="o">.</span><span class="n">identifier</span><span class="p">:</span>
                    <span class="n">e_bldg</span><span class="o">.</span><span class="n">add_stories</span><span class="p">(</span><span class="n">o_bldg</span><span class="o">.</span><span class="n">unique_stories</span><span class="p">)</span>
                    <span class="n">e_bldg</span><span class="o">.</span><span class="n">add_room_3ds</span><span class="p">(</span><span class="n">o_bldg</span><span class="o">.</span><span class="n">room_3ds</span><span class="p">)</span>
                    <span class="k">break</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">bldg_to_add</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">o_bldg</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_buildings</span> <span class="o">=</span> <span class="n">bldg_to_add</span>
        <span class="c1"># add the ContextShades while checking for duplicate IDs</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">other_model</span><span class="o">.</span><span class="n">_context_shades</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">new_context</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_context_shades</span>
            <span class="n">exist_set</span> <span class="o">=</span> <span class="p">{</span><span class="n">shd</span><span class="o">.</span><span class="n">identifier</span> <span class="k">for</span> <span class="n">shd</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_context_shades</span><span class="p">}</span>
            <span class="k">for</span> <span class="n">o_shd</span> <span class="ow">in</span> <span class="n">other_model</span><span class="o">.</span><span class="n">_context_shades</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">o_shd</span><span class="o">.</span><span class="n">identifier</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">exist_set</span><span class="p">:</span>
                    <span class="n">new_context</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">o_shd</span><span class="p">)</span>
                    <span class="n">exist_set</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">o_shd</span><span class="o">.</span><span class="n">identifier</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_context_shades</span> <span class="o">=</span> <span class="n">new_context</span></div>


<div class="viewcode-block" id="Model.add_building">
<a class="viewcode-back" href="../../dragonfly.model.html#dragonfly.model.Model.add_building">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">add_building</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Add a Building object to the model.</span>

<span class="sd">        In the case that the Building or Story identifiers of the input obj match</span>
<span class="sd">        one the current model, these objects will be merged together. Room2Ds</span>
<span class="sd">        that are identical within a merged Story will not be merged in order</span>
<span class="sd">        to avoid ID conflicts.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">Building</span><span class="p">),</span> <span class="s1">&#39;Expected Building. Got </span><span class="si">{}</span><span class="s1">.&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">obj</span><span class="p">))</span>
        <span class="k">for</span> <span class="n">e_bldg</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_buildings</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">obj</span><span class="o">.</span><span class="n">identifier</span> <span class="o">==</span> <span class="n">e_bldg</span><span class="o">.</span><span class="n">identifier</span><span class="p">:</span>
                <span class="n">e_bldg</span><span class="o">.</span><span class="n">add_stories</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">unique_stories</span><span class="p">)</span>
                <span class="n">e_bldg</span><span class="o">.</span><span class="n">add_room_3ds</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">room_3ds</span><span class="p">)</span>
                <span class="k">break</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_buildings</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span></div>


<div class="viewcode-block" id="Model.add_context_shade">
<a class="viewcode-back" href="../../dragonfly.model.html#dragonfly.model.Model.add_context_shade">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">add_context_shade</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Add a ContextShade object to the model.&quot;&quot;&quot;</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">ContextShade</span><span class="p">),</span> \
            <span class="s1">&#39;Expected ContextShade. Got </span><span class="si">{}</span><span class="s1">.&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">obj</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_context_shades</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span></div>


<div class="viewcode-block" id="Model.buildings_by_identifier">
<a class="viewcode-back" href="../../dragonfly.model.html#dragonfly.model.Model.buildings_by_identifier">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">buildings_by_identifier</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">identifiers</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a list of Building objects in the model given Building identifiers.&quot;&quot;&quot;</span>
        <span class="n">buildings</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">identifier</span> <span class="ow">in</span> <span class="n">identifiers</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">bldg</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_buildings</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">bldg</span><span class="o">.</span><span class="n">identifier</span> <span class="o">==</span> <span class="n">identifier</span><span class="p">:</span>
                    <span class="n">buildings</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">bldg</span><span class="p">)</span>
                    <span class="k">break</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                    <span class="s1">&#39;Building &quot;</span><span class="si">{}</span><span class="s1">&quot; was not found in the model.&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">identifier</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">buildings</span></div>


<div class="viewcode-block" id="Model.stories_by_identifier">
<a class="viewcode-back" href="../../dragonfly.model.html#dragonfly.model.Model.stories_by_identifier">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">stories_by_identifier</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">identifiers</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a list of Story objects in the model given Story identifiers.&quot;&quot;&quot;</span>
        <span class="n">stories</span><span class="p">,</span> <span class="n">model_stories</span> <span class="o">=</span> <span class="p">[],</span> <span class="bp">self</span><span class="o">.</span><span class="n">stories</span>
        <span class="k">for</span> <span class="n">identifier</span> <span class="ow">in</span> <span class="n">identifiers</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">story</span> <span class="ow">in</span> <span class="n">model_stories</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">story</span><span class="o">.</span><span class="n">identifier</span> <span class="o">==</span> <span class="n">identifier</span><span class="p">:</span>
                    <span class="n">stories</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">story</span><span class="p">)</span>
                    <span class="k">break</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                    <span class="s1">&#39;Story &quot;</span><span class="si">{}</span><span class="s1">&quot; was not found in the model.&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">identifier</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">stories</span></div>


<div class="viewcode-block" id="Model.room_2ds_by_identifier">
<a class="viewcode-back" href="../../dragonfly.model.html#dragonfly.model.Model.room_2ds_by_identifier">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">room_2ds_by_identifier</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">identifiers</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a list of Room2D objects in the model given Room2D identifiers.&quot;&quot;&quot;</span>
        <span class="n">room_2ds</span><span class="p">,</span> <span class="n">model_room_2ds</span> <span class="o">=</span> <span class="p">[],</span> <span class="bp">self</span><span class="o">.</span><span class="n">room_2ds</span>
        <span class="k">for</span> <span class="n">identifier</span> <span class="ow">in</span> <span class="n">identifiers</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">room</span> <span class="ow">in</span> <span class="n">model_room_2ds</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">room</span><span class="o">.</span><span class="n">identifier</span> <span class="o">==</span> <span class="n">identifier</span><span class="p">:</span>
                    <span class="n">room_2ds</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">room</span><span class="p">)</span>
                    <span class="k">break</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                    <span class="s1">&#39;Room2D &quot;</span><span class="si">{}</span><span class="s1">&quot; was not found in the model.&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">identifier</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">room_2ds</span></div>


<div class="viewcode-block" id="Model.room_3ds_by_identifier">
<a class="viewcode-back" href="../../dragonfly.model.html#dragonfly.model.Model.room_3ds_by_identifier">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">room_3ds_by_identifier</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">identifiers</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a list of 3D Honeybee Room objects in the model given Room identifiers.&quot;&quot;&quot;</span>
        <span class="n">room_3ds</span><span class="p">,</span> <span class="n">model_room_3ds</span> <span class="o">=</span> <span class="p">[],</span> <span class="bp">self</span><span class="o">.</span><span class="n">room_3ds</span>
        <span class="k">for</span> <span class="n">identifier</span> <span class="ow">in</span> <span class="n">identifiers</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">room</span> <span class="ow">in</span> <span class="n">model_room_3ds</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">room</span><span class="o">.</span><span class="n">identifier</span> <span class="o">==</span> <span class="n">identifier</span><span class="p">:</span>
                    <span class="n">room_3ds</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">room</span><span class="p">)</span>
                    <span class="k">break</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                    <span class="s1">&#39;Room &quot;</span><span class="si">{}</span><span class="s1">&quot; was not found in the model.&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">identifier</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">room_3ds</span></div>


<div class="viewcode-block" id="Model.context_shade_by_identifier">
<a class="viewcode-back" href="../../dragonfly.model.html#dragonfly.model.Model.context_shade_by_identifier">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">context_shade_by_identifier</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">identifiers</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a list of ContextShade objects in the model given identifiers.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">context_shades</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">identifier</span> <span class="ow">in</span> <span class="n">identifiers</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">shd</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_context_shades</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">shd</span><span class="o">.</span><span class="n">identifier</span> <span class="o">==</span> <span class="n">identifier</span><span class="p">:</span>
                    <span class="n">context_shades</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">shd</span><span class="p">)</span>
                    <span class="k">break</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                    <span class="s1">&#39;ContextShade &quot;</span><span class="si">{}</span><span class="s1">&quot; was not found in the model.&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">identifier</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">context_shades</span></div>


<div class="viewcode-block" id="Model.add_prefix">
<a class="viewcode-back" href="../../dragonfly.model.html#dragonfly.model.Model.add_prefix">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">add_prefix</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prefix</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Change the identifier of this object and child objects by inserting a prefix.</span>

<span class="sd">        This is particularly useful in workflows where you duplicate and edit</span>
<span class="sd">        a starting object and then want to combine it with the original object</span>
<span class="sd">        since all objects within a Model must have unique identifiers to be valid.</span>

<span class="sd">        Args:</span>
<span class="sd">            prefix: Text that will be inserted at the start of this object&#39;s</span>
<span class="sd">                (and child objects&#39;) identifier and display_name. It is recommended</span>
<span class="sd">                that this prefix be short to avoid maxing out the 100 allowable</span>
<span class="sd">                characters for identifiers.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">bldg</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_buildings</span><span class="p">:</span>
            <span class="n">bldg</span><span class="o">.</span><span class="n">add_prefix</span><span class="p">(</span><span class="n">prefix</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">shade</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_context_shades</span><span class="p">:</span>
            <span class="n">shade</span><span class="o">.</span><span class="n">add_prefix</span><span class="p">(</span><span class="n">prefix</span><span class="p">)</span></div>


<div class="viewcode-block" id="Model.resolve_id_collisions">
<a class="viewcode-back" href="../../dragonfly.model.html#dragonfly.model.Model.resolve_id_collisions">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">resolve_id_collisions</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Resolve collisions of duplicate identifiers that exist in the Model.</span>

<span class="sd">        In the case that Building or Story identifiers are duplicated, these objects</span>
<span class="sd">        will be merged together. In the case that Room2Ds that have matching</span>
<span class="sd">        identifiers, an integer will be automatically appended to the Room2D ID</span>
<span class="sd">        to make it unique. Context Shades and 3D Rooms that collide will similarly</span>
<span class="sd">        have their IDs tweaked with an integer if they are duplicated.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># loop through the Buildings and Stories and combine duplicated IDs</span>
        <span class="n">merged_buildings</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">o_bldg</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_buildings</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">e_bldg</span> <span class="ow">in</span> <span class="n">merged_buildings</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">o_bldg</span><span class="o">.</span><span class="n">identifier</span> <span class="o">==</span> <span class="n">e_bldg</span><span class="o">.</span><span class="n">identifier</span><span class="p">:</span>
                    <span class="n">e_bldg</span><span class="o">.</span><span class="n">add_stories</span><span class="p">(</span><span class="n">o_bldg</span><span class="o">.</span><span class="n">unique_stories</span><span class="p">,</span> <span class="n">add_duplicate_ids</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
                    <span class="n">e_bldg</span><span class="o">.</span><span class="n">add_room_3ds</span><span class="p">(</span><span class="n">o_bldg</span><span class="o">.</span><span class="n">room_3ds</span><span class="p">,</span> <span class="n">add_duplicate_ids</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
                    <span class="k">break</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">merged_buildings</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">o_bldg</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_buildings</span> <span class="o">=</span> <span class="n">merged_buildings</span>
        <span class="c1"># loop through all Rooms and ensure their identifiers are unique</span>
        <span class="n">rm_dict</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">room_2d</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">room_2ds</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">room_3ds</span><span class="p">:</span>
            <span class="n">room_2d</span><span class="o">.</span><span class="n">identifier</span> <span class="o">=</span> <span class="n">clean_and_number_string</span><span class="p">(</span>
                <span class="n">room_2d</span><span class="o">.</span><span class="n">identifier</span><span class="p">,</span> <span class="n">rm_dict</span><span class="p">,</span> <span class="s1">&#39;Room identifier&#39;</span><span class="p">)</span>
        <span class="c1"># loop through all ContextShades ans ensure their identifiers are unique</span>
        <span class="n">shd_dict</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">shade</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_context_shades</span><span class="p">:</span>
            <span class="n">shade</span><span class="o">.</span><span class="n">identifier</span> <span class="o">=</span> <span class="n">clean_and_number_string</span><span class="p">(</span>
                <span class="n">shade</span><span class="o">.</span><span class="n">identifier</span><span class="p">,</span> <span class="n">shd_dict</span><span class="p">,</span> <span class="s1">&#39;Shade identifier&#39;</span><span class="p">)</span></div>


<div class="viewcode-block" id="Model.reset_ids">
<a class="viewcode-back" href="../../dragonfly.model.html#dragonfly.model.Model.reset_ids">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">reset_ids</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">repair_surface_bcs</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Reset the identifiers of all Model objects to be derived from display_names.</span>

<span class="sd">        In the event that duplicate identifiers are found, an integer will be</span>
<span class="sd">        automatically appended to the new ID to make it unique. This is similar</span>
<span class="sd">        to the routines that automatically assign unique names to OpenStudio SDK</span>
<span class="sd">        objects.</span>

<span class="sd">        Args:</span>
<span class="sd">            repair_surface_bcs: A Boolean to note whether all Surface boundary</span>
<span class="sd">                conditions across the model should be updated with the new</span>
<span class="sd">                identifiers that were generated from the display names. (Default: True).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># set up dictionaries to hold various pieces of information</span>
        <span class="n">room_map</span><span class="p">,</span> <span class="n">face_map</span><span class="p">,</span> <span class="n">ap_map</span><span class="p">,</span> <span class="n">dr_map</span> <span class="o">=</span> <span class="p">{},</span> <span class="p">{},</span> <span class="p">{},</span> <span class="p">{}</span>
        <span class="n">bldg_dict</span><span class="p">,</span> <span class="n">story_dict</span><span class="p">,</span> <span class="n">rm_dict</span><span class="p">,</span> <span class="n">shd_dict</span> <span class="o">=</span> <span class="p">{},</span> <span class="p">{},</span> <span class="p">{},</span> <span class="p">{}</span>
        <span class="n">face_dict</span><span class="p">,</span> <span class="n">ap_dict</span><span class="p">,</span> <span class="n">dr_dict</span> <span class="o">=</span> <span class="p">{},</span> <span class="p">{},</span> <span class="p">{}</span>

        <span class="c1"># loop through the objects and change their identifiers</span>
        <span class="k">for</span> <span class="n">shade</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_context_shades</span><span class="p">:</span>
            <span class="n">shade</span><span class="o">.</span><span class="n">identifier</span> <span class="o">=</span> <span class="n">clean_and_number_string</span><span class="p">(</span>
                <span class="n">shade</span><span class="o">.</span><span class="n">display_name</span><span class="p">,</span> <span class="n">shd_dict</span><span class="p">,</span> <span class="s1">&#39;Shade identifier&#39;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">bldg</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_buildings</span><span class="p">:</span>
            <span class="n">bldg</span><span class="o">.</span><span class="n">identifier</span> <span class="o">=</span> <span class="n">clean_and_number_string</span><span class="p">(</span>
                <span class="n">bldg</span><span class="o">.</span><span class="n">display_name</span><span class="p">,</span> <span class="n">bldg_dict</span><span class="p">,</span> <span class="s1">&#39;Building identifier&#39;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">story</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">stories</span><span class="p">:</span>
            <span class="n">story</span><span class="o">.</span><span class="n">identifier</span> <span class="o">=</span> <span class="n">clean_and_number_string</span><span class="p">(</span>
                <span class="n">story</span><span class="o">.</span><span class="n">display_name</span><span class="p">,</span> <span class="n">story_dict</span><span class="p">,</span> <span class="s1">&#39;Story identifier&#39;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">rm</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">room_2ds</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">room_3ds</span><span class="p">:</span>
            <span class="n">new_id</span> <span class="o">=</span> <span class="n">clean_and_number_string</span><span class="p">(</span>
                <span class="n">rm</span><span class="o">.</span><span class="n">display_name</span><span class="p">,</span> <span class="n">rm_dict</span><span class="p">,</span> <span class="s1">&#39;Room identifier&#39;</span><span class="p">)</span>
            <span class="n">room_map</span><span class="p">[</span><span class="n">rm</span><span class="o">.</span><span class="n">identifier</span><span class="p">]</span> <span class="o">=</span> <span class="n">new_id</span>
            <span class="n">rm</span><span class="o">.</span><span class="n">identifier</span> <span class="o">=</span> <span class="n">new_id</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">rm</span><span class="p">,</span> <span class="n">HBRoom</span><span class="p">):</span>
                <span class="k">for</span> <span class="n">face</span> <span class="ow">in</span> <span class="n">rm</span><span class="o">.</span><span class="n">faces</span><span class="p">:</span>
                    <span class="n">new_id</span> <span class="o">=</span> <span class="n">clean_and_number_string</span><span class="p">(</span>
                        <span class="n">face</span><span class="o">.</span><span class="n">display_name</span><span class="p">,</span> <span class="n">face_dict</span><span class="p">,</span> <span class="s1">&#39;Face identifier&#39;</span><span class="p">)</span>
                    <span class="n">face_map</span><span class="p">[</span><span class="n">face</span><span class="o">.</span><span class="n">identifier</span><span class="p">]</span> <span class="o">=</span> <span class="n">new_id</span>
                    <span class="n">face</span><span class="o">.</span><span class="n">identifier</span> <span class="o">=</span> <span class="n">new_id</span>
                    <span class="k">for</span> <span class="n">ap</span> <span class="ow">in</span> <span class="n">face</span><span class="o">.</span><span class="n">apertures</span><span class="p">:</span>
                        <span class="n">new_id</span> <span class="o">=</span> <span class="n">clean_and_number_string</span><span class="p">(</span>
                            <span class="n">ap</span><span class="o">.</span><span class="n">display_name</span><span class="p">,</span> <span class="n">ap_dict</span><span class="p">,</span> <span class="s1">&#39;Aperture identifier&#39;</span><span class="p">)</span>
                        <span class="n">ap_map</span><span class="p">[</span><span class="n">ap</span><span class="o">.</span><span class="n">identifier</span><span class="p">]</span> <span class="o">=</span> <span class="n">new_id</span>
                        <span class="n">ap</span><span class="o">.</span><span class="n">identifier</span> <span class="o">=</span> <span class="n">new_id</span>
                    <span class="k">for</span> <span class="n">dr</span> <span class="ow">in</span> <span class="n">face</span><span class="o">.</span><span class="n">doors</span><span class="p">:</span>
                        <span class="n">new_id</span> <span class="o">=</span> <span class="n">clean_and_number_string</span><span class="p">(</span>
                            <span class="n">dr</span><span class="o">.</span><span class="n">display_name</span><span class="p">,</span> <span class="n">dr_dict</span><span class="p">,</span> <span class="s1">&#39;Door identifier&#39;</span><span class="p">)</span>
                        <span class="n">dr_map</span><span class="p">[</span><span class="n">dr</span><span class="o">.</span><span class="n">identifier</span><span class="p">]</span> <span class="o">=</span> <span class="n">new_id</span>
                        <span class="n">dr</span><span class="o">.</span><span class="n">identifier</span> <span class="o">=</span> <span class="n">new_id</span>

        <span class="c1"># reset all of the Surface boundary conditions if requested</span>
        <span class="k">if</span> <span class="n">repair_surface_bcs</span><span class="p">:</span>
            <span class="c1"># reset all of the Surface conditions on the Room2Ds</span>
            <span class="k">for</span> <span class="n">room</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">room_2ds</span><span class="p">:</span>
                <span class="n">new_bcs</span> <span class="o">=</span> <span class="p">[]</span>
                <span class="k">for</span> <span class="n">bc</span> <span class="ow">in</span> <span class="n">room</span><span class="o">.</span><span class="n">boundary_conditions</span><span class="p">:</span>
                    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">bc</span><span class="p">,</span> <span class="n">Surface</span><span class="p">):</span>
                        <span class="n">old_objs</span> <span class="o">=</span> <span class="n">bc</span><span class="o">.</span><span class="n">boundary_condition_objects</span>
                        <span class="n">face_id</span> <span class="o">=</span> <span class="n">old_objs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;..&#39;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                        <span class="n">new_adj_f</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">{}</span><span class="s1">..</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">room_map</span><span class="p">[</span><span class="n">old_objs</span><span class="p">[</span><span class="mi">1</span><span class="p">]],</span> <span class="n">face_id</span><span class="p">)</span>
                        <span class="n">new_objs</span> <span class="o">=</span> <span class="p">(</span><span class="n">new_adj_f</span><span class="p">,</span> <span class="n">room_map</span><span class="p">[</span><span class="n">old_objs</span><span class="p">[</span><span class="mi">1</span><span class="p">]])</span>
                        <span class="n">new_bc</span> <span class="o">=</span> <span class="n">Surface</span><span class="p">(</span><span class="n">new_objs</span><span class="p">)</span>
                        <span class="n">new_bcs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">new_bc</span><span class="p">)</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">new_bcs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">bc</span><span class="p">)</span>
                <span class="n">room</span><span class="o">.</span><span class="n">boundary_conditions</span> <span class="o">=</span> <span class="n">new_bcs</span>
            <span class="c1"># reset all of the Surface conditions on the 3D Rooms</span>
            <span class="k">for</span> <span class="n">room</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">room_3ds</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">face</span> <span class="ow">in</span> <span class="n">room</span><span class="o">.</span><span class="n">faces</span><span class="p">:</span>
                    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">face</span><span class="o">.</span><span class="n">boundary_condition</span><span class="p">,</span> <span class="n">Surface</span><span class="p">):</span>
                        <span class="n">old_objs</span> <span class="o">=</span> <span class="n">face</span><span class="o">.</span><span class="n">boundary_condition</span><span class="o">.</span><span class="n">boundary_condition_objects</span>
                        <span class="n">new_objs</span> <span class="o">=</span> <span class="p">(</span><span class="n">face_map</span><span class="p">[</span><span class="n">old_objs</span><span class="p">[</span><span class="mi">0</span><span class="p">]],</span> <span class="n">room_map</span><span class="p">[</span><span class="n">old_objs</span><span class="p">[</span><span class="mi">1</span><span class="p">]])</span>
                        <span class="n">new_bc</span> <span class="o">=</span> <span class="n">Surface</span><span class="p">(</span><span class="n">new_objs</span><span class="p">)</span>
                        <span class="n">face</span><span class="o">.</span><span class="n">boundary_condition</span> <span class="o">=</span> <span class="n">new_bc</span>
                        <span class="k">for</span> <span class="n">ap</span> <span class="ow">in</span> <span class="n">face</span><span class="o">.</span><span class="n">apertures</span><span class="p">:</span>
                            <span class="n">old_objs</span> <span class="o">=</span> <span class="n">ap</span><span class="o">.</span><span class="n">boundary_condition</span><span class="o">.</span><span class="n">boundary_condition_objects</span>
                            <span class="n">new_objs</span> <span class="o">=</span> <span class="p">(</span><span class="n">ap_map</span><span class="p">[</span><span class="n">old_objs</span><span class="p">[</span><span class="mi">0</span><span class="p">]],</span> <span class="n">face_map</span><span class="p">[</span><span class="n">old_objs</span><span class="p">[</span><span class="mi">1</span><span class="p">]],</span>
                                        <span class="n">room_map</span><span class="p">[</span><span class="n">old_objs</span><span class="p">[</span><span class="mi">2</span><span class="p">]])</span>
                            <span class="n">new_bc</span> <span class="o">=</span> <span class="n">Surface</span><span class="p">(</span><span class="n">new_objs</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
                            <span class="n">ap</span><span class="o">.</span><span class="n">boundary_condition</span> <span class="o">=</span> <span class="n">new_bc</span>
                        <span class="k">for</span> <span class="n">dr</span> <span class="ow">in</span> <span class="n">face</span><span class="o">.</span><span class="n">doors</span><span class="p">:</span>
                            <span class="n">old_objs</span> <span class="o">=</span> <span class="n">dr</span><span class="o">.</span><span class="n">boundary_condition</span><span class="o">.</span><span class="n">boundary_condition_objects</span>
                            <span class="n">new_objs</span> <span class="o">=</span> <span class="p">(</span><span class="n">dr_map</span><span class="p">[</span><span class="n">old_objs</span><span class="p">[</span><span class="mi">0</span><span class="p">]],</span> <span class="n">face_map</span><span class="p">[</span><span class="n">old_objs</span><span class="p">[</span><span class="mi">1</span><span class="p">]],</span>
                                        <span class="n">room_map</span><span class="p">[</span><span class="n">old_objs</span><span class="p">[</span><span class="mi">2</span><span class="p">]])</span>
                            <span class="n">new_bc</span> <span class="o">=</span> <span class="n">Surface</span><span class="p">(</span><span class="n">new_objs</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
                            <span class="n">dr</span><span class="o">.</span><span class="n">boundary_condition</span> <span class="o">=</span> <span class="n">new_bc</span></div>


<div class="viewcode-block" id="Model.separate_top_bottom_floors">
<a class="viewcode-back" href="../../dragonfly.model.html#dragonfly.model.Model.separate_top_bottom_floors">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">separate_top_bottom_floors</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">separate_mid</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Separate top/bottom Stories with non-unity multipliers into their own Stories.</span>

<span class="sd">        The resulting first and last Stories will each have a multiplier of 1 and</span>
<span class="sd">        duplicated middle Stories will be added as needed. This method also</span>
<span class="sd">        automatically assigns the first story Room2Ds to have a ground contact</span>
<span class="sd">        floor and the top story Room2Ds to have an outdoor-exposed roof.</span>

<span class="sd">        separate_mid: Boolean to note whether all mid-level Stories with non-unity</span>
<span class="sd">            multipliers should be separated into two or three Stories. This means</span>
<span class="sd">            that the top of each unique story will have outdoor-exposed roofs when</span>
<span class="sd">            no Room2Ds are sensed above a given room. (Default: False).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">separate_mid</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">bldg</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_buildings</span><span class="p">:</span>
                <span class="n">bldg</span><span class="o">.</span><span class="n">separate_top_bottom_floors</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">p_tol</span> <span class="o">=</span> <span class="n">parse_distance_string</span><span class="p">(</span><span class="s1">&#39;0.01m&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">units</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">bldg</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_buildings</span><span class="p">:</span>
                <span class="n">bldg</span><span class="o">.</span><span class="n">separate_mid_floors</span><span class="p">(</span><span class="n">p_tol</span><span class="p">)</span></div>


<div class="viewcode-block" id="Model.remove_duplicate_roofs">
<a class="viewcode-back" href="../../dragonfly.model.html#dragonfly.model.Model.remove_duplicate_roofs">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">remove_duplicate_roofs</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Remove any roof geometries that appear more than once in each building.</span>

<span class="sd">        This includes duplicated roof geometries assigned to different stories.</span>

<span class="sd">        Args:</span>
<span class="sd">            tolerance: The maximum difference between values at which point vertices</span>
<span class="sd">                are considered to be the same. (Default: 0.01, suitable for</span>
<span class="sd">                objects in Meters).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">bldg</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_buildings</span><span class="p">:</span>
            <span class="n">bldg</span><span class="o">.</span><span class="n">remove_duplicate_roofs</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tolerance</span><span class="p">)</span></div>


<div class="viewcode-block" id="Model.set_outdoor_window_parameters">
<a class="viewcode-back" href="../../dragonfly.model.html#dragonfly.model.Model.set_outdoor_window_parameters">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">set_outdoor_window_parameters</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">window_parameter</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Set all outdoor walls of the Buildings to have the same window parameters.&quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">bldg</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_buildings</span><span class="p">:</span>
            <span class="n">bldg</span><span class="o">.</span><span class="n">set_outdoor_window_parameters</span><span class="p">(</span><span class="n">window_parameter</span><span class="p">)</span></div>


<div class="viewcode-block" id="Model.set_outdoor_shading_parameters">
<a class="viewcode-back" href="../../dragonfly.model.html#dragonfly.model.Model.set_outdoor_shading_parameters">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">set_outdoor_shading_parameters</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">shading_parameter</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Set all outdoor walls of the Buildings to have the same shading parameters.&quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">bldg</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_buildings</span><span class="p">:</span>
            <span class="n">bldg</span><span class="o">.</span><span class="n">set_outdoor_shading_parameters</span><span class="p">(</span><span class="n">shading_parameter</span><span class="p">)</span></div>


<div class="viewcode-block" id="Model.to_rectangular_windows">
<a class="viewcode-back" href="../../dragonfly.model.html#dragonfly.model.Model.to_rectangular_windows">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">to_rectangular_windows</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Convert all of the windows of the Story to the RectangularWindows format.&quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">bldg</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_buildings</span><span class="p">:</span>
            <span class="n">bldg</span><span class="o">.</span><span class="n">to_rectangular_windows</span><span class="p">()</span></div>


<div class="viewcode-block" id="Model.move">
<a class="viewcode-back" href="../../dragonfly.model.html#dragonfly.model.Model.move">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">move</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">moving_vec</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Move this Model along a vector.</span>

<span class="sd">        Args:</span>
<span class="sd">            moving_vec: A ladybug_geometry Vector3D with the direction and distance</span>
<span class="sd">                to move the model.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">bldg</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_buildings</span><span class="p">:</span>
            <span class="n">bldg</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="n">moving_vec</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">shade</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_context_shades</span><span class="p">:</span>
            <span class="n">shade</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="n">moving_vec</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="n">moving_vec</span><span class="p">)</span></div>


<div class="viewcode-block" id="Model.rotate_xy">
<a class="viewcode-back" href="../../dragonfly.model.html#dragonfly.model.Model.rotate_xy">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">rotate_xy</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">angle</span><span class="p">,</span> <span class="n">origin</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Rotate this Model counterclockwise in the world XY plane by a certain angle.</span>

<span class="sd">        Args:</span>
<span class="sd">            angle: An angle in degrees.</span>
<span class="sd">            origin: A ladybug_geometry Point3D for the origin around which the</span>
<span class="sd">                object will be rotated.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">bldg</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_buildings</span><span class="p">:</span>
            <span class="n">bldg</span><span class="o">.</span><span class="n">rotate_xy</span><span class="p">(</span><span class="n">angle</span><span class="p">,</span> <span class="n">origin</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">shade</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_context_shades</span><span class="p">:</span>
            <span class="n">shade</span><span class="o">.</span><span class="n">rotate_xy</span><span class="p">(</span><span class="n">angle</span><span class="p">,</span> <span class="n">origin</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">rotate_xy</span><span class="p">(</span><span class="n">angle</span><span class="p">,</span> <span class="n">origin</span><span class="p">)</span></div>


<div class="viewcode-block" id="Model.reflect">
<a class="viewcode-back" href="../../dragonfly.model.html#dragonfly.model.Model.reflect">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">reflect</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">plane</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Reflect this Model across a plane with the input normal vector and origin.</span>

<span class="sd">        Args:</span>
<span class="sd">            plane: A ladybug_geometry Plane across which the object will</span>
<span class="sd">                be reflected.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">bldg</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_buildings</span><span class="p">:</span>
            <span class="n">bldg</span><span class="o">.</span><span class="n">reflect</span><span class="p">(</span><span class="n">plane</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">shade</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_context_shades</span><span class="p">:</span>
            <span class="n">shade</span><span class="o">.</span><span class="n">reflect</span><span class="p">(</span><span class="n">plane</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">reflect</span><span class="p">(</span><span class="n">plane</span><span class="p">)</span></div>


<div class="viewcode-block" id="Model.scale">
<a class="viewcode-back" href="../../dragonfly.model.html#dragonfly.model.Model.scale">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">scale</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">factor</span><span class="p">,</span> <span class="n">origin</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Scale this Model by a factor from an origin point.</span>

<span class="sd">        Args:</span>
<span class="sd">            factor: A number representing how much the object should be scaled.</span>
<span class="sd">            origin: A ladybug_geometry Point3D representing the origin from which</span>
<span class="sd">                to scale. If None, it will be scaled from the World origin (0, 0, 0).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">bldg</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_buildings</span><span class="p">:</span>
            <span class="n">bldg</span><span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="n">factor</span><span class="p">,</span> <span class="n">origin</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">shade</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_context_shades</span><span class="p">:</span>
            <span class="n">shade</span><span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="n">factor</span><span class="p">,</span> <span class="n">origin</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="n">factor</span><span class="p">,</span> <span class="n">origin</span><span class="p">)</span></div>


<div class="viewcode-block" id="Model.convert_to_units">
<a class="viewcode-back" href="../../dragonfly.model.html#dragonfly.model.Model.convert_to_units">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">convert_to_units</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">units</span><span class="o">=</span><span class="s1">&#39;Meters&#39;</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Convert all of the geometry in this model to certain units.</span>

<span class="sd">        This involves scaling the geometry, scaling the Model tolerance, and</span>
<span class="sd">        changing the Model&#39;s units property.</span>

<span class="sd">        Args:</span>
<span class="sd">            units: Text for the units to which the Model geometry should be</span>
<span class="sd">                converted. Default: Meters. Choose from the following:</span>

<span class="sd">                * Meters</span>
<span class="sd">                * Millimeters</span>
<span class="sd">                * Feet</span>
<span class="sd">                * Inches</span>
<span class="sd">                * Centimeters</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">units</span> <span class="o">!=</span> <span class="n">units</span><span class="p">:</span>
            <span class="n">scale_fac1</span> <span class="o">=</span> <span class="n">conversion_factor_to_meters</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">units</span><span class="p">)</span>
            <span class="n">scale_fac2</span> <span class="o">=</span> <span class="n">conversion_factor_to_meters</span><span class="p">(</span><span class="n">units</span><span class="p">)</span>
            <span class="n">scale_fac</span> <span class="o">=</span> <span class="n">scale_fac1</span> <span class="o">/</span> <span class="n">scale_fac2</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="n">scale_fac</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tolerance</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tolerance</span> <span class="o">*</span> <span class="n">scale_fac</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">units</span> <span class="o">=</span> <span class="n">units</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">reference_vector</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">reference_vector</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">reference_vector</span> <span class="o">*</span> <span class="n">scale_fac</span></div>


<div class="viewcode-block" id="Model.reset_coordinate_system">
<a class="viewcode-back" href="../../dragonfly.model.html#dragonfly.model.Model.reset_coordinate_system">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">reset_coordinate_system</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">new_origin</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Set the origin of the coordinate system in which the model exists.</span>

<span class="sd">        This is useful for resolving cases where the model geometry lies so</span>
<span class="sd">        far from the origin in its current coordinate system that it creates</span>
<span class="sd">        problems. For example, the model geometry might be so high above the</span>
<span class="sd">        origin that EnergyPlus models it in the conditions of the stratosphere.</span>
<span class="sd">        Another possibility is that the float values of the coordinates are so</span>
<span class="sd">        high that floating point tolerance interferes with the proper</span>
<span class="sd">        representation of the model&#39;s details.</span>

<span class="sd">        In addition to moving the model such that the new_origin sets the</span>
<span class="sd">        coordinate values of the geometry, this method will also set the</span>
<span class="sd">        reference_vector of this object such that any models added into this</span>
<span class="sd">        one from the original source coordinate system respect the new system.</span>

<span class="sd">        Args:</span>
<span class="sd">            new_origin: A Point3D in the model&#39;s current coordinate system that</span>
<span class="sd">                will become the origin of the new coordinate system. If unspecified,</span>
<span class="sd">                the minimum of the bounding box around the model geometry will</span>
<span class="sd">                be used and the average_height_above_ground will be used to</span>
<span class="sd">                set the Z coordinate. (Default: None).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># compute the new_origin from the bounding box around the geometry</span>
        <span class="k">if</span> <span class="n">new_origin</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">min_2d</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">min</span>
            <span class="n">z_val</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">average_height</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">average_height_above_ground</span>
            <span class="n">new_origin</span> <span class="o">=</span> <span class="n">Point3D</span><span class="p">(</span><span class="n">min_2d</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">min_2d</span><span class="o">.</span><span class="n">y</span><span class="p">,</span> <span class="n">z_val</span><span class="p">)</span>
        <span class="c1"># move the geometry using a vector that is the inverse of the origin</span>
        <span class="n">ref_vec</span> <span class="o">=</span> <span class="n">Vector3D</span><span class="p">(</span><span class="o">-</span><span class="n">new_origin</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="o">-</span><span class="n">new_origin</span><span class="o">.</span><span class="n">y</span><span class="p">,</span> <span class="o">-</span><span class="n">new_origin</span><span class="o">.</span><span class="n">z</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="n">ref_vec</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">reference_vector</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">reference_vector</span> <span class="o">=</span> <span class="n">ref_vec</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">reference_vector</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">reference_vector</span> <span class="o">+</span> <span class="n">ref_vec</span></div>


<div class="viewcode-block" id="Model.check_for_extension">
<a class="viewcode-back" href="../../dragonfly.model.html#dragonfly.model.Model.check_for_extension">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">check_for_extension</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">extension_name</span><span class="o">=</span><span class="s1">&#39;Generic&#39;</span><span class="p">,</span>
                            <span class="n">raise_exception</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">detailed</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Check that the Model is valid for a specific Dragonfly extension.</span>

<span class="sd">        This process will typically include both dragonfly-core checks as well</span>
<span class="sd">        as checks that apply only to the extension. However, any checks that</span>
<span class="sd">        are not relevant for the specified extension will be ignored.</span>

<span class="sd">        Note that the specified Dragonfly extension must be installed in order</span>
<span class="sd">        for this method to run successfully.</span>

<span class="sd">        Args:</span>
<span class="sd">            extension_name: Text for the name of the extension to be checked.</span>
<span class="sd">                The value input here is case-insensitive such that &quot;radiance&quot;</span>
<span class="sd">                and &quot;Radiance&quot; will both result in the model being checked for</span>
<span class="sd">                validity with dragonfly-radiance. This value can also be set to</span>
<span class="sd">                &quot;Generic&quot; in order to run checks for all installed extensions.</span>
<span class="sd">                Using &quot;Generic&quot; will run all except the most limiting of</span>
<span class="sd">                checks (eg. DOE2&#39;s lack of support for courtyards) with the</span>
<span class="sd">                goal of producing a model that is export-able to multiple</span>
<span class="sd">                engines (albeit with a little extra postprocessing for</span>
<span class="sd">                particularly limited engines). Some common dragonfly extension</span>
<span class="sd">                names that can be input here if they are installed include:</span>

<span class="sd">                * Radiance</span>
<span class="sd">                * EnergyPlus</span>
<span class="sd">                * OpenStudio</span>
<span class="sd">                * DesignBuilder</span>
<span class="sd">                * DOE2</span>
<span class="sd">                * IESVE</span>
<span class="sd">                * IDAICE</span>

<span class="sd">                Note that EnergyPlus, OpenStudio, and DesignBuilder are all set</span>
<span class="sd">                to run the same checks with dragonfly-energy.</span>
<span class="sd">            raise_exception: Boolean to note whether a ValueError should be raised</span>
<span class="sd">                if any errors are found. If False, this method will simply</span>
<span class="sd">                return a text string with all errors that were found. (Default: True).</span>
<span class="sd">            detailed: Boolean for whether the returned object is a detailed list of</span>
<span class="sd">                dicts with error info or a string with a message. (Default: False).</span>

<span class="sd">        Returns:</span>
<span class="sd">            A text string with all errors that were found or a list if detailed is True.</span>
<span class="sd">            This string (or list) will be empty if no errors were found.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># set up defaults to ensure the method runs correctly</span>
        <span class="n">detailed</span> <span class="o">=</span> <span class="kc">False</span> <span class="k">if</span> <span class="n">raise_exception</span> <span class="k">else</span> <span class="n">detailed</span>
        <span class="n">extension_name</span> <span class="o">=</span> <span class="n">extension_name</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">extension_name</span> <span class="ow">in</span> <span class="p">(</span><span class="s1">&#39;all&#39;</span><span class="p">,</span> <span class="s1">&#39;generic&#39;</span><span class="p">):</span>
            <span class="n">all_ext_checks</span> <span class="o">=</span> <span class="n">extension_name</span> <span class="o">==</span> <span class="s1">&#39;all&#39;</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_all</span><span class="p">(</span><span class="n">raise_exception</span><span class="p">,</span> <span class="n">detailed</span><span class="p">,</span> <span class="n">all_ext_checks</span><span class="p">)</span>
        <span class="n">energy_extensions</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;energyplus&#39;</span><span class="p">,</span> <span class="s1">&#39;openstudio&#39;</span><span class="p">,</span> <span class="s1">&#39;designbuilder&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">extension_name</span> <span class="ow">in</span> <span class="n">energy_extensions</span><span class="p">:</span>
            <span class="n">extension_name</span> <span class="o">=</span> <span class="s1">&#39;energy&#39;</span>
        <span class="k">elif</span> <span class="n">extension_name</span> <span class="o">==</span> <span class="s1">&#39;ies&#39;</span><span class="p">:</span>
            <span class="n">extension_name</span> <span class="o">=</span> <span class="s1">&#39;iesve&#39;</span>

        <span class="c1"># check the extension attributes</span>
        <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">tolerance</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">,</span> \
            <span class="s1">&#39;Model must have a non-zero tolerance in order to perform geometry checks.&#39;</span>
        <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">angle_tolerance</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">,</span> \
            <span class="s1">&#39;Model must have a non-zero angle_tolerance to perform geometry checks.&#39;</span>
        <span class="n">msgs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_properties</span><span class="o">.</span><span class="n">_check_for_extension</span><span class="p">(</span><span class="n">extension_name</span><span class="p">,</span> <span class="n">detailed</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">detailed</span><span class="p">:</span>
            <span class="n">msgs</span> <span class="o">=</span> <span class="p">[</span><span class="n">m</span> <span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="n">msgs</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">m</span><span class="p">,</span> <span class="nb">list</span><span class="p">)]</span>

        <span class="c1"># output a final report of errors or raise an exception</span>
        <span class="n">full_msgs</span> <span class="o">=</span> <span class="p">[</span><span class="n">msg</span> <span class="k">for</span> <span class="n">msg</span> <span class="ow">in</span> <span class="n">msgs</span> <span class="k">if</span> <span class="n">msg</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">detailed</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">[</span><span class="n">m</span> <span class="k">for</span> <span class="n">msg</span> <span class="ow">in</span> <span class="n">full_msgs</span> <span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="n">msg</span><span class="p">]</span>
        <span class="n">full_msg</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">full_msgs</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">raise_exception</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">full_msgs</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">full_msg</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">full_msg</span></div>


<div class="viewcode-block" id="Model.check_for_error">
<a class="viewcode-back" href="../../dragonfly.model.html#dragonfly.model.Model.check_for_error">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">check_for_error</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">error_code</span><span class="p">,</span> <span class="n">raise_exception</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">detailed</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Check that the Model is valid for a specific validation error code.</span>

<span class="sd">        Note that, in order for error codes from a given dragonfly extension to</span>
<span class="sd">        run correctly with this method, the specified Dragonfly extension related</span>
<span class="sd">        to the error code must be installed.</span>

<span class="sd">        Args:</span>
<span class="sd">            error_code: Text for the error code for which the check will be performed.</span>
<span class="sd">                This can be the value under the &quot;code&quot; key in the dictionary of</span>
<span class="sd">                the validation error whenever the detailed option is used.</span>
<span class="sd">            raise_exception: Boolean to note whether a ValueError should be raised</span>
<span class="sd">                if any errors are found. If False, this method will simply</span>
<span class="sd">                return a text string with all errors that were found. (Default: True).</span>
<span class="sd">            detailed: Boolean for whether the returned object is a detailed list of</span>
<span class="sd">                dicts with error info or a string with a message. (Default: False).</span>

<span class="sd">        Returns:</span>
<span class="sd">            A text string with all errors that were found or a list if detailed is True.</span>
<span class="sd">            This string (or list) will be empty if no errors were found.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># set up defaults to ensure the method runs correctly</span>
        <span class="n">detailed</span> <span class="o">=</span> <span class="kc">False</span> <span class="k">if</span> <span class="n">raise_exception</span> <span class="k">else</span> <span class="n">detailed</span>
        <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">tolerance</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">,</span> \
            <span class="s1">&#39;Model must have a non-zero tolerance in order to perform geometry checks.&#39;</span>
        <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">angle_tolerance</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">,</span> \
            <span class="s1">&#39;Model must have a non-zero angle_tolerance to perform geometry checks.&#39;</span>
        <span class="n">error_code</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">error_code</span><span class="p">)</span>  <span class="c1"># catch the case someone passed an int</span>

        <span class="c1"># get the check function to be run from the error code</span>
        <span class="k">try</span><span class="p">:</span>  <span class="c1"># fist see if the check function exists on the cor object</span>
            <span class="n">check_func</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ERROR_MAP</span><span class="p">[</span><span class="n">error_code</span><span class="p">]</span>
            <span class="n">check_func</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">check_func</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>  <span class="c1"># next, see if the check function exists in an extension</span>
            <span class="n">check_func</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_properties</span><span class="o">.</span><span class="n">_check_func_from_code</span><span class="p">(</span><span class="n">error_code</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">check_func</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">err_msg</span> <span class="o">=</span> <span class="s1">&#39;No check function was found matching the error &#39;</span> \
                    <span class="s1">&#39;code &quot;</span><span class="si">{}</span><span class="s1">&quot;.&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">error_code</span><span class="p">)</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">err_msg</span><span class="p">)</span>

        <span class="c1"># run the check function</span>
        <span class="k">return</span> <span class="n">check_func</span><span class="p">(</span><span class="n">raise_exception</span><span class="o">=</span><span class="n">raise_exception</span><span class="p">,</span> <span class="n">detailed</span><span class="o">=</span><span class="n">detailed</span><span class="p">)</span></div>


<div class="viewcode-block" id="Model.check_all">
<a class="viewcode-back" href="../../dragonfly.model.html#dragonfly.model.Model.check_all">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">check_all</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">raise_exception</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">detailed</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">all_ext_checks</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Check all of the aspects of the Model for validation errors.</span>

<span class="sd">        Args:</span>
<span class="sd">            raise_exception: Boolean to note whether a ValueError should be raised</span>
<span class="sd">                if any Model errors are found. If False, this method will simply</span>
<span class="sd">                return a text string with all errors that were found. (Default: True).</span>
<span class="sd">            detailed: Boolean for whether the returned object is a detailed list of</span>
<span class="sd">                dicts with error info or a string with a message. (Default: False).</span>
<span class="sd">            all_ext_checks: Boolean to note whether every single check that is</span>
<span class="sd">                available for all installed extensions should be run (True) or only</span>
<span class="sd">                generic checks that cover all except the most limiting of</span>
<span class="sd">                cases should be run (False). Examples of checks that are skipped</span>
<span class="sd">                when this argument is False include a check for any courtyards</span>
<span class="sd">                in buildings, which are not supported in DOE2. (Default: False).</span>

<span class="sd">        Returns:</span>
<span class="sd">            A text string with all errors that were found or a list if detailed is True.</span>
<span class="sd">            This string (or list) will be empty if no errors were found.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># set up defaults to ensure the method runs correctly</span>
        <span class="n">detailed</span> <span class="o">=</span> <span class="kc">False</span> <span class="k">if</span> <span class="n">raise_exception</span> <span class="k">else</span> <span class="n">detailed</span>
        <span class="n">msgs</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">tolerance</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">,</span> \
            <span class="s1">&#39;Model must have a non-zero tolerance in order to perform geometry checks.&#39;</span>
        <span class="n">tol</span><span class="p">,</span> <span class="n">a_tol</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tolerance</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">angle_tolerance</span>
        <span class="c1"># perform checks for key dragonfly model schema rules</span>
        <span class="n">msgs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">check_all_duplicate_identifiers</span><span class="p">(</span><span class="kc">False</span><span class="p">,</span> <span class="n">detailed</span><span class="p">))</span>
        <span class="n">msgs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">check_degenerate_room_2ds</span><span class="p">(</span><span class="n">tol</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="n">detailed</span><span class="p">))</span>
        <span class="n">msgs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">check_self_intersecting_room_2ds</span><span class="p">(</span><span class="n">tol</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="n">detailed</span><span class="p">))</span>
        <span class="n">msgs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">check_plenum_depths</span><span class="p">(</span><span class="n">tol</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="n">detailed</span><span class="p">))</span>
        <span class="n">msgs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">check_window_parameters_valid</span><span class="p">(</span><span class="n">tol</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="n">detailed</span><span class="p">))</span>
        <span class="n">msgs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">check_no_room2d_overlaps</span><span class="p">(</span><span class="n">tol</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="n">detailed</span><span class="p">))</span>
        <span class="n">msgs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">check_collisions_between_stories</span><span class="p">(</span><span class="n">tol</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="n">detailed</span><span class="p">))</span>
        <span class="n">msgs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">check_roofs_above_rooms</span><span class="p">(</span><span class="n">tol</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="n">detailed</span><span class="p">))</span>
        <span class="n">msgs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">check_room2d_floor_heights_valid</span><span class="p">(</span><span class="kc">False</span><span class="p">,</span> <span class="n">detailed</span><span class="p">))</span>
        <span class="n">msgs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">check_missing_adjacencies</span><span class="p">(</span><span class="kc">False</span><span class="p">,</span> <span class="n">detailed</span><span class="p">))</span>
        <span class="n">msgs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">check_all_room3d</span><span class="p">(</span><span class="n">tol</span><span class="p">,</span> <span class="n">a_tol</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="n">detailed</span><span class="p">))</span>
        <span class="c1"># check the extension attributes</span>
        <span class="n">ext_msgs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_properties</span><span class="o">.</span><span class="n">_check_all_extension_attr</span><span class="p">(</span><span class="n">detailed</span><span class="p">,</span> <span class="n">all_ext_checks</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">detailed</span><span class="p">:</span>
            <span class="n">ext_msgs</span> <span class="o">=</span> <span class="p">[</span><span class="n">m</span> <span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="n">ext_msgs</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">m</span><span class="p">,</span> <span class="nb">list</span><span class="p">)]</span>
        <span class="n">msgs</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">ext_msgs</span><span class="p">)</span>
        <span class="c1"># output a final report of errors or raise an exception</span>
        <span class="n">full_msgs</span> <span class="o">=</span> <span class="p">[</span><span class="n">msg</span> <span class="k">for</span> <span class="n">msg</span> <span class="ow">in</span> <span class="n">msgs</span> <span class="k">if</span> <span class="n">msg</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">detailed</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">[</span><span class="n">m</span> <span class="k">for</span> <span class="n">msg</span> <span class="ow">in</span> <span class="n">full_msgs</span> <span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="n">msg</span><span class="p">]</span>
        <span class="n">full_msg</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">full_msgs</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">raise_exception</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">full_msgs</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">full_msg</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">full_msg</span></div>


<div class="viewcode-block" id="Model.check_all_room_collisions">
<a class="viewcode-back" href="../../dragonfly.model.html#dragonfly.model.Model.check_all_room_collisions">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">check_all_room_collisions</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">raise_exception</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">detailed</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Check all types of Room2D collisions and major geometry errors.</span>

<span class="sd">        This includes checking for degenerate and self-interesting Room2Ds as well</span>
<span class="sd">        as checking for Room2D overlaps within Stories and collisions between Stories.</span>

<span class="sd">        Args:</span>
<span class="sd">            raise_exception: Boolean to note whether a ValueError should be raised</span>
<span class="sd">                if any duplicate IDs are found. If False, this method will simply</span>
<span class="sd">                return a text string with all errors that were found. (Default: True).</span>
<span class="sd">            detailed: Boolean for whether the returned object is a detailed list of</span>
<span class="sd">                dicts with error info or a string with a message. (Default: False).</span>

<span class="sd">        Returns:</span>
<span class="sd">            A text string with all errors that were found or a list if detailed is True.</span>
<span class="sd">            This string (or list) will be empty if no errors were found.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># set up defaults to ensure the method runs correctly</span>
        <span class="n">detailed</span> <span class="o">=</span> <span class="kc">False</span> <span class="k">if</span> <span class="n">raise_exception</span> <span class="k">else</span> <span class="n">detailed</span>
        <span class="n">msgs</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">tolerance</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">,</span> \
            <span class="s1">&#39;Model must have a non-zero tolerance in order to perform geometry checks.&#39;</span>
        <span class="n">tol</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tolerance</span>
        <span class="c1"># perform checks for duplicate identifiers</span>
        <span class="n">msgs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">check_degenerate_room_2ds</span><span class="p">(</span><span class="n">tol</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="n">detailed</span><span class="p">))</span>
        <span class="n">msgs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">check_self_intersecting_room_2ds</span><span class="p">(</span><span class="n">tol</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="n">detailed</span><span class="p">))</span>
        <span class="n">msgs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">check_no_room2d_overlaps</span><span class="p">(</span><span class="n">tol</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="n">detailed</span><span class="p">))</span>
        <span class="n">msgs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">check_collisions_between_stories</span><span class="p">(</span><span class="n">tol</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="n">detailed</span><span class="p">))</span>
        <span class="c1"># output a final report of errors or raise an exception</span>
        <span class="n">full_msgs</span> <span class="o">=</span> <span class="p">[</span><span class="n">msg</span> <span class="k">for</span> <span class="n">msg</span> <span class="ow">in</span> <span class="n">msgs</span> <span class="k">if</span> <span class="n">msg</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">detailed</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">[</span><span class="n">m</span> <span class="k">for</span> <span class="n">msg</span> <span class="ow">in</span> <span class="n">full_msgs</span> <span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="n">msg</span><span class="p">]</span>
        <span class="n">full_msg</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">full_msgs</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">raise_exception</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">full_msgs</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">full_msg</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">full_msg</span></div>


<div class="viewcode-block" id="Model.check_all_duplicate_identifiers">
<a class="viewcode-back" href="../../dragonfly.model.html#dragonfly.model.Model.check_all_duplicate_identifiers">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">check_all_duplicate_identifiers</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">raise_exception</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">detailed</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Check that there are no duplicate identifiers for any geometry objects.</span>

<span class="sd">        This includes Buildings, Stories, Room2Ds, and ContextShades.</span>

<span class="sd">        Args:</span>
<span class="sd">            raise_exception: Boolean to note whether a ValueError should be raised</span>
<span class="sd">                if any duplicate IDs are found. If False, this method will simply</span>
<span class="sd">                return a text string with all errors that were found. (Default: True).</span>
<span class="sd">            detailed: Boolean for whether the returned object is a detailed list of</span>
<span class="sd">                dicts with error info or a string with a message. (Default: False).</span>

<span class="sd">        Returns:</span>
<span class="sd">            A text string with all errors that were found or a list if detailed is True.</span>
<span class="sd">            This string (or list) will be empty if no errors were found.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># set up defaults to ensure the method runs correctly</span>
        <span class="n">detailed</span> <span class="o">=</span> <span class="kc">False</span> <span class="k">if</span> <span class="n">raise_exception</span> <span class="k">else</span> <span class="n">detailed</span>
        <span class="n">msgs</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="c1"># perform checks for duplicate identifiers</span>
        <span class="n">msgs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">check_duplicate_context_shade_identifiers</span><span class="p">(</span><span class="kc">False</span><span class="p">,</span> <span class="n">detailed</span><span class="p">))</span>
        <span class="n">msgs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">check_duplicate_room_2d_identifiers</span><span class="p">(</span><span class="kc">False</span><span class="p">,</span> <span class="n">detailed</span><span class="p">))</span>
        <span class="n">msgs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">check_duplicate_story_identifiers</span><span class="p">(</span><span class="kc">False</span><span class="p">,</span> <span class="n">detailed</span><span class="p">))</span>
        <span class="n">msgs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">check_duplicate_building_identifiers</span><span class="p">(</span><span class="kc">False</span><span class="p">,</span> <span class="n">detailed</span><span class="p">))</span>
        <span class="c1"># output a final report of errors or raise an exception</span>
        <span class="n">full_msgs</span> <span class="o">=</span> <span class="p">[</span><span class="n">msg</span> <span class="k">for</span> <span class="n">msg</span> <span class="ow">in</span> <span class="n">msgs</span> <span class="k">if</span> <span class="n">msg</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">detailed</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">[</span><span class="n">m</span> <span class="k">for</span> <span class="n">msg</span> <span class="ow">in</span> <span class="n">full_msgs</span> <span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="n">msg</span><span class="p">]</span>
        <span class="n">full_msg</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">full_msgs</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">raise_exception</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">full_msgs</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">full_msg</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">full_msg</span></div>


<div class="viewcode-block" id="Model.check_duplicate_building_identifiers">
<a class="viewcode-back" href="../../dragonfly.model.html#dragonfly.model.Model.check_duplicate_building_identifiers">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">check_duplicate_building_identifiers</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">raise_exception</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">detailed</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Check that there are no duplicate Building identifiers in the model.</span>

<span class="sd">        Args:</span>
<span class="sd">            raise_exception: Boolean to note whether a ValueError should be raised</span>
<span class="sd">                if duplicate identifiers are found. (Default: True).</span>
<span class="sd">            detailed: Boolean for whether the returned object is a detailed list of</span>
<span class="sd">                dicts with error info or a string with a message. (Default: False).</span>

<span class="sd">        Returns:</span>
<span class="sd">            A string with the message or a list with a dictionary if detailed is True.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">check_duplicate_identifiers</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_buildings</span><span class="p">,</span> <span class="n">raise_exception</span><span class="p">,</span> <span class="s1">&#39;Building&#39;</span><span class="p">,</span> <span class="n">detailed</span><span class="p">,</span> <span class="s1">&#39;100004&#39;</span><span class="p">,</span> <span class="s1">&#39;Core&#39;</span><span class="p">,</span>
            <span class="s1">&#39;Duplicate Building Identifier&#39;</span><span class="p">)</span></div>


<div class="viewcode-block" id="Model.check_duplicate_story_identifiers">
<a class="viewcode-back" href="../../dragonfly.model.html#dragonfly.model.Model.check_duplicate_story_identifiers">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">check_duplicate_story_identifiers</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">raise_exception</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">detailed</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Check that there are no duplicate Story identifiers in the model.</span>

<span class="sd">        Args:</span>
<span class="sd">            raise_exception: Boolean to note whether a ValueError should be raised</span>
<span class="sd">                if duplicate identifiers are found. (Default: True).</span>
<span class="sd">            detailed: Boolean for whether the returned object is a detailed list of</span>
<span class="sd">                dicts with error info or a string with a message. (Default: False).</span>

<span class="sd">        Returns:</span>
<span class="sd">            A string with the message or a list with a dictionary if detailed is True.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">check_duplicate_identifiers</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">stories</span><span class="p">,</span> <span class="n">raise_exception</span><span class="p">,</span> <span class="s1">&#39;Story&#39;</span><span class="p">,</span> <span class="n">detailed</span><span class="p">,</span> <span class="s1">&#39;100003&#39;</span><span class="p">,</span> <span class="s1">&#39;Core&#39;</span><span class="p">,</span>
            <span class="s1">&#39;Duplicate Story Identifier&#39;</span><span class="p">)</span></div>


<div class="viewcode-block" id="Model.check_duplicate_room_2d_identifiers">
<a class="viewcode-back" href="../../dragonfly.model.html#dragonfly.model.Model.check_duplicate_room_2d_identifiers">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">check_duplicate_room_2d_identifiers</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">raise_exception</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">detailed</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Check that there are no duplicate Room2D identifiers in the model.</span>

<span class="sd">        Args:</span>
<span class="sd">            raise_exception: Boolean to note whether a ValueError should be raised</span>
<span class="sd">                if duplicate identifiers are found. (Default: True).</span>
<span class="sd">            detailed: Boolean for whether the returned object is a detailed list of</span>
<span class="sd">                dicts with error info or a string with a message. (Default: False).</span>

<span class="sd">        Returns:</span>
<span class="sd">            A string with the message or a list with a dictionary if detailed is True.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">check_duplicate_identifiers</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">room_2ds</span><span class="p">,</span> <span class="n">raise_exception</span><span class="p">,</span> <span class="s1">&#39;Room2D&#39;</span><span class="p">,</span> <span class="n">detailed</span><span class="p">,</span> <span class="s1">&#39;100002&#39;</span><span class="p">,</span> <span class="s1">&#39;Core&#39;</span><span class="p">,</span>
            <span class="s1">&#39;Duplicate Room2D Identifier&#39;</span><span class="p">)</span></div>


<div class="viewcode-block" id="Model.check_duplicate_context_shade_identifiers">
<a class="viewcode-back" href="../../dragonfly.model.html#dragonfly.model.Model.check_duplicate_context_shade_identifiers">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">check_duplicate_context_shade_identifiers</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span> <span class="n">raise_exception</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">detailed</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Check that there are no duplicate ContextShade identifiers in the model.</span>

<span class="sd">        Args:</span>
<span class="sd">            raise_exception: Boolean to note whether a ValueError should be raised</span>
<span class="sd">                if duplicate identifiers are found. (Default: True).</span>
<span class="sd">            detailed: Boolean for whether the returned object is a detailed list of</span>
<span class="sd">                dicts with error info or a string with a message. (Default: False).</span>

<span class="sd">        Returns:</span>
<span class="sd">            A string with the message or a list with a dictionary if detailed is True.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">check_duplicate_identifiers</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_context_shades</span><span class="p">,</span> <span class="n">raise_exception</span><span class="p">,</span> <span class="s1">&#39;ContextShade&#39;</span><span class="p">,</span> <span class="n">detailed</span><span class="p">,</span>
            <span class="s1">&#39;100001&#39;</span><span class="p">,</span> <span class="s1">&#39;Core&#39;</span><span class="p">,</span> <span class="s1">&#39;Duplicate ContextShade Identifier&#39;</span><span class="p">)</span></div>


<div class="viewcode-block" id="Model.check_degenerate_room_2ds">
<a class="viewcode-back" href="../../dragonfly.model.html#dragonfly.model.Model.check_degenerate_room_2ds">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">check_degenerate_room_2ds</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tolerance</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">raise_exception</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                  <span class="n">detailed</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Check that all Room2Ds are not degenerate with zero area.</span>

<span class="sd">        Args:</span>
<span class="sd">            tolerance: The minimum difference between the coordinate values of two</span>
<span class="sd">                vertices at which they can be considered equivalent. If None, the</span>
<span class="sd">                Model tolerance will be used. (Default: None).</span>
<span class="sd">            raise_exception: Boolean to note whether a ValueError should be raised</span>
<span class="sd">                if the window parameters are not valid.</span>
<span class="sd">            detailed: Boolean for whether the returned object is a detailed list of</span>
<span class="sd">                dicts with error info or a string with a message. (Default: False).</span>

<span class="sd">        Returns:</span>
<span class="sd">            A string with the message or a list with a dictionary if detailed is True.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">tolerance</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tolerance</span> <span class="k">if</span> <span class="n">tolerance</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">tolerance</span>
        <span class="n">detailed</span> <span class="o">=</span> <span class="kc">False</span> <span class="k">if</span> <span class="n">raise_exception</span> <span class="k">else</span> <span class="n">detailed</span>
        <span class="n">msgs</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">room</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">room_2ds</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="n">room</span><span class="o">.</span><span class="n">check_degenerate</span><span class="p">(</span><span class="n">tolerance</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="n">detailed</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">detailed</span><span class="p">:</span>
                <span class="n">msgs</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">msg</span> <span class="o">!=</span> <span class="s1">&#39;&#39;</span><span class="p">:</span>
                <span class="n">msgs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">detailed</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">msgs</span>
        <span class="n">full_msg</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">msgs</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">raise_exception</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">msgs</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">full_msg</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">full_msg</span></div>


<div class="viewcode-block" id="Model.check_self_intersecting_room_2ds">
<a class="viewcode-back" href="../../dragonfly.model.html#dragonfly.model.Model.check_self_intersecting_room_2ds">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">check_self_intersecting_room_2ds</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tolerance</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">raise_exception</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                         <span class="n">detailed</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Check that all Room2Ds do not intersect with themselves (like a bowtie).</span>

<span class="sd">        Note that objects that have duplicate vertices will not be considered</span>
<span class="sd">        self-intersecting and are valid.</span>

<span class="sd">        Args:</span>
<span class="sd">            tolerance: The minimum difference between the coordinate values of two</span>
<span class="sd">                vertices at which they can be considered equivalent. If None, the</span>
<span class="sd">                Model tolerance will be used. (Default: None).</span>
<span class="sd">            raise_exception: Boolean to note whether a ValueError should be raised</span>
<span class="sd">                if the window parameters are not valid.</span>
<span class="sd">            detailed: Boolean for whether the returned object is a detailed list of</span>
<span class="sd">                dicts with error info or a string with a message. (Default: False).</span>

<span class="sd">        Returns:</span>
<span class="sd">            A string with the message or a list with a dictionary if detailed is True.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">tolerance</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tolerance</span> <span class="k">if</span> <span class="n">tolerance</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">tolerance</span>
        <span class="n">detailed</span> <span class="o">=</span> <span class="kc">False</span> <span class="k">if</span> <span class="n">raise_exception</span> <span class="k">else</span> <span class="n">detailed</span>
        <span class="n">msgs</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">room</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">room_2ds</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="n">room</span><span class="o">.</span><span class="n">check_self_intersecting</span><span class="p">(</span><span class="n">tolerance</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="n">detailed</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">detailed</span><span class="p">:</span>
                <span class="n">msgs</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">msg</span> <span class="o">!=</span> <span class="s1">&#39;&#39;</span><span class="p">:</span>
                <span class="n">msgs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">detailed</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">msgs</span>
        <span class="n">full_msg</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">msgs</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">raise_exception</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">msgs</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">full_msg</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">full_msg</span></div>


<div class="viewcode-block" id="Model.check_room2d_floor_heights_valid">
<a class="viewcode-back" href="../../dragonfly.model.html#dragonfly.model.Model.check_room2d_floor_heights_valid">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">check_room2d_floor_heights_valid</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">raise_exception</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">detailed</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Check that all Room2Ds have floor elevations in range to be on the same Story.</span>

<span class="sd">        Args:</span>
<span class="sd">            raise_exception: Boolean to note whether a ValueError should be raised</span>
<span class="sd">                if rooms with inappropriate floor elevations are found. (Default: True).</span>
<span class="sd">            detailed: Boolean for whether the returned object is a detailed list of</span>
<span class="sd">                dicts with error info or a string with a message. (Default: False).</span>

<span class="sd">        Returns:</span>
<span class="sd">            A string with the message or a list with a dictionary if detailed is True.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">bldg_ids</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">bldg</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_buildings</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">story</span> <span class="ow">in</span> <span class="n">bldg</span><span class="o">.</span><span class="n">_unique_stories</span><span class="p">:</span>
                <span class="n">ov_msg</span> <span class="o">=</span> <span class="n">story</span><span class="o">.</span><span class="n">check_room2d_floor_heights_valid</span><span class="p">(</span><span class="kc">False</span><span class="p">,</span> <span class="n">detailed</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">ov_msg</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">detailed</span><span class="p">:</span>
                        <span class="n">bldg_ids</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">ov_msg</span><span class="p">)</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">bldg_ids</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{}</span><span class="se">\n</span><span class="s1"> </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">bldg</span><span class="o">.</span><span class="n">full_id</span><span class="p">,</span> <span class="n">ov_msg</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">detailed</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">bldg_ids</span>
        <span class="k">if</span> <span class="n">bldg_ids</span> <span class="o">!=</span> <span class="p">[]:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;The following Buildings have Stories with invalid floor elevations&#39;</span> \
                <span class="s1">&#39;:</span><span class="se">\n</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">bldg_ids</span><span class="p">))</span>
            <span class="k">if</span> <span class="n">raise_exception</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">msg</span>
        <span class="k">return</span> <span class="s1">&#39;&#39;</span></div>


<div class="viewcode-block" id="Model.check_plenum_depths">
<a class="viewcode-back" href="../../dragonfly.model.html#dragonfly.model.Model.check_plenum_depths">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">check_plenum_depths</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tolerance</span><span class="o">=</span><span class="mf">0.01</span><span class="p">,</span> <span class="n">raise_exception</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">detailed</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Check that all Room2Ds have valid plenum depths.</span>

<span class="sd">        Valid plenum depths do not exceed the Room2D.floor_to_ceiling_height and</span>
<span class="sd">        do not contradict the Room2D.has_floor or has_ceiling properties.</span>

<span class="sd">        Args:</span>
<span class="sd">            tolerance: The minimum difference between the coordinate values of two</span>
<span class="sd">                vertices at which they can be considered equivalent. (Default: 0.01,</span>
<span class="sd">                suitable for objects in meters).</span>
<span class="sd">            raise_exception: Boolean to note whether a ValueError will be raised</span>
<span class="sd">                if invalid plenum depths are discovered. (Default: True).</span>
<span class="sd">            detailed: Boolean for whether the returned object is a detailed list of</span>
<span class="sd">                dicts with error info or a string with a message. (Default: False).</span>

<span class="sd">        Returns:</span>
<span class="sd">            A string with the message or a list with a dictionary if detailed is True.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">detailed</span> <span class="o">=</span> <span class="kc">False</span> <span class="k">if</span> <span class="n">raise_exception</span> <span class="k">else</span> <span class="n">detailed</span>
        <span class="n">msgs</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">room</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">room_2ds</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="n">room</span><span class="o">.</span><span class="n">check_plenum_depths</span><span class="p">(</span><span class="n">tolerance</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="n">detailed</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">detailed</span><span class="p">:</span>
                <span class="n">msgs</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">msg</span> <span class="o">!=</span> <span class="s1">&#39;&#39;</span><span class="p">:</span>
                <span class="n">msgs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">detailed</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">msgs</span>
        <span class="n">full_msg</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">msgs</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">raise_exception</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">msgs</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">full_msg</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">full_msg</span></div>


<div class="viewcode-block" id="Model.check_window_parameters_valid">
<a class="viewcode-back" href="../../dragonfly.model.html#dragonfly.model.Model.check_window_parameters_valid">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">check_window_parameters_valid</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span> <span class="n">tolerance</span><span class="o">=</span><span class="mf">0.01</span><span class="p">,</span> <span class="n">raise_exception</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">detailed</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Check that all Room2Ds have window parameters produce valid apertures.</span>

<span class="sd">        This means that the resulting Apertures are completely bounded by their</span>
<span class="sd">        parent wall Face and attributes like window to wall ratio are accurate.</span>

<span class="sd">        Args:</span>
<span class="sd">            tolerance: The minimum difference between the coordinate values of two</span>
<span class="sd">                vertices at which they can be considered equivalent. (Default: 0.01,</span>
<span class="sd">                suitable for objects in meters).</span>
<span class="sd">            raise_exception: Boolean to note whether a ValueError should be raised</span>
<span class="sd">                if the window parameters are not valid.</span>
<span class="sd">            detailed: Boolean for whether the returned object is a detailed list of</span>
<span class="sd">                dicts with error info or a string with a message. (Default: False).</span>

<span class="sd">        Returns:</span>
<span class="sd">            A string with the message or a list with a dictionary if detailed is True.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">detailed</span> <span class="o">=</span> <span class="kc">False</span> <span class="k">if</span> <span class="n">raise_exception</span> <span class="k">else</span> <span class="n">detailed</span>
        <span class="n">msgs</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">room</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">room_2ds</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="n">room</span><span class="o">.</span><span class="n">check_window_parameters_valid</span><span class="p">(</span><span class="n">tolerance</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="n">detailed</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">detailed</span><span class="p">:</span>
                <span class="n">msgs</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">msg</span> <span class="o">!=</span> <span class="s1">&#39;&#39;</span><span class="p">:</span>
                <span class="n">msgs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">detailed</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">msgs</span>
        <span class="n">full_msg</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">msgs</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">raise_exception</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">msgs</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">full_msg</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">full_msg</span></div>


<div class="viewcode-block" id="Model.check_missing_adjacencies">
<a class="viewcode-back" href="../../dragonfly.model.html#dragonfly.model.Model.check_missing_adjacencies">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">check_missing_adjacencies</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">raise_exception</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">detailed</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Check that all Room2Ds have adjacent objects that exist within each Story.</span>

<span class="sd">        Args:</span>
<span class="sd">            raise_exception: Boolean to note whether a ValueError should be raised</span>
<span class="sd">                if missing or invalid adjacencies are found. (Default: True).</span>
<span class="sd">            detailed: Boolean for whether the returned object is a detailed list of</span>
<span class="sd">                dicts with error info or a string with a message. (Default: False).</span>

<span class="sd">        Returns:</span>
<span class="sd">            A string with the message or a list with a dictionary if detailed is True.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">bldg_ids</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">bldg</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_buildings</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">story</span> <span class="ow">in</span> <span class="n">bldg</span><span class="o">.</span><span class="n">_unique_stories</span><span class="p">:</span>
                <span class="n">adj_msg</span> <span class="o">=</span> <span class="n">story</span><span class="o">.</span><span class="n">check_missing_adjacencies</span><span class="p">(</span><span class="kc">False</span><span class="p">,</span> <span class="n">detailed</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">adj_msg</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">detailed</span><span class="p">:</span>
                        <span class="n">bldg_ids</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">adj_msg</span><span class="p">)</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">bldg_ids</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{}</span><span class="se">\n</span><span class="s1"> </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">story</span><span class="o">.</span><span class="n">full_id</span><span class="p">,</span> <span class="n">adj_msg</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">detailed</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">bldg_ids</span>
        <span class="k">if</span> <span class="n">bldg_ids</span> <span class="o">!=</span> <span class="p">[]:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;The following Stories have missing adjacencies in &#39;</span> \
                <span class="s1">&#39;the Model:</span><span class="se">\n</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">bldg_ids</span><span class="p">))</span>
            <span class="k">if</span> <span class="n">raise_exception</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">msg</span>
        <span class="k">return</span> <span class="s1">&#39;&#39;</span></div>


<div class="viewcode-block" id="Model.check_no_room2d_overlaps">
<a class="viewcode-back" href="../../dragonfly.model.html#dragonfly.model.Model.check_no_room2d_overlaps">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">check_no_room2d_overlaps</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span> <span class="n">tolerance</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">raise_exception</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">detailed</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Check that geometries of Room2Ds do not overlap with one another.</span>

<span class="sd">        Overlaps in Room2Ds mean that the Room volumes will collide with one</span>
<span class="sd">        another during translation to Honeybee.</span>

<span class="sd">        Args:</span>
<span class="sd">            tolerance: The minimum distance that two Room2Ds geometries can overlap</span>
<span class="sd">                with one another and still be considered valid. If None, the Model</span>
<span class="sd">                tolerance will be used. (Default: None).</span>
<span class="sd">            raise_exception: Boolean to note whether a ValueError should be raised</span>
<span class="sd">                if overlapping geometries are found. (Default: True).</span>
<span class="sd">            detailed: Boolean for whether the returned object is a detailed list of</span>
<span class="sd">                dicts with error info or a string with a message. (Default: False).</span>

<span class="sd">        Returns:</span>
<span class="sd">            A string with the message or a list with a dictionary if detailed is True.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">tolerance</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tolerance</span> <span class="k">if</span> <span class="n">tolerance</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">tolerance</span>
        <span class="n">bldg_ids</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">bldg</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_buildings</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">story</span> <span class="ow">in</span> <span class="n">bldg</span><span class="o">.</span><span class="n">_unique_stories</span><span class="p">:</span>
                <span class="n">ov_msg</span> <span class="o">=</span> <span class="n">story</span><span class="o">.</span><span class="n">check_no_room2d_overlaps</span><span class="p">(</span><span class="n">tolerance</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="n">detailed</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">ov_msg</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">detailed</span><span class="p">:</span>
                        <span class="n">bldg_ids</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">ov_msg</span><span class="p">)</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">bldg_ids</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{}</span><span class="se">\n</span><span class="s1"> </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">bldg</span><span class="o">.</span><span class="n">full_id</span><span class="p">,</span> <span class="n">ov_msg</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">detailed</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">bldg_ids</span>
        <span class="k">if</span> <span class="n">bldg_ids</span> <span class="o">!=</span> <span class="p">[]:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;The following Buildings have overlaps in their Room2D geometry&#39;</span> \
                <span class="s1">&#39;:</span><span class="se">\n</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">bldg_ids</span><span class="p">))</span>
            <span class="k">if</span> <span class="n">raise_exception</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">msg</span>
        <span class="k">return</span> <span class="s1">&#39;&#39;</span></div>


<div class="viewcode-block" id="Model.check_collisions_between_stories">
<a class="viewcode-back" href="../../dragonfly.model.html#dragonfly.model.Model.check_collisions_between_stories">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">check_collisions_between_stories</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span> <span class="n">tolerance</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">raise_exception</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">detailed</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Check that Room2Ds of each Story do not collide with others in each Building.</span>

<span class="sd">        Args:</span>
<span class="sd">            tolerance: The minimum distance that two Room2Ds geometries can collide</span>
<span class="sd">                with one another and still be considered valid. If None, the Model</span>
<span class="sd">                tolerance will be used. (Default: None).</span>
<span class="sd">            raise_exception: Boolean to note whether a ValueError should be raised</span>
<span class="sd">                if colliding geometries are found. (Default: True).</span>
<span class="sd">            detailed: Boolean for whether the returned object is a detailed list of</span>
<span class="sd">                dicts with error info or a string with a message. (Default: False).</span>

<span class="sd">        Returns:</span>
<span class="sd">            A string with the message or a list with a dictionary if detailed is True.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">tolerance</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tolerance</span> <span class="k">if</span> <span class="n">tolerance</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">tolerance</span>
        <span class="n">bldg_msgs</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">bldg</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_buildings</span><span class="p">:</span>
            <span class="n">ov_msg</span> <span class="o">=</span> <span class="n">bldg</span><span class="o">.</span><span class="n">check_collisions_between_stories</span><span class="p">(</span><span class="n">tolerance</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="n">detailed</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">ov_msg</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">detailed</span><span class="p">:</span>
                    <span class="n">bldg_msgs</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">ov_msg</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">bldg_msgs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ov_msg</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">detailed</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">bldg_msgs</span>
        <span class="k">if</span> <span class="n">bldg_msgs</span> <span class="o">!=</span> <span class="p">[]:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">bldg_msgs</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">raise_exception</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">msg</span>
        <span class="k">return</span> <span class="s1">&#39;&#39;</span></div>


<div class="viewcode-block" id="Model.check_roofs_above_rooms">
<a class="viewcode-back" href="../../dragonfly.model.html#dragonfly.model.Model.check_roofs_above_rooms">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">check_roofs_above_rooms</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span> <span class="n">tolerance</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">raise_exception</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">detailed</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Check that all roof geometries lie above the Room2Ds of the model.</span>

<span class="sd">        Roofs that lie below or intersect the Room2D floor plates (or the plenum floors)</span>
<span class="sd">        will cause an invalid calculation of the Room volume when translated</span>
<span class="sd">        to Honeybee. Roofs touching the edges of floor plates within the tolerance</span>
<span class="sd">        are permitted and can be translated to closed Honeybee Room volumes.</span>

<span class="sd">        Args:</span>
<span class="sd">            tolerance: The minimum distance that two Roof geometries can overlap</span>
<span class="sd">                with one another and still be considered valid. If None, the Model</span>
<span class="sd">                tolerance will be used. (Default: None).</span>
<span class="sd">            raise_exception: Boolean to note whether a ValueError should be raised</span>
<span class="sd">                if overlapping geometries are found. (Default: True).</span>
<span class="sd">            detailed: Boolean for whether the returned object is a detailed list of</span>
<span class="sd">                dicts with error info or a string with a message. (Default: False).</span>

<span class="sd">        Returns:</span>
<span class="sd">            A string with the message or a list with a dictionary if detailed is True.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">tolerance</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tolerance</span> <span class="k">if</span> <span class="n">tolerance</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">tolerance</span>
        <span class="n">bldg_ids</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">bldg</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_buildings</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">story</span> <span class="ow">in</span> <span class="n">bldg</span><span class="o">.</span><span class="n">_unique_stories</span><span class="p">:</span>
                <span class="n">ov_msg</span> <span class="o">=</span> <span class="n">story</span><span class="o">.</span><span class="n">check_roofs_above_rooms</span><span class="p">(</span><span class="n">tolerance</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="n">detailed</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">ov_msg</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">detailed</span><span class="p">:</span>
                        <span class="n">bldg_ids</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">ov_msg</span><span class="p">)</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">bldg_ids</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{}</span><span class="se">\n</span><span class="s1"> </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">bldg</span><span class="o">.</span><span class="n">full_id</span><span class="p">,</span> <span class="n">ov_msg</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">detailed</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">bldg_ids</span>
        <span class="k">if</span> <span class="n">bldg_ids</span> <span class="o">!=</span> <span class="p">[]:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;The following Buildings have roof geometries located below &#39;</span> \
                <span class="s1">&#39;their assigned story:</span><span class="se">\n</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">bldg_ids</span><span class="p">))</span>
            <span class="k">if</span> <span class="n">raise_exception</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">msg</span>
        <span class="k">return</span> <span class="s1">&#39;&#39;</span></div>


<div class="viewcode-block" id="Model.check_no_roof_overlaps">
<a class="viewcode-back" href="../../dragonfly.model.html#dragonfly.model.Model.check_no_roof_overlaps">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">check_no_roof_overlaps</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span> <span class="n">tolerance</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">raise_exception</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">detailed</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Check that geometries of RoofSpecifications do not overlap with one another.</span>

<span class="sd">        This is NOT a requirement for the Model to be valid but it is sometimes</span>
<span class="sd">        useful to check when trying to make the simplest and cleanest</span>
<span class="sd">        representation of the roofs.</span>

<span class="sd">        Args:</span>
<span class="sd">            tolerance: The minimum distance that two Roof geometries can overlap</span>
<span class="sd">                with one another and still be considered valid. If None, the Model</span>
<span class="sd">                tolerance will be used. (Default: None).</span>
<span class="sd">            raise_exception: Boolean to note whether a ValueError should be raised</span>
<span class="sd">                if overlapping geometries are found. (Default: True).</span>
<span class="sd">            detailed: Boolean for whether the returned object is a detailed list of</span>
<span class="sd">                dicts with error info or a string with a message. (Default: False).</span>

<span class="sd">        Returns:</span>
<span class="sd">            A string with the message or a list with a dictionary if detailed is True.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">tolerance</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tolerance</span> <span class="k">if</span> <span class="n">tolerance</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">tolerance</span>
        <span class="n">bldg_ids</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">bldg</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_buildings</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">story</span> <span class="ow">in</span> <span class="n">bldg</span><span class="o">.</span><span class="n">_unique_stories</span><span class="p">:</span>
                <span class="n">ov_msg</span> <span class="o">=</span> <span class="n">story</span><span class="o">.</span><span class="n">check_no_roof_overlaps</span><span class="p">(</span><span class="n">tolerance</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="n">detailed</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">ov_msg</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">detailed</span><span class="p">:</span>
                        <span class="n">bldg_ids</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">ov_msg</span><span class="p">)</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">bldg_ids</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{}</span><span class="se">\n</span><span class="s1"> </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">bldg</span><span class="o">.</span><span class="n">full_id</span><span class="p">,</span> <span class="n">ov_msg</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">detailed</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">bldg_ids</span>
        <span class="k">if</span> <span class="n">bldg_ids</span> <span class="o">!=</span> <span class="p">[]:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;The following Buildings have overlaps in their roof geometry&#39;</span> \
                <span class="s1">&#39;:</span><span class="se">\n</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">bldg_ids</span><span class="p">))</span>
            <span class="k">if</span> <span class="n">raise_exception</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">msg</span>
        <span class="k">return</span> <span class="s1">&#39;&#39;</span></div>


<div class="viewcode-block" id="Model.check_all_room3d">
<a class="viewcode-back" href="../../dragonfly.model.html#dragonfly.model.Model.check_all_room3d">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">check_all_room3d</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span> <span class="n">tolerance</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">angle_tolerance</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
            <span class="n">raise_exception</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">detailed</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Check all attributes of 3D Honeybee Rooms assigned to the Model&#39;s Buildings.</span>

<span class="sd">        This includes checking for duplicate Room/Face/Aperture/Door/Shade identifiers,</span>
<span class="sd">        checking planarity/self-intersection/degeneracy, checking that all rooms are,</span>
<span class="sd">        solid, and checking the adjacencies (among other attributes).</span>

<span class="sd">        Args:</span>
<span class="sd">            tolerance: tolerance: The maximum difference between x, y, and z values</span>
<span class="sd">                at which face vertices are considered equivalent. If None, the Model</span>
<span class="sd">                tolerance will be used. (Default: None).</span>
<span class="sd">            angle_tolerance: The max angle difference in degrees that vertices are</span>
<span class="sd">                allowed to differ from one another in order to consider them colinear.</span>
<span class="sd">                If None, the Model angle_tolerance will be used. (Default: None).</span>
<span class="sd">            raise_exception: Boolean to note whether a ValueError should be raised</span>
<span class="sd">                if an error is found. (Default: True).</span>
<span class="sd">            detailed: Boolean for whether the returned object is a detailed list of</span>
<span class="sd">                dicts with error info or a string with a message. (Default: False).</span>

<span class="sd">        Returns:</span>
<span class="sd">            A string with the message or a list with a dictionary if detailed is True.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">room_3ds</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">room_3ds</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">room_3ds</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">tol</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tolerance</span> <span class="k">if</span> <span class="n">tolerance</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">tolerance</span>
            <span class="n">a_tol</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">angle_tolerance</span> <span class="k">if</span> <span class="n">angle_tolerance</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">angle_tolerance</span>
            <span class="n">dummy_model</span> <span class="o">=</span> <span class="n">HBModel</span><span class="p">(</span>
                <span class="s1">&#39;validation_model&#39;</span><span class="p">,</span> <span class="n">room_3ds</span><span class="p">,</span> <span class="n">units</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">units</span><span class="p">,</span>
                <span class="n">tolerance</span><span class="o">=</span><span class="n">tol</span><span class="p">,</span> <span class="n">angle_tolerance</span><span class="o">=</span><span class="n">a_tol</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">dummy_model</span><span class="o">.</span><span class="n">check_all</span><span class="p">(</span><span class="n">raise_exception</span><span class="p">,</span> <span class="n">detailed</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">[]</span> <span class="k">if</span> <span class="n">detailed</span> <span class="k">else</span> <span class="s1">&#39;&#39;</span></div>


<div class="viewcode-block" id="Model.to_honeybee">
<a class="viewcode-back" href="../../dragonfly.model.html#dragonfly.model.Model.to_honeybee">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">to_honeybee</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">object_per_model</span><span class="o">=</span><span class="s1">&#39;Building&#39;</span><span class="p">,</span> <span class="n">shade_distance</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">use_multiplier</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">exclude_plenums</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">cap</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="n">solve_ceiling_adjacencies</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">merge_method</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">tolerance</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">enforce_adj</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">enforce_solid</span><span class="o">=</span><span class="kc">True</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Convert Dragonfly Model to an array of Honeybee Models.</span>

<span class="sd">        Args:</span>
<span class="sd">            object_per_model: Text to describe how the input Buildings should be</span>
<span class="sd">                divided across the output Models. (Default: &#39;Building&#39;). Choose from</span>
<span class="sd">                the following options:</span>

<span class="sd">                * District - All buildings will be added to a single Honeybee Model.</span>
<span class="sd">                  Such a Model can take a long time to simulate so this is only</span>
<span class="sd">                  recommended for small numbers of buildings or cases where</span>
<span class="sd">                  exchange of data between Buildings is necessary.</span>
<span class="sd">                * Building - Each building will be exported into its own Model.</span>
<span class="sd">                  For each Model, the other buildings input to this component will</span>
<span class="sd">                  appear as context shade geometry.</span>
<span class="sd">                * Story - Each Story of each Building will be exported into its</span>
<span class="sd">                  own Model. For each Honeybee Model, the other input Buildings</span>
<span class="sd">                  will appear as context shade geometry as will all of the other</span>
<span class="sd">                  stories of the same building.</span>

<span class="sd">            shade_distance: An optional number to note the distance beyond which other</span>
<span class="sd">                objects&#39; shade should not be exported into a given Model. This is</span>
<span class="sd">                helpful for reducing the simulation run time of each Model when other</span>
<span class="sd">                connected buildings are too far away to have a meaningful impact on</span>
<span class="sd">                the results. If None, all other buildings will be included as context</span>
<span class="sd">                shade in each and every Model. Set to 0 to exclude all neighboring</span>
<span class="sd">                buildings from the resulting models. (Default: None).</span>
<span class="sd">            use_multiplier: If True, the multipliers on this Model&#39;s Stories will be</span>
<span class="sd">                passed along to the generated Honeybee Room objects, indicating the</span>
<span class="sd">                simulation will be run once for each unique room and then results</span>
<span class="sd">                will be multiplied. If False, full geometry objects will be written</span>
<span class="sd">                for each and every floor in the building that are represented through</span>
<span class="sd">                multipliers and all resulting multipliers will be 1. (Default: True).</span>
<span class="sd">            exclude_plenums: Boolean to indicate whether ceiling/floor plenum depths</span>
<span class="sd">                assigned to Room2Ds should be ignored during translation. This</span>
<span class="sd">                results in each Room2D translating to a single Honeybee Room at</span>
<span class="sd">                the full floor_to_ceiling_height instead of a base Room with (a)</span>
<span class="sd">                plenum Room(s). (Default: False).</span>
<span class="sd">            cap: Boolean to note whether building shade representations should be capped</span>
<span class="sd">                with a top face. Usually, this is not necessary to account for</span>
<span class="sd">                blocked sun and is only needed when it&#39;s important to account for</span>
<span class="sd">                reflected sun off of roofs. (Default: False).</span>
<span class="sd">            solve_ceiling_adjacencies: Boolean to note whether adjacencies should be</span>
<span class="sd">                solved between interior stories when Room2D floor and ceiling</span>
<span class="sd">                geometries are coplanar. This ensures that Surface boundary</span>
<span class="sd">                conditions are used instead of Adiabatic ones. Note that this input</span>
<span class="sd">                has no effect when the object_per_model is Story. (Default: False).</span>
<span class="sd">            merge_method: An optional text string to describe how the Room2Ds should</span>
<span class="sd">                be merged into individual Rooms during the translation. Specifying a</span>
<span class="sd">                value here can be an effective way to reduce the number of Room</span>
<span class="sd">                volumes in the resulting 3D Honeybee Model and, ultimately, yield</span>
<span class="sd">                a faster simulation time in the destination engine with fewer results</span>
<span class="sd">                to manage. Note that Room2Ds will only be merged if they form a</span>
<span class="sd">                continuous volume. Otherwise, there will be multiple Rooms per</span>
<span class="sd">                zone or story, each with an integer added at the end of their</span>
<span class="sd">                identifiers. Choose from the following options:</span>

<span class="sd">                * None - No merging of Room2Ds will occur</span>
<span class="sd">                * Zones - Room2Ds in the same zone will be merged</span>
<span class="sd">                * PlenumZones - Only plenums in the same zone will be merged</span>
<span class="sd">                * Stories - Rooms in the same story will be merged</span>
<span class="sd">                * PlenumStories - Only plenums in the same story will be merged</span>

<span class="sd">            tolerance: The minimum distance in z values of floor_height and</span>
<span class="sd">                floor_to_ceiling_height at which adjacent Faces will be split.</span>
<span class="sd">                This is also used in the generation of Windows. This must be a</span>
<span class="sd">                positive, non-zero number. If None, the Model&#39;s own tolerance</span>
<span class="sd">                will be used. (Default: None).</span>
<span class="sd">            enforce_adj: Boolean to note whether an exception should be raised if</span>
<span class="sd">                an adjacency between two Room2Ds is invalid (True) or if the invalid</span>
<span class="sd">                Surface boundary condition should be replaced with an Outdoor</span>
<span class="sd">                boundary condition (False). If False, any Walls containing</span>
<span class="sd">                WindowParameters and an illegal boundary condition will also</span>
<span class="sd">                be replaced with an Outdoor boundary condition. (Default: True).</span>
<span class="sd">            enforce_solid: Boolean to note whether rooms should be translated</span>
<span class="sd">                as solid extrusions whenever translating them with custom</span>
<span class="sd">                roof geometry produces a non-solid result (True) or the non-solid</span>
<span class="sd">                room geometry should be allowed to remain in the result (False).</span>
<span class="sd">                The latter is useful for understanding why a particular roof</span>
<span class="sd">                geometry has produced a non-solid result. (Default: True).</span>

<span class="sd">        Returns:</span>
<span class="sd">            An array of Honeybee Models that together represent this Dragonfly Model.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># check the tolerance, which is required to convert to honeybee</span>
        <span class="n">tolerance</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tolerance</span> <span class="k">if</span> <span class="n">tolerance</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">tolerance</span>
        <span class="k">assert</span> <span class="n">tolerance</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">,</span> \
            <span class="s1">&#39;Model tolerance must be non-zero to use Model.to_honeybee.&#39;</span>

        <span class="c1"># create a map of rooms to merge if the merge_method is not None</span>
        <span class="n">merge_map</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_extract_merge_map</span><span class="p">(</span><span class="n">merge_method</span><span class="p">,</span> <span class="n">exclude_plenums</span><span class="p">,</span> <span class="n">tolerance</span><span class="p">)</span>

        <span class="c1"># create the model objects</span>
        <span class="n">opm</span> <span class="o">=</span> <span class="n">object_per_model</span><span class="o">.</span><span class="n">title</span><span class="p">()</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">buildings</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>  <span class="c1"># model containing only context shade</span>
            <span class="n">hb_shades</span><span class="p">,</span> <span class="n">hb_shade_meshes</span> <span class="o">=</span> <span class="p">[],</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">shd</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">context_shades</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">shd</span><span class="o">.</span><span class="n">to_honeybee</span><span class="p">():</span>
                    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">HBShade</span><span class="p">):</span>
                        <span class="n">hb_shades</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">hb_shade_meshes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
            <span class="n">h_model</span> <span class="o">=</span> <span class="n">HBModel</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">identifier</span><span class="p">,</span> <span class="n">orphaned_shades</span><span class="o">=</span><span class="n">hb_shades</span><span class="p">,</span>
                              <span class="n">shade_meshes</span><span class="o">=</span><span class="n">hb_shade_meshes</span><span class="p">)</span>
            <span class="n">h_model</span><span class="o">.</span><span class="n">display_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">display_name</span>
            <span class="n">models</span> <span class="o">=</span> <span class="p">[</span><span class="n">h_model</span><span class="p">]</span>
        <span class="k">elif</span> <span class="n">object_per_model</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">opm</span> <span class="o">==</span> <span class="s1">&#39;Building&#39;</span><span class="p">:</span>
            <span class="n">models</span> <span class="o">=</span> <span class="n">Building</span><span class="o">.</span><span class="n">buildings_to_honeybee</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_buildings</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_context_shades</span><span class="p">,</span> <span class="n">shade_distance</span><span class="p">,</span>
                <span class="n">use_multiplier</span><span class="p">,</span> <span class="n">exclude_plenums</span><span class="p">,</span> <span class="n">cap</span><span class="p">,</span> <span class="n">tolerance</span><span class="o">=</span><span class="n">tolerance</span><span class="p">,</span>
                <span class="n">enforce_adj</span><span class="o">=</span><span class="n">enforce_adj</span><span class="p">,</span> <span class="n">enforce_solid</span><span class="o">=</span><span class="n">enforce_solid</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">opm</span> <span class="o">==</span> <span class="s1">&#39;Story&#39;</span><span class="p">:</span>
            <span class="n">models</span> <span class="o">=</span> <span class="n">Building</span><span class="o">.</span><span class="n">stories_to_honeybee</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_buildings</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_context_shades</span><span class="p">,</span> <span class="n">shade_distance</span><span class="p">,</span>
                <span class="n">use_multiplier</span><span class="p">,</span> <span class="n">exclude_plenums</span><span class="p">,</span> <span class="n">cap</span><span class="p">,</span> <span class="n">tolerance</span><span class="o">=</span><span class="n">tolerance</span><span class="p">,</span>
                <span class="n">enforce_adj</span><span class="o">=</span><span class="n">enforce_adj</span><span class="p">,</span> <span class="n">enforce_solid</span><span class="o">=</span><span class="n">enforce_solid</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">opm</span> <span class="o">==</span> <span class="s1">&#39;District&#39;</span><span class="p">:</span>
            <span class="n">models</span> <span class="o">=</span> <span class="p">[</span><span class="n">Building</span><span class="o">.</span><span class="n">district_to_honeybee</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_buildings</span><span class="p">,</span> <span class="n">use_multiplier</span><span class="p">,</span> <span class="n">exclude_plenums</span><span class="p">,</span> <span class="n">tolerance</span><span class="o">=</span><span class="n">tolerance</span><span class="p">,</span>
                <span class="n">enforce_adj</span><span class="o">=</span><span class="n">enforce_adj</span><span class="p">,</span> <span class="n">enforce_solid</span><span class="o">=</span><span class="n">enforce_solid</span><span class="p">)]</span>
            <span class="k">for</span> <span class="n">shd_group</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_context_shades</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">shd</span> <span class="ow">in</span> <span class="n">shd_group</span><span class="o">.</span><span class="n">to_honeybee</span><span class="p">():</span>
                    <span class="k">for</span> <span class="n">model</span> <span class="ow">in</span> <span class="n">models</span><span class="p">:</span>
                        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">shd</span><span class="p">,</span> <span class="n">HBShade</span><span class="p">):</span>
                            <span class="n">model</span><span class="o">.</span><span class="n">add_shade</span><span class="p">(</span><span class="n">shd</span><span class="p">)</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">model</span><span class="o">.</span><span class="n">add_shade_mesh</span><span class="p">(</span><span class="n">shd</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;Unrecognized object_per_model input: &#39;</span>
                             <span class="s1">&#39;</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">object_per_model</span><span class="p">))</span>

        <span class="c1"># solve ceiling adjacencies if requested</span>
        <span class="k">if</span> <span class="n">solve_ceiling_adjacencies</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">buildings</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">0</span> <span class="ow">and</span> \
                <span class="n">opm</span> <span class="ow">in</span> <span class="p">(</span><span class="s1">&#39;Building&#39;</span><span class="p">,</span> <span class="s1">&#39;District&#39;</span><span class="p">):</span>
            <span class="n">story_rel_types</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="n">has_flr_ceil</span> <span class="o">=</span> <span class="p">[]</span> <span class="k">if</span> <span class="n">opm</span> <span class="o">==</span> <span class="s1">&#39;Building&#39;</span> <span class="k">else</span> <span class="p">[[]]</span>
            <span class="k">for</span> <span class="n">bldg</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">buildings</span><span class="p">:</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">exclude_plenums</span> <span class="ow">and</span> <span class="n">bldg</span><span class="o">.</span><span class="n">has_room_2d_plenums</span><span class="p">:</span>
                    <span class="n">bldg</span> <span class="o">=</span> <span class="n">bldg</span><span class="o">.</span><span class="n">duplicate</span><span class="p">()</span>  <span class="c1"># avoid mutating the Building instance</span>
                    <span class="n">bldg</span><span class="o">.</span><span class="n">convert_plenum_depths_to_room_2ds</span><span class="p">(</span><span class="n">tolerance</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">opm</span> <span class="o">==</span> <span class="s1">&#39;Building&#39;</span><span class="p">:</span>
                    <span class="n">has_flr_ceil</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">bldg</span><span class="o">.</span><span class="n">has_floors_ceilings</span><span class="p">(</span><span class="n">use_multiplier</span><span class="p">))</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">has_flr_ceil</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">bldg</span><span class="o">.</span><span class="n">has_floors_ceilings</span><span class="p">(</span><span class="n">use_multiplier</span><span class="p">))</span>
                <span class="n">stories</span> <span class="o">=</span> <span class="n">bldg</span><span class="o">.</span><span class="n">unique_stories</span> <span class="k">if</span> <span class="n">use_multiplier</span> <span class="k">else</span> <span class="n">bldg</span><span class="o">.</span><span class="n">all_stories</span><span class="p">()</span>
                <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">story</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">stories</span><span class="p">):</span>
                    <span class="n">rel_types</span> <span class="o">=</span> <span class="p">[]</span>
                    <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">stories</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">multiplier</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                        <span class="n">rel_types</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Floor</span><span class="p">)</span>
                    <span class="k">if</span> <span class="n">story</span><span class="o">.</span><span class="n">multiplier</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                        <span class="n">rel_types</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">RoofCeiling</span><span class="p">)</span>
                    <span class="n">story_rel_types</span><span class="p">[</span><span class="n">story</span><span class="o">.</span><span class="n">display_name</span><span class="p">]</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">rel_types</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">model</span><span class="p">,</span> <span class="n">flr_ceil</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">models</span><span class="p">,</span> <span class="n">has_flr_ceil</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_solve_ceil_adj</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">rooms</span><span class="p">,</span> <span class="n">story_rel_types</span><span class="p">,</span> <span class="n">flr_ceil</span><span class="p">,</span>
                                     <span class="n">tolerance</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">angle_tolerance</span><span class="p">)</span>

        <span class="c1"># change the tolerance and units systems to match the dragonfly model</span>
        <span class="k">for</span> <span class="n">model</span> <span class="ow">in</span> <span class="n">models</span><span class="p">:</span>
            <span class="n">model</span><span class="o">.</span><span class="n">units</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">units</span>
            <span class="n">model</span><span class="o">.</span><span class="n">tolerance</span> <span class="o">=</span> <span class="n">tolerance</span>
            <span class="n">model</span><span class="o">.</span><span class="n">angle_tolerance</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">angle_tolerance</span>

        <span class="c1"># transfer Model extension attributes to the honeybee models</span>
        <span class="k">for</span> <span class="n">h_model</span> <span class="ow">in</span> <span class="n">models</span><span class="p">:</span>
            <span class="n">h_model</span><span class="o">.</span><span class="n">_properties</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">to_honeybee</span><span class="p">(</span><span class="n">h_model</span><span class="p">)</span>

        <span class="c1"># merge rooms in the models together if there is a merge_map</span>
        <span class="k">if</span> <span class="n">merge_map</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">model</span> <span class="ow">in</span> <span class="n">models</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_apply_merge_map</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">merge_map</span><span class="p">,</span> <span class="n">tolerance</span><span class="p">)</span>

        <span class="c1"># rename all of the faces, apertures and doors to be human-readable</span>
        <span class="k">for</span> <span class="n">model</span> <span class="ow">in</span> <span class="n">models</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">room</span> <span class="ow">in</span> <span class="n">model</span><span class="o">.</span><span class="n">rooms</span><span class="p">:</span>
                <span class="n">room</span><span class="o">.</span><span class="n">rename_faces_by_attribute</span><span class="p">()</span>
                <span class="n">room</span><span class="o">.</span><span class="n">rename_apertures_by_attribute</span><span class="p">()</span>
                <span class="n">room</span><span class="o">.</span><span class="n">rename_doors_by_attribute</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">models</span></div>


<div class="viewcode-block" id="Model.to_geojson_dict">
<a class="viewcode-back" href="../../dragonfly.model.html#dragonfly.model.Model.to_geojson_dict">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">to_geojson_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">location</span><span class="p">,</span> <span class="n">point</span><span class="o">=</span><span class="n">Point2D</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">tolerance</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Convert Dragonfly Model to a geoJSON-style Python dictionary.</span>

<span class="sd">        This dictionary can be written into a JSON, which is then a valid geoJSON</span>
<span class="sd">        that can be visualized in any geoJSON viewer. Each dragonfly Building</span>
<span class="sd">        will appear in the geoJSON as a single feature (either as a Polygon or</span>
<span class="sd">        a MultiPolygon).</span>

<span class="sd">        Args:</span>
<span class="sd">            location: A ladybug Location object possessing longitude and latitude data.</span>
<span class="sd">            point: A ladybug_geometry Point2D for where the location object exists</span>
<span class="sd">                within the space of a scene. The coordinates of this point are</span>
<span class="sd">                expected to be in the units of this Model. (Default: (0, 0)).</span>
<span class="sd">            tolerance: The minimum distance between points at which they are</span>
<span class="sd">                not considered touching. If None, the Model&#39;s own tolerance</span>
<span class="sd">                will be used. (Default: None).</span>

<span class="sd">        Returns:</span>
<span class="sd">            A Python dictionary in a geoJSON style with each Building in the Model</span>
<span class="sd">            as a separate feature.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># set up the base dictionary for the geoJSON</span>
        <span class="n">geojson_dict</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;FeatureCollection&#39;</span><span class="p">,</span> <span class="s1">&#39;features&#39;</span><span class="p">:</span> <span class="p">[],</span> <span class="s1">&#39;mappers&#39;</span><span class="p">:</span> <span class="p">[]}</span>

        <span class="c1"># ensure that the Model we are working with is in meters</span>
        <span class="n">model</span> <span class="o">=</span> <span class="bp">self</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">units</span> <span class="o">!=</span> <span class="s1">&#39;Meters&#39;</span><span class="p">:</span>
            <span class="n">model</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">duplicate</span><span class="p">()</span>  <span class="c1"># duplicate to avoid editing this object</span>
            <span class="n">model</span><span class="o">.</span><span class="n">convert_to_units</span><span class="p">(</span><span class="s1">&#39;Meters&#39;</span><span class="p">)</span>
            <span class="n">point</span> <span class="o">=</span> <span class="n">point</span><span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="n">conversion_factor_to_meters</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">units</span><span class="p">))</span>

        <span class="c1"># assign the site information in the project key</span>
        <span class="n">project_dict</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">identifier</span><span class="p">,</span>
            <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">display_name</span><span class="p">,</span>
            <span class="s1">&#39;city&#39;</span><span class="p">:</span> <span class="n">location</span><span class="o">.</span><span class="n">city</span><span class="p">,</span>
            <span class="s1">&#39;country&#39;</span><span class="p">:</span> <span class="n">location</span><span class="o">.</span><span class="n">country</span><span class="p">,</span>
            <span class="s1">&#39;elevation&#39;</span><span class="p">:</span> <span class="n">location</span><span class="o">.</span><span class="n">elevation</span><span class="p">,</span>
            <span class="s1">&#39;latitude&#39;</span><span class="p">:</span> <span class="n">location</span><span class="o">.</span><span class="n">latitude</span><span class="p">,</span>
            <span class="s1">&#39;longitude&#39;</span><span class="p">:</span> <span class="n">location</span><span class="o">.</span><span class="n">longitude</span><span class="p">,</span>
            <span class="s1">&#39;time_zone&#39;</span><span class="p">:</span> <span class="n">location</span><span class="o">.</span><span class="n">time_zone</span><span class="p">,</span>
            <span class="s1">&#39;cad_coordinates&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">point</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">point</span><span class="o">.</span><span class="n">y</span><span class="p">]</span>
        <span class="p">}</span>
        <span class="n">geojson_dict</span><span class="p">[</span><span class="s1">&#39;project&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">project_dict</span>

        <span class="c1"># get the conversion factors over to (longitude, latitude)</span>
        <span class="n">origin_lon_lat</span> <span class="o">=</span> <span class="n">origin_long_lat_from_location</span><span class="p">(</span><span class="n">location</span><span class="p">,</span> <span class="n">point</span><span class="p">)</span>
        <span class="n">convert_facs</span> <span class="o">=</span> <span class="n">meters_to_long_lat_factors</span><span class="p">(</span><span class="n">origin_lon_lat</span><span class="p">)</span>
        <span class="n">tolerance</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tolerance</span> <span class="k">if</span> <span class="n">tolerance</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">tolerance</span>

        <span class="c1"># export each building as a feature in the file</span>
        <span class="k">for</span> <span class="n">bldg</span> <span class="ow">in</span> <span class="n">model</span><span class="o">.</span><span class="n">buildings</span><span class="p">:</span>
            <span class="c1"># create the base dictionary</span>
            <span class="n">feature_dict</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;geometry&#39;</span><span class="p">:</span> <span class="p">{},</span> <span class="s1">&#39;properties&#39;</span><span class="p">:</span> <span class="p">{},</span> <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;Feature&#39;</span><span class="p">}</span>

            <span class="c1"># add the geometry including coordinates</span>
            <span class="n">footprint</span> <span class="o">=</span> <span class="n">bldg</span><span class="o">.</span><span class="n">footprint</span><span class="p">(</span><span class="n">tolerance</span><span class="p">)</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">footprint</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                <span class="n">feature_dict</span><span class="p">[</span><span class="s1">&#39;geometry&#39;</span><span class="p">][</span><span class="s1">&#39;type&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;Polygon&#39;</span>
                <span class="n">feature_dict</span><span class="p">[</span><span class="s1">&#39;geometry&#39;</span><span class="p">][</span><span class="s1">&#39;coordinates&#39;</span><span class="p">]</span> <span class="o">=</span> \
                    <span class="bp">self</span><span class="o">.</span><span class="n">_face3d_to_geojson_coordinates</span><span class="p">(</span>
                        <span class="n">footprint</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">origin_lon_lat</span><span class="p">,</span> <span class="n">convert_facs</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">feature_dict</span><span class="p">[</span><span class="s1">&#39;geometry&#39;</span><span class="p">][</span><span class="s1">&#39;type&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;MultiPolygon&#39;</span>
                <span class="n">all_coords</span> <span class="o">=</span> <span class="p">[]</span>
                <span class="k">for</span> <span class="n">floor</span> <span class="ow">in</span> <span class="n">footprint</span><span class="p">:</span>
                    <span class="n">all_coords</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">_face3d_to_geojson_coordinates</span><span class="p">(</span>
                            <span class="n">floor</span><span class="p">,</span> <span class="n">origin_lon_lat</span><span class="p">,</span> <span class="n">convert_facs</span><span class="p">))</span>
                <span class="n">feature_dict</span><span class="p">[</span><span class="s1">&#39;geometry&#39;</span><span class="p">][</span><span class="s1">&#39;coordinates&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">all_coords</span>

            <span class="c1"># add several of the properties to the geoJSON</span>
            <span class="n">feature_dict</span><span class="p">[</span><span class="s1">&#39;properties&#39;</span><span class="p">][</span><span class="s1">&#39;building_type&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;Mixed use&#39;</span>
            <span class="n">feature_dict</span><span class="p">[</span><span class="s1">&#39;properties&#39;</span><span class="p">][</span><span class="s1">&#39;floor_area&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">bldg</span><span class="o">.</span><span class="n">floor_area</span>
            <span class="n">feature_dict</span><span class="p">[</span><span class="s1">&#39;properties&#39;</span><span class="p">][</span><span class="s1">&#39;footprint_area&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">bldg</span><span class="o">.</span><span class="n">footprint_area</span>
            <span class="n">feature_dict</span><span class="p">[</span><span class="s1">&#39;properties&#39;</span><span class="p">][</span><span class="s1">&#39;id&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">bldg</span><span class="o">.</span><span class="n">identifier</span>
            <span class="n">feature_dict</span><span class="p">[</span><span class="s1">&#39;properties&#39;</span><span class="p">][</span><span class="s1">&#39;name&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">bldg</span><span class="o">.</span><span class="n">display_name</span>
            <span class="n">feature_dict</span><span class="p">[</span><span class="s1">&#39;properties&#39;</span><span class="p">][</span><span class="s1">&#39;number_of_stories&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">bldg</span><span class="o">.</span><span class="n">story_count</span>
            <span class="n">feature_dict</span><span class="p">[</span><span class="s1">&#39;properties&#39;</span><span class="p">][</span><span class="s1">&#39;number_of_stories_above_ground&#39;</span><span class="p">]</span> <span class="o">=</span> \
                <span class="n">bldg</span><span class="o">.</span><span class="n">story_count_above_ground</span>
            <span class="n">feature_dict</span><span class="p">[</span><span class="s1">&#39;properties&#39;</span><span class="p">][</span><span class="s1">&#39;maximum_roof_height&#39;</span><span class="p">]</span> <span class="o">=</span> \
                <span class="n">bldg</span><span class="o">.</span><span class="n">height_above_ground</span>
            <span class="n">feature_dict</span><span class="p">[</span><span class="s1">&#39;properties&#39;</span><span class="p">][</span><span class="s1">&#39;floor_height&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">bldg</span><span class="o">.</span><span class="n">height</span> <span class="o">/</span> <span class="n">bldg</span><span class="o">.</span><span class="n">story_count</span>
            <span class="n">feature_dict</span><span class="p">[</span><span class="s1">&#39;properties&#39;</span><span class="p">][</span><span class="s1">&#39;type&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;Building&#39;</span>

            <span class="c1"># attempt to determine the year built from the construction set</span>
            <span class="n">year_built</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span><span class="o">.</span><span class="n">year</span>
            <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">bldg</span><span class="o">.</span><span class="n">properties</span><span class="p">,</span> <span class="s1">&#39;energy&#39;</span><span class="p">):</span>
                <span class="n">cs_name</span> <span class="o">=</span> <span class="n">bldg</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">energy</span><span class="o">.</span><span class="n">construction_set</span><span class="o">.</span><span class="n">display_name</span>
                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">cs_name</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">4</span> <span class="ow">and</span> <span class="nb">all</span><span class="p">(</span><span class="n">txt</span><span class="o">.</span><span class="n">isdigit</span><span class="p">()</span> <span class="k">for</span> <span class="n">txt</span> <span class="ow">in</span> <span class="n">cs_name</span><span class="p">[:</span><span class="mi">4</span><span class="p">]):</span>
                    <span class="n">year_built</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">cs_name</span><span class="p">[:</span><span class="mi">4</span><span class="p">])</span>
            <span class="n">feature_dict</span><span class="p">[</span><span class="s1">&#39;properties&#39;</span><span class="p">][</span><span class="s1">&#39;year_built&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">year_built</span>

            <span class="c1"># append the feature to the global dictionary</span>
            <span class="n">geojson_dict</span><span class="p">[</span><span class="s1">&#39;features&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">feature_dict</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">geojson_dict</span></div>


<div class="viewcode-block" id="Model.to_geojson">
<a class="viewcode-back" href="../../dragonfly.model.html#dragonfly.model.Model.to_geojson">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">to_geojson</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">location</span><span class="p">,</span> <span class="n">point</span><span class="o">=</span><span class="n">Point2D</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">folder</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">tolerance</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Convert Dragonfly Model to a geoJSON of buildings footprints.</span>

<span class="sd">        This geoJSON will be in a format that is compatible with the URBANopt SDK,</span>
<span class="sd">        including properties for floor_area, footprint_area, and detailed_model_filename,</span>
<span class="sd">        which will align with the paths to OpenStudio model (.osm) files output</span>
<span class="sd">        from honeybee Models translated to OSM.</span>

<span class="sd">        Args:</span>
<span class="sd">            location: A ladybug Location object possessing longitude and latitude data.</span>
<span class="sd">            point: A ladybug_geometry Point2D for where the location object exists</span>
<span class="sd">                within the space of a scene. The coordinates of this point are</span>
<span class="sd">                expected to be in the units of this Model. (Default: (0, 0)).</span>
<span class="sd">            folder: Text for the full path to where the geojson file will be written.</span>
<span class="sd">                If None, a sub-folder within the honeybee default simulation</span>
<span class="sd">                folder will be used. (Default: None).</span>
<span class="sd">            tolerance: The minimum distance between points at which they are</span>
<span class="sd">                not considered touching. If None, the Model&#39;s own tolerance</span>
<span class="sd">                will be used. (Default: None).</span>

<span class="sd">        Returns:</span>
<span class="sd">            The path to a geoJSON file that contains polygons for all of the</span>
<span class="sd">            Buildings within the dragonfly model along with their properties</span>
<span class="sd">            (floor area, number of stories, etc.). The polygons will also possess</span>
<span class="sd">            detailed_model_filename keys that align with where OpenStudio models</span>
<span class="sd">            would be written, assuming the input folder matches that used to</span>
<span class="sd">            export OpenStudio models.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># set the default simulation folder</span>
        <span class="k">if</span> <span class="n">folder</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">folder</span> <span class="o">=</span> <span class="n">folders</span><span class="o">.</span><span class="n">default_simulation_folder</span>

        <span class="c1"># get the geojson dictionary</span>
        <span class="n">geojson_dict</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">to_geojson_dict</span><span class="p">(</span><span class="n">location</span><span class="p">,</span> <span class="n">point</span><span class="p">,</span> <span class="n">tolerance</span><span class="p">)</span>

        <span class="c1"># write out the dictionary to a geojson file</span>
        <span class="n">project_folder</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
            <span class="n">folder</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;[^.A-Za-z0-9_-]&#39;</span><span class="p">,</span> <span class="s1">&#39;_&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">display_name</span><span class="p">))</span>
        <span class="n">preparedir</span><span class="p">(</span><span class="n">project_folder</span><span class="p">,</span> <span class="n">remove_content</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="n">file_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">project_folder</span><span class="p">,</span> <span class="s1">&#39;</span><span class="si">{}</span><span class="s1">.geojson&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">identifier</span><span class="p">))</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fp</span><span class="p">:</span>
            <span class="n">json</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">geojson_dict</span><span class="p">,</span> <span class="n">fp</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">file_path</span></div>


<div class="viewcode-block" id="Model.to_dict">
<a class="viewcode-back" href="../../dragonfly.model.html#dragonfly.model.Model.to_dict">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">to_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">included_prop</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return Model as a dictionary.</span>

<span class="sd">        Args:</span>
<span class="sd">            included_prop: List of properties to filter keys that must be included in</span>
<span class="sd">                output dictionary. For example [&#39;energy&#39;] will include &#39;energy&#39; key if</span>
<span class="sd">                available in properties to_dict. By default all the keys will be</span>
<span class="sd">                included. To exclude all the keys from extensions use an empty list.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">base</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;Model&#39;</span><span class="p">}</span>
        <span class="n">base</span><span class="p">[</span><span class="s1">&#39;identifier&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">identifier</span>
        <span class="n">base</span><span class="p">[</span><span class="s1">&#39;display_name&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">display_name</span>
        <span class="n">base</span><span class="p">[</span><span class="s1">&#39;properties&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">to_dict</span><span class="p">(</span><span class="n">included_prop</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_buildings</span> <span class="o">!=</span> <span class="p">[]:</span>
            <span class="n">base</span><span class="p">[</span><span class="s1">&#39;buildings&#39;</span><span class="p">]</span> <span class="o">=</span> \
                <span class="p">[</span><span class="n">bldg</span><span class="o">.</span><span class="n">to_dict</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">included_prop</span><span class="p">)</span> <span class="k">for</span> <span class="n">bldg</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_buildings</span><span class="p">]</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_context_shades</span> <span class="o">!=</span> <span class="p">[]:</span>
            <span class="n">base</span><span class="p">[</span><span class="s1">&#39;context_shades&#39;</span><span class="p">]</span> <span class="o">=</span> \
                <span class="p">[</span><span class="n">shd</span><span class="o">.</span><span class="n">to_dict</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">included_prop</span><span class="p">)</span> <span class="k">for</span> <span class="n">shd</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_context_shades</span><span class="p">]</span>
        <span class="n">base</span><span class="p">[</span><span class="s1">&#39;units&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">units</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">tolerance</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">base</span><span class="p">[</span><span class="s1">&#39;tolerance&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tolerance</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">angle_tolerance</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">base</span><span class="p">[</span><span class="s1">&#39;angle_tolerance&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">angle_tolerance</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">reference_vector</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">base</span><span class="p">[</span><span class="s1">&#39;reference_vector&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">reference_vector</span><span class="o">.</span><span class="n">to_array</span><span class="p">()</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">user_data</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">base</span><span class="p">[</span><span class="s1">&#39;user_data&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">user_data</span>
        <span class="k">if</span> <span class="n">df_folders</span><span class="o">.</span><span class="n">dragonfly_schema_version</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">base</span><span class="p">[</span><span class="s1">&#39;version&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_folders</span><span class="o">.</span><span class="n">dragonfly_schema_version_str</span>
        <span class="k">return</span> <span class="n">base</span></div>


<div class="viewcode-block" id="Model.to_dfjson">
<a class="viewcode-back" href="../../dragonfly.model.html#dragonfly.model.Model.to_dfjson">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">to_dfjson</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">folder</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">included_prop</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Write Dragonfly model to DFJSON.</span>

<span class="sd">        Args:</span>
<span class="sd">            name: A text string for the name of the DFJSON file. If None, the model</span>
<span class="sd">                identifier wil be used. (Default: None).</span>
<span class="sd">            folder: A text string for the directory where the DFJSON will be written.</span>
<span class="sd">                If unspecified, the default simulation folder will be used. This</span>
<span class="sd">                is usually at &quot;C:\\Users\\USERNAME\\simulation&quot; on Windows.</span>
<span class="sd">            indent: A positive integer to set the indentation used in the resulting</span>
<span class="sd">                DFJSON file. (Default: None).</span>
<span class="sd">            included_prop: List of properties to filter keys that must be included in</span>
<span class="sd">                output dictionary. For example [&#39;energy&#39;] will include &#39;energy&#39; key if</span>
<span class="sd">                available in properties to_dict. By default all the keys will be</span>
<span class="sd">                included. To exclude all the keys from extensions use an empty list.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># create dictionary from the Dragonfly Model</span>
        <span class="n">df_dict</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">to_dict</span><span class="p">(</span><span class="n">included_prop</span><span class="o">=</span><span class="n">included_prop</span><span class="p">)</span>
        <span class="c1"># set up a name and folder for the DFJSON</span>
        <span class="k">if</span> <span class="n">name</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">identifier</span>
        <span class="n">file_name</span> <span class="o">=</span> <span class="n">name</span> <span class="k">if</span> <span class="n">name</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s1">&#39;.dfjson&#39;</span><span class="p">)</span> <span class="ow">or</span> \
            <span class="n">name</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s1">&#39;.json&#39;</span><span class="p">)</span> <span class="k">else</span> <span class="s1">&#39;</span><span class="si">{}</span><span class="s1">.dfjson&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
        <span class="n">folder</span> <span class="o">=</span> <span class="n">folder</span> <span class="k">if</span> <span class="n">folder</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">folders</span><span class="o">.</span><span class="n">default_simulation_folder</span>
        <span class="n">df_file</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">folder</span><span class="p">,</span> <span class="n">file_name</span><span class="p">)</span>
        <span class="c1"># write DFJSON</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">df_file</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fp</span><span class="p">:</span>
            <span class="n">json</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">df_dict</span><span class="p">,</span> <span class="n">fp</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="n">indent</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">df_file</span></div>


<div class="viewcode-block" id="Model.to_dfpkl">
<a class="viewcode-back" href="../../dragonfly.model.html#dragonfly.model.Model.to_dfpkl">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">to_dfpkl</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">folder</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">included_prop</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Writes Dragonfly model to compressed pickle file (DFpkl).</span>

<span class="sd">        Args:</span>
<span class="sd">            name: A text string for the name of the pickle file. If None, the model</span>
<span class="sd">                identifier wil be used. (Default: None).</span>
<span class="sd">            folder: A text string for the directory where the pickle will be written.</span>
<span class="sd">                If unspecified, the default simulation folder will be used. This</span>
<span class="sd">                is usually at &quot;C:\\Users\\USERNAME\\simulation.&quot;</span>
<span class="sd">            included_prop: List of properties to filter keys that must be included in</span>
<span class="sd">                output dictionary. For example [&#39;energy&#39;] will include &#39;energy&#39; key if</span>
<span class="sd">                available in properties to_dict. By default all the keys will be</span>
<span class="sd">                included. To exclude all the keys from extensions use an empty list.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># create dictionary from the Dragonfly Model</span>
        <span class="n">df_dict</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">to_dict</span><span class="p">(</span><span class="n">included_prop</span><span class="o">=</span><span class="n">included_prop</span><span class="p">)</span>
        <span class="c1"># set up a name and folder for the DFpkl</span>
        <span class="k">if</span> <span class="n">name</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">identifier</span>
        <span class="n">file_name</span> <span class="o">=</span> <span class="n">name</span> <span class="k">if</span> <span class="n">name</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s1">&#39;.dfpkl&#39;</span><span class="p">)</span> <span class="ow">or</span> \
            <span class="n">name</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s1">&#39;.pkl&#39;</span><span class="p">)</span> <span class="k">else</span> <span class="s1">&#39;</span><span class="si">{}</span><span class="s1">.dfpkl&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
        <span class="n">folder</span> <span class="o">=</span> <span class="n">folder</span> <span class="k">if</span> <span class="n">folder</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">folders</span><span class="o">.</span><span class="n">default_simulation_folder</span>
        <span class="n">df_file</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">folder</span><span class="p">,</span> <span class="n">file_name</span><span class="p">)</span>
        <span class="c1"># write the Model dictionary into a file</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">df_file</span><span class="p">,</span> <span class="s1">&#39;wb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fp</span><span class="p">:</span>
            <span class="n">pickle</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">df_dict</span><span class="p">,</span> <span class="n">fp</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">df_file</span></div>


    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">to</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Model writer object.</span>

<span class="sd">        Use this method to access Writer class to write the model in other formats.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">writer</span>

<div class="viewcode-block" id="Model.validate">
<a class="viewcode-back" href="../../dragonfly.model.html#dragonfly.model.Model.validate">[docs]</a>
    <span class="nd">@staticmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">validate</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">check_function</span><span class="o">=</span><span class="s1">&#39;check_for_extension&#39;</span><span class="p">,</span> <span class="n">check_args</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                 <span class="n">json_output</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a string of a validation report given a specific check_function.</span>

<span class="sd">        Args:</span>
<span class="sd">            model: A Dragonfly Model object for which validation will be performed.</span>
<span class="sd">                This can also be the file path to a DFJSON or a JSON string</span>
<span class="sd">                representation of a Dragonfly Model. These latter two options may</span>
<span class="sd">                be useful if the type of validation issue with the Model is</span>
<span class="sd">                one that prevents serialization.</span>
<span class="sd">            check_function: Text for the name of a check function on this Model</span>
<span class="sd">                that will be used to generate the validation report. For example,</span>
<span class="sd">                check_all or check_rooms_solid. (Default: check_for_extension),</span>
<span class="sd">            check_args: An optional list of arguments to be passed to the</span>
<span class="sd">                check_function. If None, all default values for the arguments</span>
<span class="sd">                will be used. (Default: None).</span>
<span class="sd">            json_output: Boolean to note whether the output validation report</span>
<span class="sd">                should be formatted as a JSON object instead of plain text.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># process the input model if it&#39;s not already serialized</span>
        <span class="n">report</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">model</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;{&#39;</span><span class="p">):</span>
                    <span class="n">model</span> <span class="o">=</span> <span class="n">Model</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span><span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">model</span><span class="p">))</span>
                <span class="k">elif</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">model</span><span class="p">):</span>
                    <span class="n">model</span> <span class="o">=</span> <span class="n">Model</span><span class="o">.</span><span class="n">from_file</span><span class="p">(</span><span class="n">model</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">report</span> <span class="o">=</span> <span class="s1">&#39;Input Model for validation is not a Model object, &#39;</span> \
                        <span class="s1">&#39;file path to a Model or a Model DFJSON string.&#39;</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="n">report</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
        <span class="k">elif</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">Model</span><span class="p">):</span>
            <span class="n">report</span> <span class="o">=</span> <span class="s1">&#39;Input Model for validation is not a Model object, &#39;</span> \
                <span class="s1">&#39;file path to a Model or a Model DFJSON string.&#39;</span>

        <span class="k">if</span> <span class="n">report</span> <span class="o">==</span> <span class="s1">&#39;&#39;</span><span class="p">:</span>  <span class="c1"># get the function to call to do checks</span>
            <span class="k">if</span> <span class="s1">&#39;.&#39;</span> <span class="ow">in</span> <span class="n">check_function</span><span class="p">:</span>  <span class="c1"># nested attribute</span>
                <span class="n">attributes</span> <span class="o">=</span> <span class="n">check_function</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">)</span>  <span class="c1"># get all the sub-attributes</span>
                <span class="n">check_func</span> <span class="o">=</span> <span class="n">model</span>
                <span class="k">for</span> <span class="n">attribute</span> <span class="ow">in</span> <span class="n">attributes</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">check_func</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                        <span class="k">continue</span>
                    <span class="n">check_func</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">check_func</span><span class="p">,</span> <span class="n">attribute</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">check_func</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">check_function</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
            <span class="k">assert</span> <span class="n">check_func</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">,</span> \
                <span class="s1">&#39;Dragonfly Model class has no method </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">check_function</span><span class="p">)</span>
            <span class="c1"># process the arguments and options</span>
            <span class="n">args</span> <span class="o">=</span> <span class="p">[]</span> <span class="k">if</span> <span class="n">check_args</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="p">[]</span> <span class="o">+</span> <span class="nb">list</span><span class="p">(</span><span class="n">check_args</span><span class="p">)</span>
            <span class="n">kwargs</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;raise_exception&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">}</span>

        <span class="c1"># create the report</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">json_output</span><span class="p">:</span>  <span class="c1"># create a plain text report</span>
            <span class="c1"># add the versions of things into the validation message</span>
            <span class="n">c_ver</span> <span class="o">=</span> <span class="n">df_folders</span><span class="o">.</span><span class="n">dragonfly_core_version_str</span>
            <span class="n">s_ver</span> <span class="o">=</span> <span class="n">df_folders</span><span class="o">.</span><span class="n">dragonfly_schema_version_str</span>
            <span class="n">ver_msg</span> <span class="o">=</span> <span class="s1">&#39;Validating Model using dragonfly-core==</span><span class="si">{}</span><span class="s1"> and &#39;</span> \
                <span class="s1">&#39;dragonfly-schema==</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">c_ver</span><span class="p">,</span> <span class="n">s_ver</span><span class="p">)</span>
            <span class="c1"># run the check function</span>
            <span class="k">if</span> <span class="n">report</span> <span class="o">==</span> <span class="s1">&#39;&#39;</span><span class="p">:</span>
                <span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;detailed&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>
                <span class="n">report</span> <span class="o">=</span> <span class="n">check_func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
            <span class="c1"># format the results of the check</span>
            <span class="k">if</span> <span class="n">report</span> <span class="o">==</span> <span class="s1">&#39;&#39;</span><span class="p">:</span>
                <span class="n">full_msg</span> <span class="o">=</span> <span class="n">ver_msg</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">Congratulations! Your Model is valid!&#39;</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">full_msg</span> <span class="o">=</span> <span class="n">ver_msg</span> <span class="o">+</span> \
                    <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">Your Model is invalid for the following reasons:</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">+</span> <span class="n">report</span>
            <span class="k">return</span> <span class="n">full_msg</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># add the versions of things into the validation message</span>
            <span class="n">out_dict</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;ValidationReport&#39;</span><span class="p">,</span>
                <span class="s1">&#39;app_name&#39;</span><span class="p">:</span> <span class="s1">&#39;Dragonfly&#39;</span><span class="p">,</span>
                <span class="s1">&#39;app_version&#39;</span><span class="p">:</span> <span class="n">df_folders</span><span class="o">.</span><span class="n">dragonfly_core_version_str</span><span class="p">,</span>
                <span class="s1">&#39;schema_version&#39;</span><span class="p">:</span> <span class="n">df_folders</span><span class="o">.</span><span class="n">dragonfly_schema_version_str</span><span class="p">,</span>
                <span class="s1">&#39;fatal_error&#39;</span><span class="p">:</span> <span class="n">report</span>
            <span class="p">}</span>
            <span class="k">if</span> <span class="n">report</span> <span class="o">==</span> <span class="s1">&#39;&#39;</span><span class="p">:</span>
                <span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;detailed&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
                <span class="n">errors</span> <span class="o">=</span> <span class="n">check_func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
                <span class="n">out_dict</span><span class="p">[</span><span class="s1">&#39;errors&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">errors</span>
                <span class="n">out_dict</span><span class="p">[</span><span class="s1">&#39;valid&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">out_dict</span><span class="p">[</span><span class="s1">&#39;errors&#39;</span><span class="p">])</span> <span class="o">==</span> <span class="mi">0</span> <span class="k">else</span> <span class="kc">False</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">out_dict</span><span class="p">[</span><span class="s1">&#39;errors&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
                <span class="n">out_dict</span><span class="p">[</span><span class="s1">&#39;valid&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="k">return</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">out_dict</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span></div>


<div class="viewcode-block" id="Model.lines_from_pomf">
<a class="viewcode-back" href="../../dragonfly.model.html#dragonfly.model.Model.lines_from_pomf">[docs]</a>
    <span class="nd">@staticmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">lines_from_pomf</span><span class="p">(</span><span class="n">pomf_file</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Extract all line geometry objects from a POMF file.</span>

<span class="sd">        This includes LineSegment2Ds, Polyline2Ds and Polygon2Ds.</span>

<span class="sd">        Args:</span>
<span class="sd">            pomf_file: Path to POMF file containing line geometry.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># extract the zip folder</span>
        <span class="n">folder_name</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">uuid</span><span class="o">.</span><span class="n">uuid4</span><span class="p">())[:</span><span class="mi">6</span><span class="p">]</span>
        <span class="n">temp_dir</span> <span class="o">=</span> <span class="n">tempfile</span><span class="o">.</span><span class="n">gettempdir</span><span class="p">()</span>
        <span class="n">folder_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">temp_dir</span><span class="p">,</span> <span class="n">folder_name</span><span class="p">)</span>
        <span class="n">os</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="n">folder_path</span><span class="p">)</span>
        <span class="n">unzip_file</span><span class="p">(</span><span class="n">pomf_file</span><span class="p">,</span> <span class="n">folder_path</span><span class="p">)</span>
        <span class="n">model_file</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">folder_path</span><span class="p">,</span> <span class="s1">&#39;model.json&#39;</span><span class="p">)</span>
        <span class="n">tldraw_file</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">folder_path</span><span class="p">,</span> <span class="s1">&#39;tldraw.json&#39;</span><span class="p">)</span>
        <span class="c1"># load the JSON data</span>
        <span class="k">with</span> <span class="n">io</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">model_file</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">inf</span><span class="p">:</span>
            <span class="n">inf</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
            <span class="n">second_char</span> <span class="o">=</span> <span class="n">inf</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
        <span class="k">with</span> <span class="n">io</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">model_file</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">inf</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">second_char</span> <span class="o">==</span> <span class="s1">&#39;{&#39;</span><span class="p">:</span>
                <span class="n">inf</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
            <span class="n">model_data</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">inf</span><span class="p">)</span>
        <span class="n">tolerance</span> <span class="o">=</span> <span class="n">model_data</span><span class="p">[</span><span class="s1">&#39;tolerance&#39;</span><span class="p">]</span>
        <span class="k">with</span> <span class="n">io</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">tldraw_file</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">inf</span><span class="p">:</span>
            <span class="n">inf</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
            <span class="n">second_char</span> <span class="o">=</span> <span class="n">inf</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
        <span class="k">with</span> <span class="n">io</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">tldraw_file</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">inf</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">second_char</span> <span class="o">==</span> <span class="s1">&#39;[&#39;</span><span class="p">:</span>
                <span class="n">inf</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">inf</span><span class="p">)</span>
        <span class="c1"># get the construction line objects within the data</span>
        <span class="n">scale_factor</span> <span class="o">=</span> <span class="mi">10</span>  <span class="c1"># converter between canvas and CAD</span>
        <span class="n">line_objs</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">geo_item</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>
            <span class="k">if</span> <span class="s1">&#39;type&#39;</span> <span class="ow">in</span> <span class="n">geo_item</span> <span class="ow">and</span> <span class="n">geo_item</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;construction-line&#39;</span><span class="p">:</span>
                <span class="n">points</span> <span class="o">=</span> <span class="n">geo_item</span><span class="p">[</span><span class="s1">&#39;props&#39;</span><span class="p">][</span><span class="s1">&#39;points&#39;</span><span class="p">]</span>
                <span class="c1"># convert points from web canvas to CAD space</span>
                <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">pt</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">points</span><span class="p">):</span>
                    <span class="n">points</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">pt</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">/</span> <span class="n">scale_factor</span><span class="p">,</span> <span class="o">-</span><span class="n">pt</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">/</span> <span class="n">scale_factor</span><span class="p">]</span>
                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">points</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
                    <span class="n">line_objs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">LineSegment2D</span><span class="o">.</span><span class="n">from_array</span><span class="p">(</span><span class="n">points</span><span class="p">))</span>
                <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">points</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">2</span><span class="p">:</span>
                    <span class="n">geo_obj</span> <span class="o">=</span> <span class="n">Polyline2D</span><span class="o">.</span><span class="n">from_array</span><span class="p">(</span><span class="n">points</span><span class="p">)</span>
                    <span class="k">if</span> <span class="n">geo_obj</span><span class="o">.</span><span class="n">is_closed</span><span class="p">(</span><span class="n">tolerance</span><span class="p">):</span>
                        <span class="n">geo_obj</span> <span class="o">=</span> <span class="n">geo_obj</span><span class="o">.</span><span class="n">to_polygon</span><span class="p">(</span><span class="n">tolerance</span><span class="p">)</span>
                    <span class="n">line_objs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">geo_obj</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">line_objs</span></div>


<div class="viewcode-block" id="Model.model_dict_room_2d_subset">
<a class="viewcode-back" href="../../dragonfly.model.html#dragonfly.model.Model.model_dict_room_2d_subset">[docs]</a>
    <span class="nd">@staticmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">model_dict_room_2d_subset</span><span class="p">(</span><span class="n">model_dict</span><span class="p">,</span> <span class="n">room_2d_ids</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a dragonfly Model dictionary that has been filtered for a Room2D subset.</span>

<span class="sd">        This is useful when you are only interested in visualizing or exporting a</span>
<span class="sd">        subset of Room2Ds to a file and so it is not desirable to serialize the</span>
<span class="sd">        entire Dragonfly Model.</span>

<span class="sd">        Args:</span>
<span class="sd">            model_dict: A dictionary of a Dragonfly Model.</span>
<span class="sd">            room_2d_ids: An optional list of the identifiers for the Room2Ds</span>
<span class="sd">                to be included in the output dictionary.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A copy of the input Dragonfly Model dictionary, which contains only</span>
<span class="sd">            the Room2Ds listed in the room_2d_ids. All ContextShade and 3D Honeybee</span>
<span class="sd">            Rooms are removed but slanted Roof geometries are included if they are</span>
<span class="sd">            relevant to the Room2Ds.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Model</span><span class="o">.</span><span class="n">model_dict_subset</span><span class="p">(</span><span class="n">model_dict</span><span class="p">,</span> <span class="n">room_2d_ids</span><span class="p">)</span></div>


<div class="viewcode-block" id="Model.model_dict_subset">
<a class="viewcode-back" href="../../dragonfly.model.html#dragonfly.model.Model.model_dict_subset">[docs]</a>
    <span class="nd">@staticmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">model_dict_subset</span><span class="p">(</span>
            <span class="n">model_dict</span><span class="p">,</span> <span class="n">room_2d_ids</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">room_3d_ids</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">shade_ids</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a dragonfly Model dictionary that has been filtered for certain objects.</span>

<span class="sd">        This is useful when you are only interested in visualizing or exporting a</span>
<span class="sd">        subset of objects to a file and so it is not desirable to serialize the</span>
<span class="sd">        entire Dragonfly Model.</span>

<span class="sd">        Args:</span>
<span class="sd">            model_dict: A dictionary of a Dragonfly Model.</span>
<span class="sd">            room_2d_ids: An optional list of the identifiers for the Room2Ds</span>
<span class="sd">                to be included in the output dictionary. If None, no Room2D</span>
<span class="sd">                dictionaries will be in the result. (Default: None).</span>
<span class="sd">            room_3d_ids: An optional list of the identifiers for the 3D Rooms</span>
<span class="sd">                to be included in the output dictionary. If None, no 3D Room</span>
<span class="sd">                dictionaries will be in the result. (Default: None).</span>
<span class="sd">            shade_ids: An optional list of the identifiers for the ContextShades</span>
<span class="sd">                to be included in the output dictionary. If None, no ContextShade</span>
<span class="sd">                dictionaries will be in the result. (Default: None).</span>

<span class="sd">        Returns:</span>
<span class="sd">            A copy of the input Dragonfly Model dictionary, which contains only</span>
<span class="sd">            the Room2Ds listed in the room_2d_ids, the 3D Rooms listed in the</span>
<span class="sd">            room_3d_ids, and ContextShades in the shade_ids. Slanted Roof geometries</span>
<span class="sd">            are included if they are relevant to the Room2Ds.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># build a copy of the model_dict with geometry excluded</span>
        <span class="n">ex_keys</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;buildings&#39;</span><span class="p">,</span> <span class="s1">&#39;context_shades&#39;</span><span class="p">)</span>
        <span class="n">filtered_model</span> <span class="o">=</span> <span class="p">{</span><span class="n">key</span><span class="p">:</span> <span class="n">v</span> <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">model_dict</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="n">key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">ex_keys</span><span class="p">}</span>
        <span class="n">r3_ids</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">room_3d_ids</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">room_3d_ids</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">r3_ids</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">room_3d_ids</span><span class="p">)</span>
        <span class="c1"># loop through the Buildings and grab the relevant Rooms</span>
        <span class="k">if</span> <span class="n">room_2d_ids</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">room_2d_ids</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">room_ids</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">room_2d_ids</span><span class="p">)</span>
            <span class="k">if</span> <span class="s1">&#39;buildings&#39;</span> <span class="ow">in</span> <span class="n">model_dict</span> <span class="ow">and</span> <span class="n">model_dict</span><span class="p">[</span><span class="s1">&#39;buildings&#39;</span><span class="p">]</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">new_bldgs</span> <span class="o">=</span> <span class="p">[]</span>
                <span class="k">for</span> <span class="n">b_dict</span> <span class="ow">in</span> <span class="n">model_dict</span><span class="p">[</span><span class="s1">&#39;buildings&#39;</span><span class="p">]:</span>
                    <span class="n">r_2ds_found</span> <span class="o">=</span> <span class="kc">False</span>
                    <span class="k">if</span> <span class="s1">&#39;unique_stories&#39;</span> <span class="ow">in</span> <span class="n">b_dict</span> <span class="ow">and</span> \
                            <span class="n">b_dict</span><span class="p">[</span><span class="s1">&#39;unique_stories&#39;</span><span class="p">]</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                        <span class="n">new_stories</span><span class="p">,</span> <span class="n">new_roofs</span> <span class="o">=</span> <span class="p">[],</span> <span class="p">[]</span>
                        <span class="k">for</span> <span class="n">s_dict</span> <span class="ow">in</span> <span class="n">b_dict</span><span class="p">[</span><span class="s1">&#39;unique_stories&#39;</span><span class="p">]:</span>
                            <span class="n">r_dicts</span> <span class="o">=</span> <span class="p">[</span><span class="n">r</span> <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">s_dict</span><span class="p">[</span><span class="s1">&#39;room_2ds&#39;</span><span class="p">]</span>
                                       <span class="k">if</span> <span class="n">r</span><span class="p">[</span><span class="s1">&#39;identifier&#39;</span><span class="p">]</span> <span class="ow">in</span> <span class="n">room_ids</span><span class="p">]</span>
                            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">r_dicts</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
                                <span class="n">new_story</span> <span class="o">=</span> <span class="n">s_dict</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
                                <span class="n">new_story</span><span class="p">[</span><span class="s1">&#39;room_2ds&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">r_dicts</span>
                                <span class="n">new_stories</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">new_story</span><span class="p">)</span>
                            <span class="n">rf_dict</span> <span class="o">=</span> <span class="n">s_dict</span><span class="p">[</span><span class="s1">&#39;roof&#39;</span><span class="p">]</span> <span class="k">if</span> <span class="s1">&#39;roof&#39;</span> <span class="ow">in</span> <span class="n">s_dict</span> <span class="k">else</span> <span class="kc">None</span>
                            <span class="n">new_roofs</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">s_dict</span><span class="p">[</span><span class="s1">&#39;identifier&#39;</span><span class="p">],</span> <span class="n">rf_dict</span><span class="p">])</span>
                        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">new_stories</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
                            <span class="n">new_bldg</span> <span class="o">=</span> <span class="n">b_dict</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
                            <span class="n">new_bldg</span><span class="p">[</span><span class="s1">&#39;unique_stories&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">new_stories</span>
                            <span class="n">new_bldg</span><span class="p">[</span><span class="s1">&#39;_roofs&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">new_roofs</span>
                            <span class="n">new_bldgs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">new_bldg</span><span class="p">)</span>
                            <span class="n">r_2ds_found</span> <span class="o">=</span> <span class="kc">True</span>
                    <span class="k">if</span> <span class="n">r3_ids</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                        <span class="k">if</span> <span class="s1">&#39;room_3ds&#39;</span> <span class="ow">in</span> <span class="n">b_dict</span> <span class="ow">and</span> <span class="n">b_dict</span><span class="p">[</span><span class="s1">&#39;room_3ds&#39;</span><span class="p">]</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                            <span class="n">new_room_3ds</span> <span class="o">=</span> <span class="p">[]</span>
                            <span class="k">for</span> <span class="n">r3_dict</span> <span class="ow">in</span> <span class="n">b_dict</span><span class="p">[</span><span class="s1">&#39;room_3ds&#39;</span><span class="p">]:</span>
                                <span class="k">if</span> <span class="n">r3_dict</span><span class="p">[</span><span class="s1">&#39;identifier&#39;</span><span class="p">]</span> <span class="ow">in</span> <span class="n">r3_ids</span><span class="p">:</span>
                                    <span class="n">new_room_3ds</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">r3_dict</span><span class="p">)</span>
                            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">new_room_3ds</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
                                <span class="k">if</span> <span class="n">r_2ds_found</span><span class="p">:</span>
                                    <span class="n">new_bldg</span> <span class="o">=</span> <span class="n">new_bldgs</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                                    <span class="n">new_bldg</span><span class="p">[</span><span class="s1">&#39;room_3ds&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">new_room_3ds</span>
                                <span class="k">else</span><span class="p">:</span>
                                    <span class="n">new_bldg</span> <span class="o">=</span> <span class="n">b_dict</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
                                    <span class="n">new_bldg</span><span class="p">[</span><span class="s1">&#39;room_3ds&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">new_room_3ds</span>
                                    <span class="n">new_bldgs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">new_bldg</span><span class="p">)</span>
                <span class="n">filtered_model</span><span class="p">[</span><span class="s1">&#39;buildings&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">new_bldgs</span>
        <span class="k">elif</span> <span class="n">r3_ids</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>  <span class="c1"># only 3D Rooms to visualize</span>
            <span class="k">if</span> <span class="s1">&#39;buildings&#39;</span> <span class="ow">in</span> <span class="n">model_dict</span> <span class="ow">and</span> <span class="n">model_dict</span><span class="p">[</span><span class="s1">&#39;buildings&#39;</span><span class="p">]</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">new_bldgs</span> <span class="o">=</span> <span class="p">[]</span>
                <span class="k">for</span> <span class="n">b_dict</span> <span class="ow">in</span> <span class="n">model_dict</span><span class="p">[</span><span class="s1">&#39;buildings&#39;</span><span class="p">]:</span>
                    <span class="k">if</span> <span class="s1">&#39;room_3ds&#39;</span> <span class="ow">in</span> <span class="n">b_dict</span> <span class="ow">and</span> <span class="n">b_dict</span><span class="p">[</span><span class="s1">&#39;room_3ds&#39;</span><span class="p">]</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                        <span class="n">new_room_3ds</span> <span class="o">=</span> <span class="p">[]</span>
                        <span class="k">for</span> <span class="n">r3_dict</span> <span class="ow">in</span> <span class="n">b_dict</span><span class="p">[</span><span class="s1">&#39;room_3ds&#39;</span><span class="p">]:</span>
                            <span class="k">if</span> <span class="n">r3_dict</span><span class="p">[</span><span class="s1">&#39;identifier&#39;</span><span class="p">]</span> <span class="ow">in</span> <span class="n">r3_ids</span><span class="p">:</span>
                                <span class="n">new_room_3ds</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">r3_dict</span><span class="p">)</span>
                        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">new_room_3ds</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
                            <span class="n">new_bldg</span> <span class="o">=</span> <span class="n">b_dict</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
                            <span class="n">new_bldg</span><span class="p">[</span><span class="s1">&#39;room_3ds&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">new_room_3ds</span>
                            <span class="n">new_bldgs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">new_bldg</span><span class="p">)</span>
                <span class="n">filtered_model</span><span class="p">[</span><span class="s1">&#39;buildings&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">new_bldgs</span>
        <span class="c1"># loop through the ContextShades and grab the relevant objects</span>
        <span class="k">if</span> <span class="n">shade_ids</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">shade_ids</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">cs_ids</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">shade_ids</span><span class="p">)</span>
            <span class="k">if</span> <span class="s1">&#39;context_shades&#39;</span> <span class="ow">in</span> <span class="n">model_dict</span> <span class="ow">and</span> \
                    <span class="n">model_dict</span><span class="p">[</span><span class="s1">&#39;context_shades&#39;</span><span class="p">]</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">new_shades</span> <span class="o">=</span> <span class="p">[]</span>
                <span class="k">for</span> <span class="n">cs_dict</span> <span class="ow">in</span> <span class="n">model_dict</span><span class="p">[</span><span class="s1">&#39;context_shades&#39;</span><span class="p">]:</span>
                    <span class="k">if</span> <span class="n">cs_dict</span><span class="p">[</span><span class="s1">&#39;identifier&#39;</span><span class="p">]</span> <span class="ow">in</span> <span class="n">cs_ids</span><span class="p">:</span>
                        <span class="n">new_shades</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">cs_dict</span><span class="p">)</span>
                <span class="n">filtered_model</span><span class="p">[</span><span class="s1">&#39;context_shades&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">new_shades</span>
        <span class="k">return</span> <span class="n">filtered_model</span></div>


<div class="viewcode-block" id="Model.clean_irrational_geometry">
<a class="viewcode-back" href="../../dragonfly.model.html#dragonfly.model.Model.clean_irrational_geometry">[docs]</a>
    <span class="nd">@staticmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">clean_irrational_geometry</span><span class="p">(</span><span class="n">model_dict</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Remove irrational geometry objects from a dragonfly Model dictionary.</span>

<span class="sd">        This can be useful to run prior to serializing the Model object from a</span>
<span class="sd">        dictionary if it was produced from a source other than the Python</span>
<span class="sd">        core libraries, in which case the dictionary is necessarily rational</span>
<span class="sd">        and serializable. This is because not all dragonfly-schema bindings</span>
<span class="sd">        enforce fundamental definitions of geometry types upon initialization</span>
<span class="sd">        of the geometry objects, leading to exceptions when an attempt is made</span>
<span class="sd">        to serialize them to Python. Furthermore, it is possible that the dragonfly</span>
<span class="sd">        Model dictionary did not originate from any schema bindings at all, in</span>
<span class="sd">        which case it is highly recommended that this method be run.</span>

<span class="sd">        Typical irrational geometry cases that are removed by this method include.</span>

<span class="sd">            * Room2Ds with less than 3 vertices or holes with less than 3 vertices.</span>
<span class="sd">            * RoofSpecification Face3Ds with less than 3 vertices.</span>
<span class="sd">            * DetailedWindow polygons with less than 3 vertices.</span>
<span class="sd">            * Stories that have no Room2D geometry.</span>
<span class="sd">            * Buildings that have no Room2D or 3D Room geometry.</span>
<span class="sd">            * ContextShade Face3Ds with less than 3 vertices.</span>
<span class="sd">            * ContextShade Mesh3Ds with no faces or faces with less than 3 vertices.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># clean all of the building geometry in the model dictionary</span>
        <span class="k">if</span> <span class="s1">&#39;buildings&#39;</span> <span class="ow">in</span> <span class="n">model_dict</span> <span class="ow">and</span> <span class="n">model_dict</span><span class="p">[</span><span class="s1">&#39;buildings&#39;</span><span class="p">]</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">bi</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">model_dict</span><span class="p">[</span><span class="s1">&#39;buildings&#39;</span><span class="p">])</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">):</span>
                <span class="n">b_dict</span> <span class="o">=</span> <span class="n">model_dict</span><span class="p">[</span><span class="s1">&#39;buildings&#39;</span><span class="p">][</span><span class="n">bi</span><span class="p">]</span>
                <span class="n">bldg_geo_found</span> <span class="o">=</span> <span class="kc">False</span>
                <span class="c1"># clean all of the story geometry</span>
                <span class="k">if</span> <span class="s1">&#39;unique_stories&#39;</span> <span class="ow">in</span> <span class="n">b_dict</span> <span class="ow">and</span> \
                        <span class="n">b_dict</span><span class="p">[</span><span class="s1">&#39;unique_stories&#39;</span><span class="p">]</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="k">for</span> <span class="n">si</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">b_dict</span><span class="p">[</span><span class="s1">&#39;unique_stories&#39;</span><span class="p">])</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">):</span>
                        <span class="n">s_dict</span> <span class="o">=</span> <span class="n">b_dict</span><span class="p">[</span><span class="s1">&#39;unique_stories&#39;</span><span class="p">][</span><span class="n">si</span><span class="p">]</span>
                        <span class="c1"># clean all of the Room2D geometry</span>
                        <span class="k">for</span> <span class="n">ri</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">s_dict</span><span class="p">[</span><span class="s1">&#39;room_2ds&#39;</span><span class="p">])</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">):</span>
                            <span class="n">r_dict</span> <span class="o">=</span> <span class="n">s_dict</span><span class="p">[</span><span class="s1">&#39;room_2ds&#39;</span><span class="p">][</span><span class="n">ri</span><span class="p">]</span>
                            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">r_dict</span><span class="p">[</span><span class="s1">&#39;floor_boundary&#39;</span><span class="p">])</span> <span class="o">&lt;</span> <span class="mi">3</span><span class="p">:</span>
                                <span class="n">s_dict</span><span class="p">[</span><span class="s1">&#39;room_2ds&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">ri</span><span class="p">)</span>
                                <span class="k">continue</span>
                            <span class="k">elif</span> <span class="s1">&#39;floor_holes&#39;</span> <span class="ow">in</span> <span class="n">r_dict</span><span class="p">:</span>
                                <span class="n">r_dict</span><span class="p">[</span><span class="s1">&#39;floor_holes&#39;</span><span class="p">]</span> <span class="o">=</span> \
                                    <span class="p">[</span><span class="n">h</span> <span class="k">for</span> <span class="n">h</span> <span class="ow">in</span> <span class="n">r_dict</span><span class="p">[</span><span class="s1">&#39;floor_holes&#39;</span><span class="p">]</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">h</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">3</span><span class="p">]</span>
                            <span class="c1"># clean all of the window geometry</span>
                            <span class="k">if</span> <span class="s1">&#39;window_parameters&#39;</span> <span class="ow">in</span> <span class="n">r_dict</span> <span class="ow">and</span> \
                                    <span class="n">r_dict</span><span class="p">[</span><span class="s1">&#39;window_parameters&#39;</span><span class="p">]</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                                <span class="n">wps</span> <span class="o">=</span> <span class="n">r_dict</span><span class="p">[</span><span class="s1">&#39;window_parameters&#39;</span><span class="p">]</span>
                                <span class="k">for</span> <span class="n">wi</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">wps</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">):</span>
                                    <span class="n">wp</span> <span class="o">=</span> <span class="n">wps</span><span class="p">[</span><span class="n">wi</span><span class="p">]</span>
                                    <span class="k">if</span> <span class="n">wp</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">wp</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;DetailedWindows&#39;</span><span class="p">:</span>
                                        <span class="k">for</span> <span class="n">pi</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">wp</span><span class="p">[</span><span class="s1">&#39;polygons&#39;</span><span class="p">])</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">):</span>
                                            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">wp</span><span class="p">[</span><span class="s1">&#39;polygons&#39;</span><span class="p">][</span><span class="n">pi</span><span class="p">])</span> <span class="o">&lt;</span> <span class="mi">3</span><span class="p">:</span>
                                                <span class="n">wp</span><span class="p">[</span><span class="s1">&#39;polygons&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">pi</span><span class="p">)</span>
                                        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">wp</span><span class="p">[</span><span class="s1">&#39;polygons&#39;</span><span class="p">])</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                                            <span class="n">wps</span><span class="p">[</span><span class="n">wi</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># all polygons are irrational</span>
                        <span class="c1"># clean all of the RoofSpecification geometry</span>
                        <span class="k">if</span> <span class="s1">&#39;roof&#39;</span> <span class="ow">in</span> <span class="n">s_dict</span> <span class="ow">and</span> <span class="n">s_dict</span><span class="p">[</span><span class="s1">&#39;roof&#39;</span><span class="p">]</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                            <span class="n">rf_geo</span> <span class="o">=</span> <span class="n">s_dict</span><span class="p">[</span><span class="s1">&#39;roof&#39;</span><span class="p">][</span><span class="s1">&#39;geometry&#39;</span><span class="p">]</span>
                            <span class="k">for</span> <span class="n">fi</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">rf_geo</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">):</span>
                                <span class="n">face_3d</span> <span class="o">=</span> <span class="n">rf_geo</span><span class="p">[</span><span class="n">fi</span><span class="p">]</span>
                                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">face_3d</span><span class="p">[</span><span class="s1">&#39;boundary&#39;</span><span class="p">])</span> <span class="o">&lt;</span> <span class="mi">3</span><span class="p">:</span>
                                    <span class="n">rf_geo</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">fi</span><span class="p">)</span>
                                <span class="k">elif</span> <span class="s1">&#39;holes&#39;</span> <span class="ow">in</span> <span class="n">face_3d</span><span class="p">:</span>
                                    <span class="n">face_3d</span><span class="p">[</span><span class="s1">&#39;holes&#39;</span><span class="p">]</span> <span class="o">=</span> \
                                        <span class="p">[</span><span class="n">h</span> <span class="k">for</span> <span class="n">h</span> <span class="ow">in</span> <span class="n">face_3d</span><span class="p">[</span><span class="s1">&#39;holes&#39;</span><span class="p">]</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">h</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">3</span><span class="p">]</span>
                            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">rf_geo</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>  <span class="c1"># the entire roof is irrational</span>
                                <span class="n">s_dict</span><span class="p">[</span><span class="s1">&#39;roof&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
                        <span class="c1"># check to be sure the Story is still rational</span>
                        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">s_dict</span><span class="p">[</span><span class="s1">&#39;room_2ds&#39;</span><span class="p">])</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>  <span class="c1"># remove the whole story</span>
                            <span class="n">b_dict</span><span class="p">[</span><span class="s1">&#39;unique_stories&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">si</span><span class="p">)</span>
                        <span class="k">else</span><span class="p">:</span>  <span class="c1"># there are Room2Ds in the Building</span>
                            <span class="n">bldg_geo_found</span> <span class="o">=</span> <span class="kc">True</span>
                <span class="c1"># clean all of the 3D Room geometry</span>
                <span class="k">if</span> <span class="s1">&#39;room_3ds&#39;</span> <span class="ow">in</span> <span class="n">b_dict</span> <span class="ow">and</span> <span class="n">b_dict</span><span class="p">[</span><span class="s1">&#39;room_3ds&#39;</span><span class="p">]</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="n">units</span> <span class="o">=</span> <span class="s1">&#39;Meters&#39;</span> <span class="k">if</span> <span class="s1">&#39;units&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">model_dict</span> <span class="ow">or</span> \
                        <span class="n">model_dict</span><span class="p">[</span><span class="s1">&#39;units&#39;</span><span class="p">]</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">model_dict</span><span class="p">[</span><span class="s1">&#39;units&#39;</span><span class="p">]</span>
                    <span class="n">tol</span> <span class="o">=</span> <span class="n">UNITS_TOLERANCES</span><span class="p">[</span><span class="n">units</span><span class="p">]</span> <span class="k">if</span> <span class="s1">&#39;tolerance&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">model_dict</span> <span class="ow">or</span> \
                        <span class="n">model_dict</span><span class="p">[</span><span class="s1">&#39;tolerance&#39;</span><span class="p">]</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">model_dict</span><span class="p">[</span><span class="s1">&#39;tolerance&#39;</span><span class="p">]</span>
                    <span class="n">angle_tol</span> <span class="o">=</span> <span class="mf">1.0</span> <span class="k">if</span> <span class="s1">&#39;angle_tolerance&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">model_dict</span> <span class="ow">or</span> \
                        <span class="n">model_dict</span><span class="p">[</span><span class="s1">&#39;angle_tolerance&#39;</span><span class="p">]</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> \
                        <span class="n">model_dict</span><span class="p">[</span><span class="s1">&#39;angle_tolerance&#39;</span><span class="p">]</span>
                    <span class="n">hb_model_dict</span> <span class="o">=</span> <span class="p">{</span>
                        <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;Model&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;identifier&#39;</span><span class="p">:</span> <span class="n">model_dict</span><span class="p">[</span><span class="s1">&#39;identifier&#39;</span><span class="p">],</span>
                        <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="n">units</span><span class="p">,</span>
                        <span class="s1">&#39;tolerance&#39;</span><span class="p">:</span> <span class="n">tol</span><span class="p">,</span>
                        <span class="s1">&#39;angle_tolerance&#39;</span><span class="p">:</span> <span class="n">angle_tol</span><span class="p">,</span>
                        <span class="s1">&#39;rooms&#39;</span><span class="p">:</span> <span class="n">b_dict</span><span class="p">[</span><span class="s1">&#39;room_3ds&#39;</span><span class="p">]</span>
                    <span class="p">}</span>
                    <span class="n">HBModel</span><span class="o">.</span><span class="n">clean_irrational_geometry</span><span class="p">(</span><span class="n">hb_model_dict</span><span class="p">)</span>
                    <span class="c1"># check to be sure the 3D Rooms are is still rational</span>
                    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">hb_model_dict</span><span class="p">[</span><span class="s1">&#39;rooms&#39;</span><span class="p">])</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>  <span class="c1"># remove all 3D Rooms</span>
                        <span class="n">b_dict</span><span class="p">[</span><span class="s1">&#39;room_3ds&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
                    <span class="k">else</span><span class="p">:</span>  <span class="c1"># there are 3D Rooms in the Building</span>
                        <span class="n">b_dict</span><span class="p">[</span><span class="s1">&#39;room_3ds&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">hb_model_dict</span><span class="p">[</span><span class="s1">&#39;rooms&#39;</span><span class="p">]</span>
                        <span class="n">bldg_geo_found</span> <span class="o">=</span> <span class="kc">True</span>
                <span class="c1"># check to be sure the Building is still rational</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">bldg_geo_found</span><span class="p">:</span>  <span class="c1"># remove the whole Building</span>
                    <span class="n">model_dict</span><span class="p">[</span><span class="s1">&#39;buildings&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">bi</span><span class="p">)</span>

        <span class="c1"># clean all of the context shade geometry in the model dictionary</span>
        <span class="k">if</span> <span class="s1">&#39;context_shades&#39;</span> <span class="ow">in</span> <span class="n">model_dict</span> <span class="ow">and</span> <span class="n">model_dict</span><span class="p">[</span><span class="s1">&#39;context_shades&#39;</span><span class="p">]</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">ci</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">model_dict</span><span class="p">[</span><span class="s1">&#39;context_shades&#39;</span><span class="p">])</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">):</span>
                <span class="n">c_dict</span> <span class="o">=</span> <span class="n">model_dict</span><span class="p">[</span><span class="s1">&#39;context_shades&#39;</span><span class="p">][</span><span class="n">ci</span><span class="p">]</span>
                <span class="c1"># clean all of the Face3D and Mesh3D geometry</span>
                <span class="k">for</span> <span class="n">gi</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">c_dict</span><span class="p">[</span><span class="s1">&#39;geometry&#39;</span><span class="p">])</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">):</span>
                    <span class="n">geo_dict</span> <span class="o">=</span> <span class="n">c_dict</span><span class="p">[</span><span class="s1">&#39;geometry&#39;</span><span class="p">][</span><span class="n">gi</span><span class="p">]</span>
                    <span class="k">if</span> <span class="n">geo_dict</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;Face3D&#39;</span><span class="p">:</span>
                        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">geo_dict</span><span class="p">[</span><span class="s1">&#39;boundary&#39;</span><span class="p">])</span> <span class="o">&lt;</span> <span class="mi">3</span><span class="p">:</span>
                            <span class="n">c_dict</span><span class="p">[</span><span class="s1">&#39;geometry&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">gi</span><span class="p">)</span>
                        <span class="k">elif</span> <span class="s1">&#39;holes&#39;</span> <span class="ow">in</span> <span class="n">geo_dict</span><span class="p">:</span>
                            <span class="n">geo_dict</span><span class="p">[</span><span class="s1">&#39;holes&#39;</span><span class="p">]</span> <span class="o">=</span> \
                                <span class="p">[</span><span class="n">h</span> <span class="k">for</span> <span class="n">h</span> <span class="ow">in</span> <span class="n">geo_dict</span><span class="p">[</span><span class="s1">&#39;holes&#39;</span><span class="p">]</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">h</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">3</span><span class="p">]</span>
                    <span class="k">elif</span> <span class="n">geo_dict</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;Mesh3D&#39;</span><span class="p">:</span>
                        <span class="k">for</span> <span class="n">mfi</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">geo_dict</span><span class="p">[</span><span class="s1">&#39;faces&#39;</span><span class="p">])</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">):</span>
                            <span class="n">mf</span> <span class="o">=</span> <span class="n">geo_dict</span><span class="p">[</span><span class="s1">&#39;faces&#39;</span><span class="p">][</span><span class="n">mfi</span><span class="p">]</span>
                            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">mf</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">):</span>
                                <span class="n">geo_dict</span><span class="p">[</span><span class="s1">&#39;faces&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">mfi</span><span class="p">)</span>
                            <span class="k">else</span><span class="p">:</span>
                                <span class="k">for</span> <span class="n">ind</span> <span class="ow">in</span> <span class="n">mf</span><span class="p">:</span>
                                    <span class="k">try</span><span class="p">:</span>
                                        <span class="n">geo_dict</span><span class="p">[</span><span class="s1">&#39;vertices&#39;</span><span class="p">][</span><span class="n">ind</span><span class="p">]</span>
                                    <span class="k">except</span> <span class="ne">IndexError</span><span class="p">:</span>
                                        <span class="n">geo_dict</span><span class="p">[</span><span class="s1">&#39;faces&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">mfi</span><span class="p">)</span>
                                        <span class="k">break</span>
                        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">geo_dict</span><span class="p">[</span><span class="s1">&#39;faces&#39;</span><span class="p">])</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                            <span class="n">c_dict</span><span class="p">[</span><span class="s1">&#39;geometry&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">gi</span><span class="p">)</span>
                    <span class="k">else</span><span class="p">:</span>  <span class="c1"># unrecognized geometry type</span>
                        <span class="n">c_dict</span><span class="p">[</span><span class="s1">&#39;geometry&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">gi</span><span class="p">)</span>
                        <span class="k">continue</span>
                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">c_dict</span><span class="p">[</span><span class="s1">&#39;geometry&#39;</span><span class="p">])</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>  <span class="c1"># the entire ContextShade is irrational</span>
                    <span class="n">model_dict</span><span class="p">[</span><span class="s1">&#39;context_shades&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">ci</span><span class="p">)</span></div>


    <span class="k">def</span><span class="w"> </span><span class="nf">_extract_merge_map</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">merge_method</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">exclude_plenums</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">tolerance</span><span class="o">=</span><span class="kc">None</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Extract dictionaries mapping Honeybee Rooms to be merged.</span>

<span class="sd">        Args:</span>
<span class="sd">            merge_method: An optional text string to describe how the Room2Ds should</span>
<span class="sd">                be merged into individual Rooms during the translation. Specifying a</span>
<span class="sd">                value here can be an effective way to reduce the number of Room</span>
<span class="sd">                volumes in the resulting 3D Honeybee Model and, ultimately, yield</span>
<span class="sd">                a faster simulation time in the destination engine with fewer results</span>
<span class="sd">                to manage. Note that Room2Ds will only be merged if they form a</span>
<span class="sd">                continuous volume. Otherwise, there will be multiple Rooms per</span>
<span class="sd">                zone or story, each with an integer added at the end of their</span>
<span class="sd">                identifiers and names. Choose from the following options:</span>

<span class="sd">                * None - No merging of Room2Ds will occur</span>
<span class="sd">                * Zones - Room2Ds in the same zone will be merged</span>
<span class="sd">                * PlenumZones - Only plenums in the same zone will be merged</span>
<span class="sd">                * Stories - Rooms in the same story will be merged</span>
<span class="sd">                * PlenumStories - Only plenums in the same story will be merged</span>

<span class="sd">            exclude_plenums: Boolean to note whether plenums are being excluded</span>
<span class="sd">                in the result. (Default: False).</span>
<span class="sd">            tolerance: The minimum distance between objects that is considered</span>
<span class="sd">                meaningful. If None, the Model&#39;s tolerance will be used. (Default: None).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># set up variables to be used to evaluate the mapping</span>
        <span class="n">tolerance</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tolerance</span> <span class="k">if</span> <span class="n">tolerance</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">tolerance</span>
        <span class="n">room_merge_map</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">merge_method</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">merge_method</span><span class="p">)</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
        <span class="n">acceptable_methods</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;zones&#39;</span><span class="p">,</span> <span class="s1">&#39;plenumzones&#39;</span><span class="p">,</span> <span class="s1">&#39;stories&#39;</span><span class="p">,</span> <span class="s1">&#39;plenumstories&#39;</span><span class="p">)</span>

        <span class="c1"># set up the mapping given the merge_method</span>
        <span class="k">if</span> <span class="n">merge_method</span> <span class="ow">in</span> <span class="n">acceptable_methods</span><span class="p">:</span>
            <span class="n">room_merge_map</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="k">if</span> <span class="n">merge_method</span> <span class="o">==</span> <span class="s1">&#39;zones&#39;</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">room</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">room_2ds</span><span class="p">:</span>
                    <span class="n">room_merge_map</span><span class="p">[</span><span class="n">room</span><span class="o">.</span><span class="n">identifier</span><span class="p">]</span> <span class="o">=</span> <span class="n">room</span><span class="o">.</span><span class="n">zone</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">exclude_plenums</span> <span class="ow">and</span> <span class="n">merge_method</span> <span class="ow">in</span> <span class="p">(</span><span class="s1">&#39;zones&#39;</span><span class="p">,</span> <span class="s1">&#39;plenumzones&#39;</span><span class="p">):</span>
                <span class="k">for</span> <span class="n">room</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">room_2ds</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">room</span><span class="o">.</span><span class="n">ceiling_plenum_depth</span> <span class="o">&gt;</span> <span class="n">tolerance</span><span class="p">:</span>
                        <span class="n">room_id</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">{}</span><span class="s1">_Ceiling_Plenum&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">room</span><span class="o">.</span><span class="n">identifier</span><span class="p">)</span>
                        <span class="n">zone_id</span> <span class="o">=</span> <span class="n">room_id</span> <span class="k">if</span> <span class="n">room</span><span class="o">.</span><span class="n">_zone</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> \
                            <span class="s1">&#39;</span><span class="si">{}</span><span class="s1"> Ceiling Plenum&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">room</span><span class="o">.</span><span class="n">zone</span><span class="p">)</span>
                        <span class="n">room_merge_map</span><span class="p">[</span><span class="n">room_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">zone_id</span>
                    <span class="k">if</span> <span class="n">room</span><span class="o">.</span><span class="n">floor_plenum_depth</span> <span class="o">&gt;</span> <span class="n">tolerance</span><span class="p">:</span>
                        <span class="n">room_id</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">{}</span><span class="s1">_Floor_Plenum&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">room</span><span class="o">.</span><span class="n">identifier</span><span class="p">)</span>
                        <span class="n">zone_id</span> <span class="o">=</span> <span class="n">room_id</span> <span class="k">if</span> <span class="n">room</span><span class="o">.</span><span class="n">_zone</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> \
                            <span class="s1">&#39;</span><span class="si">{}</span><span class="s1"> Floor Plenum&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">room</span><span class="o">.</span><span class="n">zone</span><span class="p">)</span>
                        <span class="n">room_merge_map</span><span class="p">[</span><span class="n">room_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">zone_id</span>
            <span class="k">if</span> <span class="n">merge_method</span> <span class="o">==</span> <span class="s1">&#39;stories&#39;</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">room</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">room_2ds</span><span class="p">:</span>
                    <span class="n">room_merge_map</span><span class="p">[</span><span class="n">room</span><span class="o">.</span><span class="n">identifier</span><span class="p">]</span> <span class="o">=</span> <span class="n">room</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">display_name</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">exclude_plenums</span> <span class="ow">and</span> <span class="n">merge_method</span> <span class="ow">in</span> <span class="p">(</span><span class="s1">&#39;stories&#39;</span><span class="p">,</span> <span class="s1">&#39;plenumstories&#39;</span><span class="p">):</span>
                <span class="k">for</span> <span class="n">room</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">room_2ds</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">room</span><span class="o">.</span><span class="n">ceiling_plenum_depth</span> <span class="o">&gt;</span> <span class="n">tolerance</span><span class="p">:</span>
                        <span class="n">room_id</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">{}</span><span class="s1">_Ceiling_Plenum&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">room</span><span class="o">.</span><span class="n">identifier</span><span class="p">)</span>
                        <span class="n">story_id</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">{}</span><span class="s1">_CeilingPlenum&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">room</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">identifier</span><span class="p">)</span> \
                            <span class="k">if</span> <span class="n">room</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">_display_name</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> \
                            <span class="s1">&#39;</span><span class="si">{}</span><span class="s1"> Plenum&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">room</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">display_name</span><span class="p">)</span>
                        <span class="n">room_merge_map</span><span class="p">[</span><span class="n">room_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">story_id</span>
                    <span class="k">if</span> <span class="n">room</span><span class="o">.</span><span class="n">floor_plenum_depth</span> <span class="o">&gt;</span> <span class="n">tolerance</span><span class="p">:</span>
                        <span class="n">room_id</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">{}</span><span class="s1">_Floor_Plenum&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">room</span><span class="o">.</span><span class="n">identifier</span><span class="p">)</span>
                        <span class="n">story_id</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">{}</span><span class="s1">_FloorPlenum&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">room</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">identifier</span><span class="p">)</span> \
                            <span class="k">if</span> <span class="n">room</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">_display_name</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> \
                            <span class="s1">&#39;</span><span class="si">{}</span><span class="s1"> Plenum&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">room</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">display_name</span><span class="p">)</span>
                        <span class="n">room_merge_map</span><span class="p">[</span><span class="n">room_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">story_id</span>
        <span class="k">return</span> <span class="n">room_merge_map</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_apply_merge_map</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">merge_map</span><span class="p">,</span> <span class="n">tolerance</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Merge Rooms of a Honeybee Model together using a merge_map dictionary.</span>

<span class="sd">        Args:</span>
<span class="sd">            model: A Honeybee Model for which Rooms will be merged.</span>
<span class="sd">            merge_map: A dictionary with Honeybee Room</span>
<span class="sd">            tolerance: The minimum distance between that is considered meaningful.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># use the merge map to gather the Room objects to be merged</span>
        <span class="n">merge_groups</span><span class="p">,</span> <span class="n">remove_i</span> <span class="o">=</span> <span class="n">OrderedDict</span><span class="p">(),</span> <span class="nb">set</span><span class="p">()</span>
        <span class="n">insert_i</span><span class="p">,</span> <span class="n">insert_count</span> <span class="o">=</span> <span class="p">[],</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">room</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">rooms</span><span class="p">):</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">merge_name</span> <span class="o">=</span> <span class="n">merge_map</span><span class="p">[</span><span class="n">room</span><span class="o">.</span><span class="n">identifier</span><span class="p">]</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">merge_groups</span><span class="p">[</span><span class="n">merge_name</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">room</span><span class="p">)</span>
                <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>  <span class="c1"># first item in the group</span>
                    <span class="n">merge_groups</span><span class="p">[</span><span class="n">merge_name</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">room</span><span class="p">]</span>
                    <span class="n">insert_i</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">insert_count</span><span class="p">)</span>
                <span class="n">remove_i</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>  <span class="c1"># not a room to be merged</span>
                <span class="n">insert_count</span> <span class="o">+=</span> <span class="mi">1</span>

        <span class="c1"># create the new rooms and assign them to the model</span>
        <span class="n">new_rooms</span> <span class="o">=</span> <span class="p">[</span><span class="n">r</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">r</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">rooms</span><span class="p">)</span> <span class="k">if</span> <span class="n">i</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">remove_i</span><span class="p">]</span>
        <span class="n">group_ids</span><span class="p">,</span> <span class="n">final_merge_map</span> <span class="o">=</span> <span class="p">{},</span> <span class="p">{}</span>
        <span class="n">zip_obj</span> <span class="o">=</span> <span class="nb">zip</span><span class="p">(</span><span class="nb">reversed</span><span class="p">(</span><span class="n">insert_i</span><span class="p">),</span> <span class="nb">reversed</span><span class="p">(</span><span class="n">merge_groups</span><span class="o">.</span><span class="n">items</span><span class="p">()))</span>
        <span class="k">for</span> <span class="n">ins_i</span><span class="p">,</span> <span class="p">(</span><span class="n">group_name</span><span class="p">,</span> <span class="n">room_group</span><span class="p">)</span> <span class="ow">in</span> <span class="n">zip_obj</span><span class="p">:</span>
            <span class="n">merged_rooms</span> <span class="o">=</span> <span class="n">HBRoom</span><span class="o">.</span><span class="n">join_adjacent_rooms</span><span class="p">(</span><span class="n">room_group</span><span class="p">,</span> <span class="n">tolerance</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">room</span> <span class="ow">in</span> <span class="n">merged_rooms</span><span class="p">:</span>
                <span class="n">room</span><span class="o">.</span><span class="n">identifier</span> <span class="o">=</span> <span class="n">clean_and_number_string</span><span class="p">(</span><span class="n">group_name</span><span class="p">,</span> <span class="n">group_ids</span><span class="p">)</span>
                <span class="n">room</span><span class="o">.</span><span class="n">display_name</span> <span class="o">=</span> <span class="n">group_name</span>
                <span class="n">new_rooms</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">ins_i</span><span class="p">,</span> <span class="n">room</span><span class="p">)</span>
            <span class="c1"># build up a final map of old room IDs to the new merged IDs</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">merged_rooms</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                <span class="n">merged_id</span> <span class="o">=</span> <span class="n">merged_rooms</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">identifier</span>
                <span class="k">for</span> <span class="n">rm</span> <span class="ow">in</span> <span class="n">room_group</span><span class="p">:</span>
                    <span class="n">final_merge_map</span><span class="p">[</span><span class="n">rm</span><span class="o">.</span><span class="n">identifier</span><span class="p">]</span> <span class="o">=</span> <span class="n">merged_id</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">rm</span> <span class="ow">in</span> <span class="n">room_group</span><span class="p">:</span>
                    <span class="n">room_mapped</span> <span class="o">=</span> <span class="kc">False</span>
                    <span class="k">for</span> <span class="n">merge_rm</span> <span class="ow">in</span> <span class="n">merged_rooms</span><span class="p">:</span>
                        <span class="k">if</span> <span class="n">room_mapped</span><span class="p">:</span>
                            <span class="k">break</span>
                        <span class="k">for</span> <span class="n">old_face</span> <span class="ow">in</span> <span class="n">rm</span><span class="o">.</span><span class="n">faces</span><span class="p">:</span>
                            <span class="k">if</span> <span class="n">room_mapped</span><span class="p">:</span>
                                <span class="k">break</span>
                            <span class="k">for</span> <span class="n">new_face</span> <span class="ow">in</span> <span class="n">merge_rm</span><span class="o">.</span><span class="n">faces</span><span class="p">:</span>
                                <span class="k">if</span> <span class="n">old_face</span><span class="o">.</span><span class="n">identifier</span> <span class="o">==</span> <span class="n">new_face</span><span class="o">.</span><span class="n">identifier</span><span class="p">:</span>
                                    <span class="n">final_merge_map</span><span class="p">[</span><span class="n">rm</span><span class="o">.</span><span class="n">identifier</span><span class="p">]</span> <span class="o">=</span> <span class="n">merge_rm</span><span class="o">.</span><span class="n">identifier</span>
                                    <span class="n">room_mapped</span> <span class="o">=</span> <span class="kc">True</span>
                                    <span class="k">break</span>
        <span class="n">model</span><span class="o">.</span><span class="n">rooms</span> <span class="o">=</span> <span class="n">new_rooms</span>

        <span class="c1"># update any Surface boundary conditions with the new room IDs</span>
        <span class="k">for</span> <span class="n">room</span> <span class="ow">in</span> <span class="n">model</span><span class="o">.</span><span class="n">rooms</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">face</span> <span class="ow">in</span> <span class="n">room</span><span class="o">.</span><span class="n">faces</span><span class="p">:</span>
                <span class="n">face_bc</span> <span class="o">=</span> <span class="n">face</span><span class="o">.</span><span class="n">boundary_condition</span>
                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">face_bc</span><span class="p">,</span> <span class="n">Surface</span><span class="p">):</span>
                    <span class="n">bc_face</span><span class="p">,</span> <span class="n">bc_room</span> <span class="o">=</span> <span class="n">face_bc</span><span class="o">.</span><span class="n">boundary_condition_objects</span>
                    <span class="k">try</span><span class="p">:</span>
                        <span class="n">new_bc_room</span> <span class="o">=</span> <span class="n">final_merge_map</span><span class="p">[</span><span class="n">bc_room</span><span class="p">]</span>
                        <span class="n">face</span><span class="o">.</span><span class="n">boundary_condition</span> <span class="o">=</span> <span class="n">Surface</span><span class="p">((</span><span class="n">bc_face</span><span class="p">,</span> <span class="n">new_bc_room</span><span class="p">))</span>
                        <span class="k">for</span> <span class="n">sf</span> <span class="ow">in</span> <span class="n">face</span><span class="o">.</span><span class="n">sub_faces</span><span class="p">:</span>
                            <span class="n">sf_bc</span> <span class="o">=</span> <span class="n">sf</span><span class="o">.</span><span class="n">boundary_condition</span>
                            <span class="n">bc_sf</span><span class="p">,</span> <span class="n">bc_face</span><span class="p">,</span> <span class="n">bc_room</span> <span class="o">=</span> <span class="n">sf_bc</span><span class="o">.</span><span class="n">boundary_condition_objects</span>
                            <span class="n">new_bc_objs</span> <span class="o">=</span> <span class="p">(</span><span class="n">bc_sf</span><span class="p">,</span> <span class="n">bc_face</span><span class="p">,</span> <span class="n">new_bc_room</span><span class="p">)</span>
                            <span class="n">sf</span><span class="o">.</span><span class="n">boundary_condition</span> <span class="o">=</span> <span class="n">Surface</span><span class="p">(</span><span class="n">new_bc_objs</span><span class="p">,</span> <span class="n">sub_face</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
                    <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>  <span class="c1"># not adjacent to a merged room</span>
                        <span class="n">insert_count</span> <span class="o">+=</span> <span class="mi">1</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_solve_ceil_adj</span><span class="p">(</span><span class="n">rooms</span><span class="p">,</span> <span class="n">story_rel_types</span><span class="p">,</span> <span class="n">has_floor_ceil</span><span class="p">,</span>
                        <span class="n">tolerance</span><span class="o">=</span><span class="mf">0.01</span><span class="p">,</span> <span class="n">angle_tolerance</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Solve Floor/Ceiling adjacencies between a list of rooms.&quot;&quot;&quot;</span>
        <span class="c1"># intersect the Rooms with one another for matching adjacencies</span>
        <span class="n">HBRoom</span><span class="o">.</span><span class="n">intersect_adjacency</span><span class="p">(</span><span class="n">rooms</span><span class="p">,</span> <span class="n">tolerance</span><span class="p">,</span> <span class="n">angle_tolerance</span><span class="p">)</span>
        <span class="c1"># solve all adjacencies between rooms</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="p">(</span><span class="n">room_1</span><span class="p">,</span> <span class="n">fc_1</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">rooms</span><span class="p">,</span> <span class="n">has_floor_ceil</span><span class="p">)):</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">room_2</span><span class="p">,</span> <span class="n">fc_2</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">rooms</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">:],</span> <span class="n">has_floor_ceil</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">:]):</span>
                    <span class="k">if</span> <span class="ow">not</span> <span class="n">Polyface3D</span><span class="o">.</span><span class="n">overlapping_bounding_boxes</span><span class="p">(</span>
                            <span class="n">room_1</span><span class="o">.</span><span class="n">geometry</span><span class="p">,</span> <span class="n">room_2</span><span class="o">.</span><span class="n">geometry</span><span class="p">,</span> <span class="n">tolerance</span><span class="p">):</span>
                        <span class="k">continue</span>  <span class="c1"># no overlap in bounding box; adjacency impossible</span>
                    <span class="k">for</span> <span class="n">face_1</span> <span class="ow">in</span> <span class="n">room_1</span><span class="o">.</span><span class="n">_faces</span><span class="p">:</span>
                        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">face_1</span><span class="o">.</span><span class="n">boundary_condition</span><span class="p">,</span> <span class="n">Surface</span><span class="p">):</span>
                            <span class="k">continue</span>  <span class="c1"># face is not the right type for ceiling adj</span>
                        <span class="k">for</span> <span class="n">face_2</span> <span class="ow">in</span> <span class="n">room_2</span><span class="o">.</span><span class="n">_faces</span><span class="p">:</span>
                            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">face_2</span><span class="o">.</span><span class="n">boundary_condition</span><span class="p">,</span> <span class="n">Surface</span><span class="p">):</span>
                                <span class="k">continue</span>  <span class="c1"># face is not the right type for ceiling adj</span>
                            <span class="k">if</span> <span class="n">face_1</span><span class="o">.</span><span class="n">geometry</span><span class="o">.</span><span class="n">is_centered_adjacent</span><span class="p">(</span>
                                    <span class="n">face_2</span><span class="o">.</span><span class="n">geometry</span><span class="p">,</span> <span class="n">tolerance</span><span class="p">):</span>
                                <span class="k">try</span><span class="p">:</span>
                                    <span class="n">face_1</span><span class="o">.</span><span class="n">set_adjacency</span><span class="p">(</span><span class="n">face_2</span><span class="p">)</span>
                                <span class="k">except</span> <span class="ne">AssertionError</span><span class="p">:</span>  <span class="c1"># invalid skylights; remove</span>
                                    <span class="n">face_1</span><span class="o">.</span><span class="n">remove_sub_faces</span><span class="p">()</span>
                                    <span class="n">face_2</span><span class="o">.</span><span class="n">remove_sub_faces</span><span class="p">()</span>
                                    <span class="n">face_1</span><span class="o">.</span><span class="n">set_adjacency</span><span class="p">(</span><span class="n">face_2</span><span class="p">)</span>
                                <span class="n">hf_1</span><span class="p">,</span> <span class="n">hc_1</span> <span class="o">=</span> <span class="n">fc_1</span>
                                <span class="n">hf_2</span><span class="p">,</span> <span class="n">hc_2</span> <span class="o">=</span> <span class="n">fc_2</span>
                                <span class="k">if</span> <span class="ow">not</span> <span class="n">hc_1</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">hf_2</span><span class="p">:</span>
                                    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">face_1</span><span class="o">.</span><span class="n">type</span><span class="p">,</span> <span class="n">RoofCeiling</span><span class="p">)</span> <span class="ow">and</span> \
                                            <span class="nb">isinstance</span><span class="p">(</span><span class="n">face_2</span><span class="o">.</span><span class="n">type</span><span class="p">,</span> <span class="n">Floor</span><span class="p">):</span>
                                        <span class="n">face_1</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="n">face_types</span><span class="o">.</span><span class="n">air_boundary</span>
                                        <span class="n">face_2</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="n">face_types</span><span class="o">.</span><span class="n">air_boundary</span>
                                <span class="k">if</span> <span class="ow">not</span> <span class="n">hf_1</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">hc_2</span><span class="p">:</span>
                                    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">face_2</span><span class="o">.</span><span class="n">type</span><span class="p">,</span> <span class="n">RoofCeiling</span><span class="p">)</span> <span class="ow">and</span> \
                                            <span class="nb">isinstance</span><span class="p">(</span><span class="n">face_1</span><span class="o">.</span><span class="n">type</span><span class="p">,</span> <span class="n">Floor</span><span class="p">):</span>
                                        <span class="n">face_1</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="n">face_types</span><span class="o">.</span><span class="n">air_boundary</span>
                                        <span class="n">face_2</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="n">face_types</span><span class="o">.</span><span class="n">air_boundary</span>
                                <span class="k">break</span>
            <span class="k">except</span> <span class="ne">IndexError</span><span class="p">:</span>
                <span class="k">pass</span>  <span class="c1"># we have reached the end of the list of zones</span>
        <span class="c1"># change any remaining Floor/Roof boundary conditions to be outdoors</span>
        <span class="n">relevant_bcs</span> <span class="o">=</span> <span class="p">(</span><span class="n">Outdoors</span><span class="p">,</span> <span class="n">Surface</span><span class="p">,</span> <span class="n">Ground</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">room</span> <span class="ow">in</span> <span class="n">rooms</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">rel_types</span> <span class="o">=</span> <span class="n">story_rel_types</span><span class="p">[</span><span class="n">room</span><span class="o">.</span><span class="n">story</span><span class="p">]</span>
            <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>  <span class="c1"># 3D honeybee rooms to ignore</span>
                <span class="k">continue</span>
            <span class="k">for</span> <span class="n">face</span> <span class="ow">in</span> <span class="n">room</span><span class="o">.</span><span class="n">_faces</span><span class="p">:</span>
                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">face</span><span class="o">.</span><span class="n">type</span><span class="p">,</span> <span class="n">rel_types</span><span class="p">):</span>
                    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">face</span><span class="o">.</span><span class="n">boundary_condition</span><span class="p">,</span> <span class="n">relevant_bcs</span><span class="p">):</span>
                        <span class="n">face</span><span class="o">.</span><span class="n">boundary_condition</span> <span class="o">=</span> <span class="n">boundary_conditions</span><span class="o">.</span><span class="n">outdoors</span>
        <span class="c1"># remove any degenerate geometry from the rooms</span>
        <span class="n">adj_dict</span> <span class="o">=</span> <span class="p">{}</span>  <span class="c1"># dictionary to track adjacent geometries</span>
        <span class="k">for</span> <span class="n">room</span> <span class="ow">in</span> <span class="n">rooms</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">r_adj</span> <span class="o">=</span> <span class="n">room</span><span class="o">.</span><span class="n">clean_envelope</span><span class="p">(</span><span class="n">adj_dict</span><span class="p">,</span> <span class="n">tolerance</span><span class="o">=</span><span class="n">tolerance</span><span class="p">)</span>
                <span class="n">adj_dict</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">r_adj</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">AssertionError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>  <span class="c1"># room removed; likely wrong units</span>
                <span class="n">error</span> <span class="o">=</span> <span class="s1">&#39;Failed to remove degenerate geometry for Room </span><span class="si">{}</span><span class="s1">.</span><span class="se">\n</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                    <span class="n">room</span><span class="o">.</span><span class="n">full_id</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">error</span><span class="p">)</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_objects_from_geojson</span><span class="p">(</span><span class="n">bldgs_data</span><span class="p">,</span> <span class="n">existing_to_context</span><span class="p">,</span> <span class="n">scale_to_meters</span><span class="p">,</span>
                              <span class="n">origin_lon_lat</span><span class="p">,</span> <span class="n">convert_facs</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get Dragonfly Building and ContextShade objects from a geoJSON dictionary.</span>

<span class="sd">        Args:</span>
<span class="sd">            bldgs_data: A list of geoJSON object dictionaries, including polygons</span>
<span class="sd">                to be turned into buildings and context.</span>
<span class="sd">            existing_to_context: Boolean to indicate whether polygons possessing</span>
<span class="sd">                a building_status of &quot;Existing&quot; under their properties should be</span>
<span class="sd">                imported as ContextShade instead of Building objects.</span>
<span class="sd">            scale_to_meters: Factor for converting the building heights to meters.</span>
<span class="sd">            origin_lon_lat: An array of two numbers in degrees for origin lat and lon.</span>
<span class="sd">            convert_facs: A tuple with two values used to translate between</span>
<span class="sd">            meters and longitude, latitude.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">bldgs</span><span class="p">,</span> <span class="n">contexts</span> <span class="o">=</span> <span class="p">[],</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">bldg_data</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">bldgs_data</span><span class="p">):</span>
            <span class="c1"># get footprints</span>
            <span class="n">footprint</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="n">geojson_coordinates</span> <span class="o">=</span> <span class="n">bldg_data</span><span class="p">[</span><span class="s1">&#39;geometry&#39;</span><span class="p">][</span><span class="s1">&#39;coordinates&#39;</span><span class="p">]</span>
            <span class="n">prop</span> <span class="o">=</span> <span class="n">bldg_data</span><span class="p">[</span><span class="s1">&#39;properties&#39;</span><span class="p">]</span>

            <span class="k">if</span> <span class="n">bldg_data</span><span class="p">[</span><span class="s1">&#39;geometry&#39;</span><span class="p">][</span><span class="s1">&#39;type&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;Polygon&#39;</span><span class="p">:</span>
                <span class="n">face3d</span> <span class="o">=</span> <span class="n">Model</span><span class="o">.</span><span class="n">_geojson_coordinates_to_face3d</span><span class="p">(</span>
                    <span class="n">geojson_coordinates</span><span class="p">,</span> <span class="n">origin_lon_lat</span><span class="p">,</span> <span class="n">convert_facs</span><span class="p">)</span>
                <span class="n">footprint</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">face3d</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>  <span class="c1"># if MultiPolygon, account for multiple polygons</span>
                <span class="k">for</span> <span class="n">_geojson_coordinates</span> <span class="ow">in</span> <span class="n">geojson_coordinates</span><span class="p">:</span>
                    <span class="n">face3d</span> <span class="o">=</span> <span class="n">Model</span><span class="o">.</span><span class="n">_geojson_coordinates_to_face3d</span><span class="p">(</span>
                        <span class="n">_geojson_coordinates</span><span class="p">,</span> <span class="n">origin_lon_lat</span><span class="p">,</span> <span class="n">convert_facs</span><span class="p">)</span>
                    <span class="n">footprint</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">face3d</span><span class="p">)</span>

            <span class="c1"># determine whether the footprint should be context or a building</span>
            <span class="k">if</span> <span class="n">existing_to_context</span> <span class="ow">and</span> <span class="s1">&#39;building_status&#39;</span> <span class="ow">in</span> <span class="n">prop</span> \
                    <span class="ow">and</span> <span class="n">prop</span><span class="p">[</span><span class="s1">&#39;building_status&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;Existing&#39;</span><span class="p">:</span>
                <span class="n">ht</span> <span class="o">=</span> <span class="n">prop</span><span class="p">[</span><span class="s1">&#39;maximum_roof_height&#39;</span><span class="p">]</span> <span class="o">*</span> <span class="n">scale_to_meters</span> \
                    <span class="k">if</span> <span class="s1">&#39;maximum_roof_height&#39;</span> <span class="ow">in</span> <span class="n">prop</span> <span class="k">else</span> <span class="mf">3.5</span>
                <span class="n">extru_vec</span> <span class="o">=</span> <span class="n">Vector3D</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">ht</span><span class="p">)</span>
                <span class="n">geo</span> <span class="o">=</span> <span class="p">[</span><span class="n">Face3D</span><span class="o">.</span><span class="n">from_extrusion</span><span class="p">(</span><span class="n">seg</span><span class="p">,</span> <span class="n">extru_vec</span><span class="p">)</span> <span class="k">for</span> <span class="n">face3d</span> <span class="ow">in</span> <span class="n">footprint</span>
                       <span class="k">for</span> <span class="n">seg</span> <span class="ow">in</span> <span class="n">face3d</span><span class="o">.</span><span class="n">boundary_segments</span><span class="p">]</span>
                <span class="n">shd_id</span> <span class="o">=</span> <span class="s1">&#39;Context_</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">if</span> <span class="s1">&#39;id&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">prop</span> <span class="k">else</span> <span class="n">prop</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">]</span>
                <span class="n">contexts</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ContextShade</span><span class="p">(</span><span class="n">shd_id</span><span class="p">,</span> <span class="n">geo</span><span class="p">))</span>
                <span class="k">continue</span>

            <span class="c1"># Define building heights from file or assign default single-storey building</span>
            <span class="k">if</span> <span class="s1">&#39;maximum_roof_height&#39;</span> <span class="ow">in</span> <span class="n">prop</span> <span class="ow">and</span> <span class="s1">&#39;number_of_stories&#39;</span> <span class="ow">in</span> <span class="n">prop</span><span class="p">:</span>
                <span class="n">story_height</span> <span class="o">=</span> <span class="p">(</span><span class="n">prop</span><span class="p">[</span><span class="s1">&#39;maximum_roof_height&#39;</span><span class="p">]</span> <span class="o">*</span> <span class="n">scale_to_meters</span><span class="p">)</span> \
                    <span class="o">/</span> <span class="n">prop</span><span class="p">[</span><span class="s1">&#39;number_of_stories&#39;</span><span class="p">]</span>
                <span class="n">story_heights</span> <span class="o">=</span> <span class="p">[</span><span class="n">story_height</span><span class="p">]</span> <span class="o">*</span> <span class="n">prop</span><span class="p">[</span><span class="s1">&#39;number_of_stories&#39;</span><span class="p">]</span>
            <span class="k">elif</span> <span class="s1">&#39;number_of_stories&#39;</span> <span class="ow">in</span> <span class="n">prop</span><span class="p">:</span>
                <span class="n">story_heights</span> <span class="o">=</span> <span class="p">[</span><span class="mf">3.5</span><span class="p">]</span> <span class="o">*</span> <span class="n">prop</span><span class="p">[</span><span class="s1">&#39;number_of_stories&#39;</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>  <span class="c1"># just import it as one story per building</span>
                <span class="n">story_heights</span> <span class="o">=</span> <span class="p">[</span><span class="mf">3.5</span><span class="p">]</span>

            <span class="c1"># make building object</span>
            <span class="n">bldg_id</span> <span class="o">=</span> <span class="s1">&#39;Building_</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">if</span> <span class="s1">&#39;id&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">prop</span> <span class="k">else</span> <span class="n">prop</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">]</span>
            <span class="n">bldg</span> <span class="o">=</span> <span class="n">Building</span><span class="o">.</span><span class="n">from_footprint</span><span class="p">(</span><span class="n">bldg_id</span><span class="p">,</span> <span class="n">footprint</span><span class="p">,</span> <span class="n">story_heights</span><span class="p">)</span>
            <span class="k">if</span> <span class="s1">&#39;name&#39;</span> <span class="ow">in</span> <span class="n">prop</span><span class="p">:</span>
                <span class="n">bldg</span><span class="o">.</span><span class="n">display_name</span> <span class="o">=</span> <span class="n">prop</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span>

            <span class="c1"># assign windows to the buildings</span>
            <span class="k">if</span> <span class="s1">&#39;window_to_wall_ratio&#39;</span> <span class="ow">in</span> <span class="n">prop</span><span class="p">:</span>
                <span class="n">win_par</span> <span class="o">=</span> <span class="n">SimpleWindowRatio</span><span class="p">(</span><span class="n">prop</span><span class="p">[</span><span class="s1">&#39;window_to_wall_ratio&#39;</span><span class="p">])</span>
                <span class="n">bldg</span><span class="o">.</span><span class="n">set_outdoor_window_parameters</span><span class="p">(</span><span class="n">win_par</span><span class="p">)</span>

            <span class="c1"># add any extension attributes and add the building to the list</span>
            <span class="n">bldg</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">apply_properties_from_geojson_dict</span><span class="p">(</span><span class="n">prop</span><span class="p">)</span>
            <span class="n">bldgs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">bldg</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">bldgs</span><span class="p">,</span> <span class="n">contexts</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_face3d_to_geojson_coordinates</span><span class="p">(</span><span class="n">face3d</span><span class="p">,</span> <span class="n">origin_lon_lat</span><span class="p">,</span> <span class="n">convert_facs</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Convert a horizontal Face3D to geoJSON coordinates.&quot;&quot;&quot;</span>
        <span class="n">coords</span> <span class="o">=</span> <span class="p">[</span><span class="n">polygon_to_lon_lat</span><span class="p">(</span>
            <span class="p">[(</span><span class="n">pt</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">pt</span><span class="o">.</span><span class="n">y</span><span class="p">)</span> <span class="k">for</span> <span class="n">pt</span> <span class="ow">in</span> <span class="n">face3d</span><span class="o">.</span><span class="n">boundary</span><span class="p">],</span> <span class="n">origin_lon_lat</span><span class="p">,</span> <span class="n">convert_facs</span><span class="p">)]</span>
        <span class="n">coords</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">coords</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span>
        <span class="k">if</span> <span class="n">face3d</span><span class="o">.</span><span class="n">has_holes</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">hole</span> <span class="ow">in</span> <span class="n">face3d</span><span class="o">.</span><span class="n">holes</span><span class="p">:</span>
                <span class="n">hole_verts</span> <span class="o">=</span> <span class="n">polygon_to_lon_lat</span><span class="p">(</span>
                    <span class="p">[(</span><span class="n">pt</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">pt</span><span class="o">.</span><span class="n">y</span><span class="p">)</span> <span class="k">for</span> <span class="n">pt</span> <span class="ow">in</span> <span class="n">hole</span><span class="p">],</span> <span class="n">origin_lon_lat</span><span class="p">,</span> <span class="n">convert_facs</span><span class="p">)</span>
                <span class="n">hole_verts</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">hole_verts</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
                <span class="n">coords</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">hole_verts</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">coords</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_geojson_coordinates_to_face3d</span><span class="p">(</span><span class="n">geojson_coordinates</span><span class="p">,</span> <span class="n">origin_lon_lat</span><span class="p">,</span>
                                       <span class="n">convert_facs</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Convert geoJSON coordinates to a horizontal Face3D with zero height.</span>

<span class="sd">        Args:</span>
<span class="sd">            geojson_coordinates: The coordinates from the geojson file. For &#39;Polygon&#39;</span>
<span class="sd">                geometries, this will be the list from the &#39;coordinates&#39; key in the</span>
<span class="sd">                geojson file, for &#39;MultiPolygon&#39; geometries, this will be each item</span>
<span class="sd">                in the list from the &#39;coordinates&#39; key.</span>
<span class="sd">            origin_lon_lat: An array of two numbers in degrees representing the</span>
<span class="sd">                longitude and latitude of the scene origin in degrees.</span>
<span class="sd">            convert_facs: A tuple with two values used to translate between</span>
<span class="sd">                longitude, latitude and meters.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A Face3D object in model space coordinates converted from the geojson</span>
<span class="sd">            coordinates. The height of the Face3D vertices will be 0.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">holes</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">coords</span> <span class="o">=</span> <span class="n">lon_lat_to_polygon</span><span class="p">(</span><span class="n">geojson_coordinates</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">origin_lon_lat</span><span class="p">,</span> <span class="n">convert_facs</span><span class="p">)</span>
        <span class="n">coords</span> <span class="o">=</span> <span class="p">[</span><span class="n">Point3D</span><span class="p">(</span><span class="n">pt2d</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">pt2d</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="mi">0</span><span class="p">)</span> <span class="k">for</span> <span class="n">pt2d</span> <span class="ow">in</span> <span class="n">coords</span><span class="p">][:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

        <span class="c1"># If there are more then 1 polygons, then the other polygons are holes.</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">geojson_coordinates</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">holes</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">hole_geojson_coordinates</span> <span class="ow">in</span> <span class="n">geojson_coordinates</span><span class="p">[</span><span class="mi">1</span><span class="p">:]:</span>
                <span class="n">hole_coords</span> <span class="o">=</span> <span class="n">lon_lat_to_polygon</span><span class="p">(</span>
                    <span class="n">hole_geojson_coordinates</span><span class="p">,</span> <span class="n">origin_lon_lat</span><span class="p">,</span> <span class="n">convert_facs</span><span class="p">)</span>
                <span class="n">hole_coords</span> <span class="o">=</span> <span class="p">[</span><span class="n">Point3D</span><span class="p">(</span><span class="n">pt2d</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">pt2d</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="mi">0</span><span class="p">)</span> <span class="k">for</span> <span class="n">pt2d</span> <span class="ow">in</span> <span class="n">hole_coords</span><span class="p">][:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                <span class="n">holes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">hole_coords</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">Face3D</span><span class="p">(</span><span class="n">coords</span><span class="p">,</span> <span class="n">plane</span><span class="o">=</span><span class="n">Plane</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="n">Vector3D</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)),</span> <span class="n">holes</span><span class="o">=</span><span class="n">holes</span><span class="p">)</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_bottom_left_coordinate_from_geojson</span><span class="p">(</span><span class="n">bldgs_data</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Calculate the bottom-left bounding box coordinate from geojson coordinates.</span>

<span class="sd">        Args:</span>
<span class="sd">            bldgs_data: a list of dictionaries containing geojson geometries that</span>
<span class="sd">                represent building footprints.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The bottom-left most corner of the bounding box around the coordinates.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">xs</span><span class="p">,</span> <span class="n">ys</span> <span class="o">=</span> <span class="p">[],</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">bldg</span> <span class="ow">in</span> <span class="n">bldgs_data</span><span class="p">:</span>
            <span class="n">bldg_coords</span> <span class="o">=</span> <span class="n">bldg</span><span class="p">[</span><span class="s1">&#39;geometry&#39;</span><span class="p">][</span><span class="s1">&#39;coordinates&#39;</span><span class="p">]</span>

            <span class="k">if</span> <span class="n">bldg</span><span class="p">[</span><span class="s1">&#39;geometry&#39;</span><span class="p">][</span><span class="s1">&#39;type&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;Polygon&#39;</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">bldg_footprint</span> <span class="ow">in</span> <span class="n">bldg_coords</span><span class="p">:</span>
                    <span class="n">xs</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span><span class="n">coords</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">coords</span> <span class="ow">in</span> <span class="n">bldg_footprint</span><span class="p">])</span>
                    <span class="n">ys</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span><span class="n">coords</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="k">for</span> <span class="n">coords</span> <span class="ow">in</span> <span class="n">bldg_footprint</span><span class="p">])</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">bldg_footprints</span> <span class="ow">in</span> <span class="n">bldg_coords</span><span class="p">:</span>
                    <span class="k">for</span> <span class="n">bldg_footprint</span> <span class="ow">in</span> <span class="n">bldg_footprints</span><span class="p">:</span>
                        <span class="n">xs</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span><span class="n">coords</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">coords</span> <span class="ow">in</span> <span class="n">bldg_footprint</span><span class="p">])</span>
                        <span class="n">ys</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span><span class="n">coords</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="k">for</span> <span class="n">coords</span> <span class="ow">in</span> <span class="n">bldg_footprint</span><span class="p">])</span>

        <span class="k">return</span> <span class="nb">min</span><span class="p">(</span><span class="n">xs</span><span class="p">),</span> <span class="nb">min</span><span class="p">(</span><span class="n">ys</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__add__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="n">new_model</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">duplicate</span><span class="p">()</span>
        <span class="n">new_model</span><span class="o">.</span><span class="n">add_model</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">new_model</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__iadd__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_model</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">__copy__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">new_model</span> <span class="o">=</span> <span class="n">Model</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">identifier</span><span class="p">,</span>
            <span class="p">[</span><span class="n">bldg</span><span class="o">.</span><span class="n">duplicate</span><span class="p">()</span> <span class="k">for</span> <span class="n">bldg</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_buildings</span><span class="p">],</span>
            <span class="p">[</span><span class="n">shade</span><span class="o">.</span><span class="n">duplicate</span><span class="p">()</span> <span class="k">for</span> <span class="n">shade</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_context_shades</span><span class="p">],</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">units</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">tolerance</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">angle_tolerance</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">reference_vector</span><span class="p">)</span>
        <span class="n">new_model</span><span class="o">.</span><span class="n">_display_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">display_name</span>
        <span class="n">new_model</span><span class="o">.</span><span class="n">_user_data</span> <span class="o">=</span> <span class="kc">None</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">user_data</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">user_data</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="n">new_model</span><span class="o">.</span><span class="n">_properties</span><span class="o">.</span><span class="n">_duplicate_extension_attr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_properties</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">new_model</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s1">&#39;Dragonfly Model: </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">display_name</span></div>

</pre></div>

    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2026, Ladybug Tools.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 8.0.2.<br/>
    </p>
  </div>
</footer>
  </body>
</html>