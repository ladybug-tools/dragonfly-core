<!DOCTYPE html>

<html lang="en" data-content_root="../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>dragonfly.roof &#8212; dragonfly-core  documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=8f2a1f02" />
    <link rel="stylesheet" type="text/css" href="../../_static/bootstrap-sphinx.css?v=0bf093e7" />
    <link rel="stylesheet" type="text/css" href="../../_static/custom.css?v=0b9525ea" />
    <script src="../../_static/documentation_options.js?v=5929fcd5"></script>
    <script src="../../_static/doctools.js?v=9a2dae69"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
<link rel="icon" type="image/x-icon" href="https://github.com/ladybug-tools/artwork/raw/refs/heads/master/icons_bugs/ico/dragonfly.ico">
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript" src="../../_static/js/jquery-1.11.0.min.js "></script>
<script type="text/javascript" src="../../_static/js/jquery-fix.js "></script>
<script type="text/javascript" src="../../_static/bootstrap-3.3.7/js/bootstrap.min.js "></script>
<script type="text/javascript" src="../../_static/bootstrap-sphinx.js "></script>

  </head><body>

  <div id="navbar" class="navbar navbar-inverse navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../../index.html">
          dragonfly-core</a>
        <span class="navbar-text navbar-version pull-left"><b></b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../../index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul>
<li class="toctree-l1"><a class="reference internal" href="../../cli/index.html">CLI Docs</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../cli/index.html#installation">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cli/index.html#commands">Commands</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../cli/translate.html">translate</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../cli/translate.html#dragonfly-translate">dragonfly translate</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../cli/translate.html#dragonfly-translate-merge-models-to-honeybee">merge-models-to-honeybee</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../cli/translate.html#dragonfly-translate-model-to-honeybee">model-to-honeybee</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../cli/translate.html#dragonfly-translate-model-to-honeybee-file">model-to-honeybee-file</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../cli/validate.html">validate</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../cli/validate.html#dragonfly-validate">dragonfly validate</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../cli/validate.html#dragonfly-validate-model">model</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../cli/validate.html#dragonfly-validate-room-collisions">room-collisions</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../cli/create.html">create</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../cli/create.html#dragonfly-create">dragonfly create</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../cli/create.html#dragonfly-create-from-geojson">from-geojson</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../cli/create.html#dragonfly-create-from-honeybee">from-honeybee</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../cli/create.html#dragonfly-create-merge-models">merge-models</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../cli/edit.html">edit</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../cli/edit.html#dragonfly-edit">dragonfly edit</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../cli/edit.html#dragonfly-edit-align">align</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../cli/edit.html#dragonfly-edit-convert-units">convert-units</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../cli/edit.html#dragonfly-edit-remove-short-segments">remove-short-segments</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../cli/edit.html#dragonfly-edit-reset-room-boundaries">reset-room-boundaries</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../cli/edit.html#dragonfly-edit-solve-adjacency">solve-adjacency</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../cli/edit.html#dragonfly-edit-windows-by-ratio">windows-by-ratio</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../modules.html">dragonfly</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../dragonfly.html">dragonfly package</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../dragonfly.html#subpackages">Subpackages</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../dragonfly.cli.html">dragonfly.cli package</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../dragonfly.cli.html#submodules">Submodules</a><ul>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.cli.create.html">dragonfly.cli.create module</a><ul>
<li class="toctree-l7"><a class="reference internal" href="../../dragonfly.cli.create.html#dragonfly.cli.create.from_geojson"><code class="docutils literal notranslate"><span class="pre">from_geojson()</span></code></a></li>
<li class="toctree-l7"><a class="reference internal" href="../../dragonfly.cli.create.html#dragonfly.cli.create.from_honeybee"><code class="docutils literal notranslate"><span class="pre">from_honeybee()</span></code></a></li>
<li class="toctree-l7"><a class="reference internal" href="../../dragonfly.cli.create.html#dragonfly.cli.create.merge_models"><code class="docutils literal notranslate"><span class="pre">merge_models()</span></code></a></li>
</ul>
</li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.cli.edit.html">dragonfly.cli.edit module</a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.cli.translate.html">dragonfly.cli.translate module</a><ul>
<li class="toctree-l7"><a class="reference internal" href="../../dragonfly.cli.translate.html#dragonfly.cli.translate.merge_models_to_honeybee"><code class="docutils literal notranslate"><span class="pre">merge_models_to_honeybee()</span></code></a></li>
<li class="toctree-l7"><a class="reference internal" href="../../dragonfly.cli.translate.html#dragonfly.cli.translate.model_to_honeybee"><code class="docutils literal notranslate"><span class="pre">model_to_honeybee()</span></code></a></li>
<li class="toctree-l7"><a class="reference internal" href="../../dragonfly.cli.translate.html#dragonfly.cli.translate.model_to_honeybee_file"><code class="docutils literal notranslate"><span class="pre">model_to_honeybee_file()</span></code></a></li>
</ul>
</li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.cli.validate.html">dragonfly.cli.validate module</a><ul>
<li class="toctree-l7"><a class="reference internal" href="../../dragonfly.cli.validate.html#dragonfly.cli.validate.validate_model"><code class="docutils literal notranslate"><span class="pre">validate_model()</span></code></a></li>
<li class="toctree-l7"><a class="reference internal" href="../../dragonfly.cli.validate.html#dragonfly.cli.validate.validate_room_collisions"><code class="docutils literal notranslate"><span class="pre">validate_room_collisions()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="../../dragonfly.cli.html#module-dragonfly.cli">Module contents</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../dragonfly.writer.html">dragonfly.writer package</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../dragonfly.writer.html#submodules">Submodules</a><ul>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.writer.building.html">dragonfly.writer.building module</a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.writer.context.html">dragonfly.writer.context module</a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.writer.model.html">dragonfly.writer.model module</a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.writer.room2d.html">dragonfly.writer.room2d module</a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.writer.story.html">dragonfly.writer.story module</a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="../../dragonfly.writer.html#module-dragonfly.writer">Module contents</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../dragonfly.html#submodules">Submodules</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../dragonfly.building.html">dragonfly.building module</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building"><code class="docutils literal notranslate"><span class="pre">Building</span></code></a><ul>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.ToString"><code class="docutils literal notranslate"><span class="pre">ToString()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.add_prefix"><code class="docutils literal notranslate"><span class="pre">add_prefix()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.add_roof_geometry"><code class="docutils literal notranslate"><span class="pre">add_roof_geometry()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.add_room_3ds"><code class="docutils literal notranslate"><span class="pre">add_room_3ds()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.add_stories"><code class="docutils literal notranslate"><span class="pre">add_stories()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.all_room_2ds"><code class="docutils literal notranslate"><span class="pre">all_room_2ds()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.all_stories"><code class="docutils literal notranslate"><span class="pre">all_stories()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.automatically_zone"><code class="docutils literal notranslate"><span class="pre">automatically_zone()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.buildings_to_honeybee"><code class="docutils literal notranslate"><span class="pre">buildings_to_honeybee()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.check_collisions_between_stories"><code class="docutils literal notranslate"><span class="pre">check_collisions_between_stories()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.convert_all_room_3ds_to_2d"><code class="docutils literal notranslate"><span class="pre">convert_all_room_3ds_to_2d()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.convert_multipliers_to_stories"><code class="docutils literal notranslate"><span class="pre">convert_multipliers_to_stories()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.convert_plenum_depths_to_room_2ds"><code class="docutils literal notranslate"><span class="pre">convert_plenum_depths_to_room_2ds()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.convert_room_3d_to_2d"><code class="docutils literal notranslate"><span class="pre">convert_room_3d_to_2d()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.convert_room_3ds_to_2d"><code class="docutils literal notranslate"><span class="pre">convert_room_3ds_to_2d()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.district_to_honeybee"><code class="docutils literal notranslate"><span class="pre">district_to_honeybee()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.duplicate"><code class="docutils literal notranslate"><span class="pre">duplicate()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.find_adjacency_gaps"><code class="docutils literal notranslate"><span class="pre">find_adjacency_gaps()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.footprint"><code class="docutils literal notranslate"><span class="pre">footprint()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.from_all_story_geometry"><code class="docutils literal notranslate"><span class="pre">from_all_story_geometry()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.from_dict"><code class="docutils literal notranslate"><span class="pre">from_dict()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.from_footprint"><code class="docutils literal notranslate"><span class="pre">from_footprint()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.from_honeybee"><code class="docutils literal notranslate"><span class="pre">from_honeybee()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.has_floors_ceilings"><code class="docutils literal notranslate"><span class="pre">has_floors_ceilings()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.make_basement_stories"><code class="docutils literal notranslate"><span class="pre">make_basement_stories()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.match_and_replace_room_2d_floor_geometry"><code class="docutils literal notranslate"><span class="pre">match_and_replace_room_2d_floor_geometry()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.move"><code class="docutils literal notranslate"><span class="pre">move()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.process_alleys"><code class="docutils literal notranslate"><span class="pre">process_alleys()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.reflect"><code class="docutils literal notranslate"><span class="pre">reflect()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.remove_duplicate_roofs"><code class="docutils literal notranslate"><span class="pre">remove_duplicate_roofs()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.remove_stories_by_identifier"><code class="docutils literal notranslate"><span class="pre">remove_stories_by_identifier()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.room_2ds_by_display_name"><code class="docutils literal notranslate"><span class="pre">room_2ds_by_display_name()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.room_3ds_by_display_name"><code class="docutils literal notranslate"><span class="pre">room_3ds_by_display_name()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.room_3ds_by_story"><code class="docutils literal notranslate"><span class="pre">room_3ds_by_story()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.rotate_xy"><code class="docutils literal notranslate"><span class="pre">rotate_xy()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.scale"><code class="docutils literal notranslate"><span class="pre">scale()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.separate_mid_floors"><code class="docutils literal notranslate"><span class="pre">separate_mid_floors()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.separate_room_2d_plenums"><code class="docutils literal notranslate"><span class="pre">separate_room_2d_plenums()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.separate_top_bottom_floors"><code class="docutils literal notranslate"><span class="pre">separate_top_bottom_floors()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.set_outdoor_shading_parameters"><code class="docutils literal notranslate"><span class="pre">set_outdoor_shading_parameters()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.set_outdoor_window_parameters"><code class="docutils literal notranslate"><span class="pre">set_outdoor_window_parameters()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.shade_representation"><code class="docutils literal notranslate"><span class="pre">shade_representation()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.sort_stories"><code class="docutils literal notranslate"><span class="pre">sort_stories()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.split_room_2d_vertically"><code class="docutils literal notranslate"><span class="pre">split_room_2d_vertically()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.stories_by_display_name"><code class="docutils literal notranslate"><span class="pre">stories_by_display_name()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.stories_by_identifier"><code class="docutils literal notranslate"><span class="pre">stories_by_identifier()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.stories_to_honeybee"><code class="docutils literal notranslate"><span class="pre">stories_to_honeybee()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.suggested_alignment_axes"><code class="docutils literal notranslate"><span class="pre">suggested_alignment_axes()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.to_dict"><code class="docutils literal notranslate"><span class="pre">to_dict()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.to_honeybee"><code class="docutils literal notranslate"><span class="pre">to_honeybee()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.to_rectangular_windows"><code class="docutils literal notranslate"><span class="pre">to_rectangular_windows()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.display_name"><code class="docutils literal notranslate"><span class="pre">display_name</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.exterior_aperture_area"><code class="docutils literal notranslate"><span class="pre">exterior_aperture_area</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.exterior_wall_area"><code class="docutils literal notranslate"><span class="pre">exterior_wall_area</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.floor_area"><code class="docutils literal notranslate"><span class="pre">floor_area</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.footprint_area"><code class="docutils literal notranslate"><span class="pre">footprint_area</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.full_id"><code class="docutils literal notranslate"><span class="pre">full_id</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.has_room_2d_plenums"><code class="docutils literal notranslate"><span class="pre">has_room_2d_plenums</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.has_room_2ds"><code class="docutils literal notranslate"><span class="pre">has_room_2ds</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.has_room_3ds"><code class="docutils literal notranslate"><span class="pre">has_room_3ds</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.has_zones"><code class="docutils literal notranslate"><span class="pre">has_zones</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.height"><code class="docutils literal notranslate"><span class="pre">height</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.height_above_ground"><code class="docutils literal notranslate"><span class="pre">height_above_ground</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.height_from_first_floor"><code class="docutils literal notranslate"><span class="pre">height_from_first_floor</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.identifier"><code class="docutils literal notranslate"><span class="pre">identifier</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.max"><code class="docutils literal notranslate"><span class="pre">max</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.min"><code class="docutils literal notranslate"><span class="pre">min</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.properties"><code class="docutils literal notranslate"><span class="pre">properties</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.room_2d_story_names"><code class="docutils literal notranslate"><span class="pre">room_2d_story_names</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.room_3d_apertures"><code class="docutils literal notranslate"><span class="pre">room_3d_apertures</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.room_3d_doors"><code class="docutils literal notranslate"><span class="pre">room_3d_doors</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.room_3d_faces"><code class="docutils literal notranslate"><span class="pre">room_3d_faces</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.room_3d_shades"><code class="docutils literal notranslate"><span class="pre">room_3d_shades</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.room_3d_story_names"><code class="docutils literal notranslate"><span class="pre">room_3d_story_names</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.room_3ds"><code class="docutils literal notranslate"><span class="pre">room_3ds</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.story_count"><code class="docutils literal notranslate"><span class="pre">story_count</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.story_count_above_ground"><code class="docutils literal notranslate"><span class="pre">story_count_above_ground</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.sub_face_area"><code class="docutils literal notranslate"><span class="pre">sub_face_area</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.to"><code class="docutils literal notranslate"><span class="pre">to</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.unique_room_2ds"><code class="docutils literal notranslate"><span class="pre">unique_room_2ds</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.unique_stories"><code class="docutils literal notranslate"><span class="pre">unique_stories</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.unique_stories_above_ground"><code class="docutils literal notranslate"><span class="pre">unique_stories_above_ground</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.user_data"><code class="docutils literal notranslate"><span class="pre">user_data</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.volume"><code class="docutils literal notranslate"><span class="pre">volume</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.building.html#dragonfly.building.Building.zone_dict"><code class="docutils literal notranslate"><span class="pre">zone_dict</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../dragonfly.colorobj.html">dragonfly.colorobj module</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../dragonfly.colorobj.html#dragonfly.colorobj.ColorRoom2D"><code class="docutils literal notranslate"><span class="pre">ColorRoom2D</span></code></a><ul>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.colorobj.html#dragonfly.colorobj.ColorRoom2D.ToString"><code class="docutils literal notranslate"><span class="pre">ToString()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.colorobj.html#dragonfly.colorobj.ColorRoom2D.attr_name"><code class="docutils literal notranslate"><span class="pre">attr_name</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.colorobj.html#dragonfly.colorobj.ColorRoom2D.attr_name_end"><code class="docutils literal notranslate"><span class="pre">attr_name_end</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.colorobj.html#dragonfly.colorobj.ColorRoom2D.attributes"><code class="docutils literal notranslate"><span class="pre">attributes</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.colorobj.html#dragonfly.colorobj.ColorRoom2D.attributes_original"><code class="docutils literal notranslate"><span class="pre">attributes_original</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.colorobj.html#dragonfly.colorobj.ColorRoom2D.attributes_unique"><code class="docutils literal notranslate"><span class="pre">attributes_unique</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.colorobj.html#dragonfly.colorobj.ColorRoom2D.floor_faces"><code class="docutils literal notranslate"><span class="pre">floor_faces</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.colorobj.html#dragonfly.colorobj.ColorRoom2D.graphic_container"><code class="docutils literal notranslate"><span class="pre">graphic_container</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.colorobj.html#dragonfly.colorobj.ColorRoom2D.legend_parameters"><code class="docutils literal notranslate"><span class="pre">legend_parameters</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.colorobj.html#dragonfly.colorobj.ColorRoom2D.max_point"><code class="docutils literal notranslate"><span class="pre">max_point</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.colorobj.html#dragonfly.colorobj.ColorRoom2D.min_point"><code class="docutils literal notranslate"><span class="pre">min_point</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.colorobj.html#dragonfly.colorobj.ColorRoom2D.room_2ds"><code class="docutils literal notranslate"><span class="pre">room_2ds</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../dragonfly.config.html">dragonfly.config module</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../dragonfly.config.html#dragonfly.config.Folders"><code class="docutils literal notranslate"><span class="pre">Folders</span></code></a><ul>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.config.html#dragonfly.config.Folders.dragonfly_core_version"><code class="docutils literal notranslate"><span class="pre">dragonfly_core_version</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.config.html#dragonfly.config.Folders.dragonfly_core_version_str"><code class="docutils literal notranslate"><span class="pre">dragonfly_core_version_str</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.config.html#dragonfly.config.Folders.dragonfly_schema_version"><code class="docutils literal notranslate"><span class="pre">dragonfly_schema_version</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.config.html#dragonfly.config.Folders.dragonfly_schema_version_str"><code class="docutils literal notranslate"><span class="pre">dragonfly_schema_version_str</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.config.html#dragonfly.config.Folders.python_package_path"><code class="docutils literal notranslate"><span class="pre">python_package_path</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../dragonfly.context.html">dragonfly.context module</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../dragonfly.context.html#dragonfly.context.ContextShade"><code class="docutils literal notranslate"><span class="pre">ContextShade</span></code></a><ul>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.context.html#dragonfly.context.ContextShade.ToString"><code class="docutils literal notranslate"><span class="pre">ToString()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.context.html#dragonfly.context.ContextShade.add_prefix"><code class="docutils literal notranslate"><span class="pre">add_prefix()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.context.html#dragonfly.context.ContextShade.align"><code class="docutils literal notranslate"><span class="pre">align()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.context.html#dragonfly.context.ContextShade.apply_vertex_map"><code class="docutils literal notranslate"><span class="pre">apply_vertex_map()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.context.html#dragonfly.context.ContextShade.duplicate"><code class="docutils literal notranslate"><span class="pre">duplicate()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.context.html#dragonfly.context.ContextShade.from_dict"><code class="docutils literal notranslate"><span class="pre">from_dict()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.context.html#dragonfly.context.ContextShade.from_honeybee"><code class="docutils literal notranslate"><span class="pre">from_honeybee()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.context.html#dragonfly.context.ContextShade.is_conforming"><code class="docutils literal notranslate"><span class="pre">is_conforming()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.context.html#dragonfly.context.ContextShade.move"><code class="docutils literal notranslate"><span class="pre">move()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.context.html#dragonfly.context.ContextShade.reflect"><code class="docutils literal notranslate"><span class="pre">reflect()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.context.html#dragonfly.context.ContextShade.rotate_xy"><code class="docutils literal notranslate"><span class="pre">rotate_xy()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.context.html#dragonfly.context.ContextShade.scale"><code class="docutils literal notranslate"><span class="pre">scale()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.context.html#dragonfly.context.ContextShade.snap_to_grid"><code class="docutils literal notranslate"><span class="pre">snap_to_grid()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.context.html#dragonfly.context.ContextShade.to_dict"><code class="docutils literal notranslate"><span class="pre">to_dict()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.context.html#dragonfly.context.ContextShade.to_honeybee"><code class="docutils literal notranslate"><span class="pre">to_honeybee()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.context.html#dragonfly.context.ContextShade.unconforming_vertex_map"><code class="docutils literal notranslate"><span class="pre">unconforming_vertex_map()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.context.html#dragonfly.context.ContextShade.area"><code class="docutils literal notranslate"><span class="pre">area</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.context.html#dragonfly.context.ContextShade.display_name"><code class="docutils literal notranslate"><span class="pre">display_name</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.context.html#dragonfly.context.ContextShade.full_id"><code class="docutils literal notranslate"><span class="pre">full_id</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.context.html#dragonfly.context.ContextShade.geometry"><code class="docutils literal notranslate"><span class="pre">geometry</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.context.html#dragonfly.context.ContextShade.identifier"><code class="docutils literal notranslate"><span class="pre">identifier</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.context.html#dragonfly.context.ContextShade.is_detached"><code class="docutils literal notranslate"><span class="pre">is_detached</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.context.html#dragonfly.context.ContextShade.max"><code class="docutils literal notranslate"><span class="pre">max</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.context.html#dragonfly.context.ContextShade.min"><code class="docutils literal notranslate"><span class="pre">min</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.context.html#dragonfly.context.ContextShade.properties"><code class="docutils literal notranslate"><span class="pre">properties</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.context.html#dragonfly.context.ContextShade.to"><code class="docutils literal notranslate"><span class="pre">to</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.context.html#dragonfly.context.ContextShade.user_data"><code class="docutils literal notranslate"><span class="pre">user_data</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../dragonfly.dictutil.html">dragonfly.dictutil module</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../dragonfly.dictutil.html#dragonfly.dictutil.dict_to_object"><code class="docutils literal notranslate"><span class="pre">dict_to_object()</span></code></a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../dragonfly.extensionutil.html">dragonfly.extensionutil module</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../dragonfly.extensionutil.html#dragonfly.extensionutil.building_extension_dicts"><code class="docutils literal notranslate"><span class="pre">building_extension_dicts()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../dragonfly.extensionutil.html#dragonfly.extensionutil.context_shade_extension_dicts"><code class="docutils literal notranslate"><span class="pre">context_shade_extension_dicts()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../dragonfly.extensionutil.html#dragonfly.extensionutil.model_extension_dicts"><code class="docutils literal notranslate"><span class="pre">model_extension_dicts()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../dragonfly.extensionutil.html#dragonfly.extensionutil.room2d_extension_dicts"><code class="docutils literal notranslate"><span class="pre">room2d_extension_dicts()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../dragonfly.extensionutil.html#dragonfly.extensionutil.story_extension_dicts"><code class="docutils literal notranslate"><span class="pre">story_extension_dicts()</span></code></a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../dragonfly.model.html">dragonfly.model module</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model"><code class="docutils literal notranslate"><span class="pre">Model</span></code></a><ul>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.ToString"><code class="docutils literal notranslate"><span class="pre">ToString()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.add_building"><code class="docutils literal notranslate"><span class="pre">add_building()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.add_context_shade"><code class="docutils literal notranslate"><span class="pre">add_context_shade()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.add_model"><code class="docutils literal notranslate"><span class="pre">add_model()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.add_prefix"><code class="docutils literal notranslate"><span class="pre">add_prefix()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.buildings_by_identifier"><code class="docutils literal notranslate"><span class="pre">buildings_by_identifier()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.check_all"><code class="docutils literal notranslate"><span class="pre">check_all()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.check_all_duplicate_identifiers"><code class="docutils literal notranslate"><span class="pre">check_all_duplicate_identifiers()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.check_all_room3d"><code class="docutils literal notranslate"><span class="pre">check_all_room3d()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.check_all_room_collisions"><code class="docutils literal notranslate"><span class="pre">check_all_room_collisions()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.check_collisions_between_stories"><code class="docutils literal notranslate"><span class="pre">check_collisions_between_stories()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.check_degenerate_room_2ds"><code class="docutils literal notranslate"><span class="pre">check_degenerate_room_2ds()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.check_duplicate_building_identifiers"><code class="docutils literal notranslate"><span class="pre">check_duplicate_building_identifiers()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.check_duplicate_context_shade_identifiers"><code class="docutils literal notranslate"><span class="pre">check_duplicate_context_shade_identifiers()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.check_duplicate_room_2d_identifiers"><code class="docutils literal notranslate"><span class="pre">check_duplicate_room_2d_identifiers()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.check_duplicate_story_identifiers"><code class="docutils literal notranslate"><span class="pre">check_duplicate_story_identifiers()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.check_for_error"><code class="docutils literal notranslate"><span class="pre">check_for_error()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.check_for_extension"><code class="docutils literal notranslate"><span class="pre">check_for_extension()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.check_missing_adjacencies"><code class="docutils literal notranslate"><span class="pre">check_missing_adjacencies()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.check_no_roof_overlaps"><code class="docutils literal notranslate"><span class="pre">check_no_roof_overlaps()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.check_no_room2d_overlaps"><code class="docutils literal notranslate"><span class="pre">check_no_room2d_overlaps()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.check_plenum_depths"><code class="docutils literal notranslate"><span class="pre">check_plenum_depths()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.check_roofs_above_rooms"><code class="docutils literal notranslate"><span class="pre">check_roofs_above_rooms()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.check_room2d_floor_heights_valid"><code class="docutils literal notranslate"><span class="pre">check_room2d_floor_heights_valid()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.check_self_intersecting_room_2ds"><code class="docutils literal notranslate"><span class="pre">check_self_intersecting_room_2ds()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.check_window_parameters_valid"><code class="docutils literal notranslate"><span class="pre">check_window_parameters_valid()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.clean_irrational_geometry"><code class="docutils literal notranslate"><span class="pre">clean_irrational_geometry()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.context_shade_by_identifier"><code class="docutils literal notranslate"><span class="pre">context_shade_by_identifier()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.convert_to_units"><code class="docutils literal notranslate"><span class="pre">convert_to_units()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.duplicate"><code class="docutils literal notranslate"><span class="pre">duplicate()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.from_dfjson"><code class="docutils literal notranslate"><span class="pre">from_dfjson()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.from_dfpkl"><code class="docutils literal notranslate"><span class="pre">from_dfpkl()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.from_dict"><code class="docutils literal notranslate"><span class="pre">from_dict()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.from_file"><code class="docutils literal notranslate"><span class="pre">from_file()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.from_geojson"><code class="docutils literal notranslate"><span class="pre">from_geojson()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.from_honeybee"><code class="docutils literal notranslate"><span class="pre">from_honeybee()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.from_pomf"><code class="docutils literal notranslate"><span class="pre">from_pomf()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.lines_from_pomf"><code class="docutils literal notranslate"><span class="pre">lines_from_pomf()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.model_dict_room_2d_subset"><code class="docutils literal notranslate"><span class="pre">model_dict_room_2d_subset()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.model_dict_subset"><code class="docutils literal notranslate"><span class="pre">model_dict_subset()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.move"><code class="docutils literal notranslate"><span class="pre">move()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.reflect"><code class="docutils literal notranslate"><span class="pre">reflect()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.remove_duplicate_roofs"><code class="docutils literal notranslate"><span class="pre">remove_duplicate_roofs()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.reset_coordinate_system"><code class="docutils literal notranslate"><span class="pre">reset_coordinate_system()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.reset_ids"><code class="docutils literal notranslate"><span class="pre">reset_ids()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.resolve_id_collisions"><code class="docutils literal notranslate"><span class="pre">resolve_id_collisions()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.room_2ds_by_identifier"><code class="docutils literal notranslate"><span class="pre">room_2ds_by_identifier()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.room_3ds_by_identifier"><code class="docutils literal notranslate"><span class="pre">room_3ds_by_identifier()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.rotate_xy"><code class="docutils literal notranslate"><span class="pre">rotate_xy()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.scale"><code class="docutils literal notranslate"><span class="pre">scale()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.separate_top_bottom_floors"><code class="docutils literal notranslate"><span class="pre">separate_top_bottom_floors()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.set_outdoor_shading_parameters"><code class="docutils literal notranslate"><span class="pre">set_outdoor_shading_parameters()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.set_outdoor_window_parameters"><code class="docutils literal notranslate"><span class="pre">set_outdoor_window_parameters()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.stories_by_identifier"><code class="docutils literal notranslate"><span class="pre">stories_by_identifier()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.to_dfjson"><code class="docutils literal notranslate"><span class="pre">to_dfjson()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.to_dfpkl"><code class="docutils literal notranslate"><span class="pre">to_dfpkl()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.to_dict"><code class="docutils literal notranslate"><span class="pre">to_dict()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.to_geojson"><code class="docutils literal notranslate"><span class="pre">to_geojson()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.to_geojson_dict"><code class="docutils literal notranslate"><span class="pre">to_geojson_dict()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.to_honeybee"><code class="docutils literal notranslate"><span class="pre">to_honeybee()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.to_rectangular_windows"><code class="docutils literal notranslate"><span class="pre">to_rectangular_windows()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.validate"><code class="docutils literal notranslate"><span class="pre">validate()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.ERROR_MAP"><code class="docutils literal notranslate"><span class="pre">ERROR_MAP</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.angle_tolerance"><code class="docutils literal notranslate"><span class="pre">angle_tolerance</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.average_height"><code class="docutils literal notranslate"><span class="pre">average_height</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.average_height_above_ground"><code class="docutils literal notranslate"><span class="pre">average_height_above_ground</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.average_story_count"><code class="docutils literal notranslate"><span class="pre">average_story_count</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.average_story_count_above_ground"><code class="docutils literal notranslate"><span class="pre">average_story_count_above_ground</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.buildings"><code class="docutils literal notranslate"><span class="pre">buildings</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.context_shades"><code class="docutils literal notranslate"><span class="pre">context_shades</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.display_name"><code class="docutils literal notranslate"><span class="pre">display_name</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.exterior_aperture_area"><code class="docutils literal notranslate"><span class="pre">exterior_aperture_area</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.exterior_wall_area"><code class="docutils literal notranslate"><span class="pre">exterior_wall_area</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.floor_area"><code class="docutils literal notranslate"><span class="pre">floor_area</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.footprint_area"><code class="docutils literal notranslate"><span class="pre">footprint_area</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.full_id"><code class="docutils literal notranslate"><span class="pre">full_id</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.identifier"><code class="docutils literal notranslate"><span class="pre">identifier</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.max"><code class="docutils literal notranslate"><span class="pre">max</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.min"><code class="docutils literal notranslate"><span class="pre">min</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.properties"><code class="docutils literal notranslate"><span class="pre">properties</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.reference_vector"><code class="docutils literal notranslate"><span class="pre">reference_vector</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.room_2ds"><code class="docutils literal notranslate"><span class="pre">room_2ds</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.room_3ds"><code class="docutils literal notranslate"><span class="pre">room_3ds</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.stories"><code class="docutils literal notranslate"><span class="pre">stories</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.sub_face_area"><code class="docutils literal notranslate"><span class="pre">sub_face_area</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.to"><code class="docutils literal notranslate"><span class="pre">to</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.tolerance"><code class="docutils literal notranslate"><span class="pre">tolerance</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.units"><code class="docutils literal notranslate"><span class="pre">units</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.user_data"><code class="docutils literal notranslate"><span class="pre">user_data</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.model.html#dragonfly.model.Model.volume"><code class="docutils literal notranslate"><span class="pre">volume</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../dragonfly.projection.html">dragonfly.projection module</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../dragonfly.projection.html#dragonfly.projection.lon_lat_to_polygon"><code class="docutils literal notranslate"><span class="pre">lon_lat_to_polygon()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../dragonfly.projection.html#dragonfly.projection.meters_to_long_lat_factors"><code class="docutils literal notranslate"><span class="pre">meters_to_long_lat_factors()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../dragonfly.projection.html#dragonfly.projection.origin_long_lat_from_location"><code class="docutils literal notranslate"><span class="pre">origin_long_lat_from_location()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../dragonfly.projection.html#dragonfly.projection.polygon_to_lon_lat"><code class="docutils literal notranslate"><span class="pre">polygon_to_lon_lat()</span></code></a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../dragonfly.properties.html">dragonfly.properties module</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../dragonfly.properties.html#dragonfly.properties.BuildingProperties"><code class="docutils literal notranslate"><span class="pre">BuildingProperties</span></code></a><ul>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.properties.html#dragonfly.properties.BuildingProperties.ToString"><code class="docutils literal notranslate"><span class="pre">ToString()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.properties.html#dragonfly.properties.BuildingProperties.add_prefix"><code class="docutils literal notranslate"><span class="pre">add_prefix()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.properties.html#dragonfly.properties.BuildingProperties.apply_ceiling_plenum_face_properties"><code class="docutils literal notranslate"><span class="pre">apply_ceiling_plenum_face_properties()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.properties.html#dragonfly.properties.BuildingProperties.apply_floor_plenum_face_properties"><code class="docutils literal notranslate"><span class="pre">apply_floor_plenum_face_properties()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.properties.html#dragonfly.properties.BuildingProperties.apply_properties_from_geojson_dict"><code class="docutils literal notranslate"><span class="pre">apply_properties_from_geojson_dict()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.properties.html#dragonfly.properties.BuildingProperties.make_plenums"><code class="docutils literal notranslate"><span class="pre">make_plenums()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.properties.html#dragonfly.properties.BuildingProperties.move"><code class="docutils literal notranslate"><span class="pre">move()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.properties.html#dragonfly.properties.BuildingProperties.reflect"><code class="docutils literal notranslate"><span class="pre">reflect()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.properties.html#dragonfly.properties.BuildingProperties.rotate_xy"><code class="docutils literal notranslate"><span class="pre">rotate_xy()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.properties.html#dragonfly.properties.BuildingProperties.scale"><code class="docutils literal notranslate"><span class="pre">scale()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.properties.html#dragonfly.properties.BuildingProperties.to_dict"><code class="docutils literal notranslate"><span class="pre">to_dict()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.properties.html#dragonfly.properties.BuildingProperties.host"><code class="docutils literal notranslate"><span class="pre">host</span></code></a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="../../dragonfly.properties.html#dragonfly.properties.ContextShadeProperties"><code class="docutils literal notranslate"><span class="pre">ContextShadeProperties</span></code></a><ul>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.properties.html#dragonfly.properties.ContextShadeProperties.ToString"><code class="docutils literal notranslate"><span class="pre">ToString()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.properties.html#dragonfly.properties.ContextShadeProperties.add_prefix"><code class="docutils literal notranslate"><span class="pre">add_prefix()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.properties.html#dragonfly.properties.ContextShadeProperties.from_honeybee"><code class="docutils literal notranslate"><span class="pre">from_honeybee()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.properties.html#dragonfly.properties.ContextShadeProperties.move"><code class="docutils literal notranslate"><span class="pre">move()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.properties.html#dragonfly.properties.ContextShadeProperties.reflect"><code class="docutils literal notranslate"><span class="pre">reflect()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.properties.html#dragonfly.properties.ContextShadeProperties.rotate_xy"><code class="docutils literal notranslate"><span class="pre">rotate_xy()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.properties.html#dragonfly.properties.ContextShadeProperties.scale"><code class="docutils literal notranslate"><span class="pre">scale()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.properties.html#dragonfly.properties.ContextShadeProperties.to_dict"><code class="docutils literal notranslate"><span class="pre">to_dict()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.properties.html#dragonfly.properties.ContextShadeProperties.to_honeybee"><code class="docutils literal notranslate"><span class="pre">to_honeybee()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.properties.html#dragonfly.properties.ContextShadeProperties.host"><code class="docutils literal notranslate"><span class="pre">host</span></code></a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="../../dragonfly.properties.html#dragonfly.properties.ModelProperties"><code class="docutils literal notranslate"><span class="pre">ModelProperties</span></code></a><ul>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.properties.html#dragonfly.properties.ModelProperties.ToString"><code class="docutils literal notranslate"><span class="pre">ToString()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.properties.html#dragonfly.properties.ModelProperties.apply_properties_from_dict"><code class="docutils literal notranslate"><span class="pre">apply_properties_from_dict()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.properties.html#dragonfly.properties.ModelProperties.move"><code class="docutils literal notranslate"><span class="pre">move()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.properties.html#dragonfly.properties.ModelProperties.reflect"><code class="docutils literal notranslate"><span class="pre">reflect()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.properties.html#dragonfly.properties.ModelProperties.rotate_xy"><code class="docutils literal notranslate"><span class="pre">rotate_xy()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.properties.html#dragonfly.properties.ModelProperties.scale"><code class="docutils literal notranslate"><span class="pre">scale()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.properties.html#dragonfly.properties.ModelProperties.to_dict"><code class="docutils literal notranslate"><span class="pre">to_dict()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.properties.html#dragonfly.properties.ModelProperties.to_honeybee"><code class="docutils literal notranslate"><span class="pre">to_honeybee()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.properties.html#dragonfly.properties.ModelProperties.host"><code class="docutils literal notranslate"><span class="pre">host</span></code></a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="../../dragonfly.properties.html#dragonfly.properties.Room2DProperties"><code class="docutils literal notranslate"><span class="pre">Room2DProperties</span></code></a><ul>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.properties.html#dragonfly.properties.Room2DProperties.ToString"><code class="docutils literal notranslate"><span class="pre">ToString()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.properties.html#dragonfly.properties.Room2DProperties.add_prefix"><code class="docutils literal notranslate"><span class="pre">add_prefix()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.properties.html#dragonfly.properties.Room2DProperties.from_honeybee"><code class="docutils literal notranslate"><span class="pre">from_honeybee()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.properties.html#dragonfly.properties.Room2DProperties.move"><code class="docutils literal notranslate"><span class="pre">move()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.properties.html#dragonfly.properties.Room2DProperties.reflect"><code class="docutils literal notranslate"><span class="pre">reflect()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.properties.html#dragonfly.properties.Room2DProperties.rotate_xy"><code class="docutils literal notranslate"><span class="pre">rotate_xy()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.properties.html#dragonfly.properties.Room2DProperties.scale"><code class="docutils literal notranslate"><span class="pre">scale()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.properties.html#dragonfly.properties.Room2DProperties.to_dict"><code class="docutils literal notranslate"><span class="pre">to_dict()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.properties.html#dragonfly.properties.Room2DProperties.to_honeybee"><code class="docutils literal notranslate"><span class="pre">to_honeybee()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.properties.html#dragonfly.properties.Room2DProperties.host"><code class="docutils literal notranslate"><span class="pre">host</span></code></a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="../../dragonfly.properties.html#dragonfly.properties.StoryProperties"><code class="docutils literal notranslate"><span class="pre">StoryProperties</span></code></a><ul>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.properties.html#dragonfly.properties.StoryProperties.ToString"><code class="docutils literal notranslate"><span class="pre">ToString()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.properties.html#dragonfly.properties.StoryProperties.add_prefix"><code class="docutils literal notranslate"><span class="pre">add_prefix()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.properties.html#dragonfly.properties.StoryProperties.move"><code class="docutils literal notranslate"><span class="pre">move()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.properties.html#dragonfly.properties.StoryProperties.reflect"><code class="docutils literal notranslate"><span class="pre">reflect()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.properties.html#dragonfly.properties.StoryProperties.rotate_xy"><code class="docutils literal notranslate"><span class="pre">rotate_xy()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.properties.html#dragonfly.properties.StoryProperties.scale"><code class="docutils literal notranslate"><span class="pre">scale()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.properties.html#dragonfly.properties.StoryProperties.to_dict"><code class="docutils literal notranslate"><span class="pre">to_dict()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.properties.html#dragonfly.properties.StoryProperties.host"><code class="docutils literal notranslate"><span class="pre">host</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../dragonfly.roof.html">dragonfly.roof module</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../dragonfly.roof.html#dragonfly.roof.RoofSpecification"><code class="docutils literal notranslate"><span class="pre">RoofSpecification</span></code></a><ul>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.roof.html#dragonfly.roof.RoofSpecification.ToString"><code class="docutils literal notranslate"><span class="pre">ToString()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.roof.html#dragonfly.roof.RoofSpecification.align"><code class="docutils literal notranslate"><span class="pre">align()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.roof.html#dragonfly.roof.RoofSpecification.check_roof_above_rooms"><code class="docutils literal notranslate"><span class="pre">check_roof_above_rooms()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.roof.html#dragonfly.roof.RoofSpecification.duplicate"><code class="docutils literal notranslate"><span class="pre">duplicate()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.roof.html#dragonfly.roof.RoofSpecification.find_gaps"><code class="docutils literal notranslate"><span class="pre">find_gaps()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.roof.html#dragonfly.roof.RoofSpecification.from_dict"><code class="docutils literal notranslate"><span class="pre">from_dict()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.roof.html#dragonfly.roof.RoofSpecification.from_geometry_to_join"><code class="docutils literal notranslate"><span class="pre">from_geometry_to_join()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.roof.html#dragonfly.roof.RoofSpecification.join_geometries"><code class="docutils literal notranslate"><span class="pre">join_geometries()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.roof.html#dragonfly.roof.RoofSpecification.move"><code class="docutils literal notranslate"><span class="pre">move()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.roof.html#dragonfly.roof.RoofSpecification.overlap_count"><code class="docutils literal notranslate"><span class="pre">overlap_count()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.roof.html#dragonfly.roof.RoofSpecification.pull_to_segments"><code class="docutils literal notranslate"><span class="pre">pull_to_segments()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.roof.html#dragonfly.roof.RoofSpecification.reflect"><code class="docutils literal notranslate"><span class="pre">reflect()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.roof.html#dragonfly.roof.RoofSpecification.remove_small_holes"><code class="docutils literal notranslate"><span class="pre">remove_small_holes()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.roof.html#dragonfly.roof.RoofSpecification.resolved_geometry"><code class="docutils literal notranslate"><span class="pre">resolved_geometry()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.roof.html#dragonfly.roof.RoofSpecification.rotate_xy"><code class="docutils literal notranslate"><span class="pre">rotate_xy()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.roof.html#dragonfly.roof.RoofSpecification.scale"><code class="docutils literal notranslate"><span class="pre">scale()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.roof.html#dragonfly.roof.RoofSpecification.snap_to_grid"><code class="docutils literal notranslate"><span class="pre">snap_to_grid()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.roof.html#dragonfly.roof.RoofSpecification.split_with_lines"><code class="docutils literal notranslate"><span class="pre">split_with_lines()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.roof.html#dragonfly.roof.RoofSpecification.split_with_polygon"><code class="docutils literal notranslate"><span class="pre">split_with_polygon()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.roof.html#dragonfly.roof.RoofSpecification.split_with_thick_line"><code class="docutils literal notranslate"><span class="pre">split_with_thick_line()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.roof.html#dragonfly.roof.RoofSpecification.split_with_thick_polyline"><code class="docutils literal notranslate"><span class="pre">split_with_thick_polyline()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.roof.html#dragonfly.roof.RoofSpecification.subtract_roofs"><code class="docutils literal notranslate"><span class="pre">subtract_roofs()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.roof.html#dragonfly.roof.RoofSpecification.to_dict"><code class="docutils literal notranslate"><span class="pre">to_dict()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.roof.html#dragonfly.roof.RoofSpecification.union_coplanar"><code class="docutils literal notranslate"><span class="pre">union_coplanar()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.roof.html#dragonfly.roof.RoofSpecification.update_geometry_2d"><code class="docutils literal notranslate"><span class="pre">update_geometry_2d()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.roof.html#dragonfly.roof.RoofSpecification.update_geometry_3d"><code class="docutils literal notranslate"><span class="pre">update_geometry_3d()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.roof.html#dragonfly.roof.RoofSpecification.altitudes"><code class="docutils literal notranslate"><span class="pre">altitudes</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.roof.html#dragonfly.roof.RoofSpecification.azimuths"><code class="docutils literal notranslate"><span class="pre">azimuths</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.roof.html#dragonfly.roof.RoofSpecification.boundary_geometry_2d"><code class="docutils literal notranslate"><span class="pre">boundary_geometry_2d</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.roof.html#dragonfly.roof.RoofSpecification.center_heights"><code class="docutils literal notranslate"><span class="pre">center_heights</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.roof.html#dragonfly.roof.RoofSpecification.geometry"><code class="docutils literal notranslate"><span class="pre">geometry</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.roof.html#dragonfly.roof.RoofSpecification.geometry_2d"><code class="docutils literal notranslate"><span class="pre">geometry_2d</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.roof.html#dragonfly.roof.RoofSpecification.has_parent"><code class="docutils literal notranslate"><span class="pre">has_parent</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.roof.html#dragonfly.roof.RoofSpecification.max"><code class="docutils literal notranslate"><span class="pre">max</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.roof.html#dragonfly.roof.RoofSpecification.max_height"><code class="docutils literal notranslate"><span class="pre">max_height</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.roof.html#dragonfly.roof.RoofSpecification.min"><code class="docutils literal notranslate"><span class="pre">min</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.roof.html#dragonfly.roof.RoofSpecification.min_height"><code class="docutils literal notranslate"><span class="pre">min_height</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.roof.html#dragonfly.roof.RoofSpecification.parent"><code class="docutils literal notranslate"><span class="pre">parent</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.roof.html#dragonfly.roof.RoofSpecification.planes"><code class="docutils literal notranslate"><span class="pre">planes</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.roof.html#dragonfly.roof.RoofSpecification.tilts"><code class="docutils literal notranslate"><span class="pre">tilts</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../dragonfly.room2d.html">dragonfly.room2d module</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D"><code class="docutils literal notranslate"><span class="pre">Room2D</span></code></a><ul>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.ToString"><code class="docutils literal notranslate"><span class="pre">ToString()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.add_prefix"><code class="docutils literal notranslate"><span class="pre">add_prefix()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.align"><code class="docutils literal notranslate"><span class="pre">align()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.apply_vertex_map"><code class="docutils literal notranslate"><span class="pre">apply_vertex_map()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.assign_sub_faces"><code class="docutils literal notranslate"><span class="pre">assign_sub_faces()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.automatically_zone"><code class="docutils literal notranslate"><span class="pre">automatically_zone()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.average_orientation"><code class="docutils literal notranslate"><span class="pre">average_orientation()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.check_degenerate"><code class="docutils literal notranslate"><span class="pre">check_degenerate()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.check_horizontal"><code class="docutils literal notranslate"><span class="pre">check_horizontal()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.check_plenum_depths"><code class="docutils literal notranslate"><span class="pre">check_plenum_depths()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.check_self_intersecting"><code class="docutils literal notranslate"><span class="pre">check_self_intersecting()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.check_window_parameters_valid"><code class="docutils literal notranslate"><span class="pre">check_window_parameters_valid()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.coordinate_room_2d_vertices"><code class="docutils literal notranslate"><span class="pre">coordinate_room_2d_vertices()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.coordinate_segment_vertices"><code class="docutils literal notranslate"><span class="pre">coordinate_segment_vertices()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.duplicate"><code class="docutils literal notranslate"><span class="pre">duplicate()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.find_adjacency"><code class="docutils literal notranslate"><span class="pre">find_adjacency()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.find_adjacency_by_guide_lines"><code class="docutils literal notranslate"><span class="pre">find_adjacency_by_guide_lines()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.find_adjacency_gaps"><code class="docutils literal notranslate"><span class="pre">find_adjacency_gaps()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.find_segment_adjacency"><code class="docutils literal notranslate"><span class="pre">find_segment_adjacency()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.floor_segment_by_index"><code class="docutils literal notranslate"><span class="pre">floor_segment_by_index()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.from_dict"><code class="docutils literal notranslate"><span class="pre">from_dict()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.from_honeybee"><code class="docutils literal notranslate"><span class="pre">from_honeybee()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.from_polygon"><code class="docutils literal notranslate"><span class="pre">from_polygon()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.from_vertices"><code class="docutils literal notranslate"><span class="pre">from_vertices()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.generate_alignment_axes"><code class="docutils literal notranslate"><span class="pre">generate_alignment_axes()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.generate_grid"><code class="docutils literal notranslate"><span class="pre">generate_grid()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.group_by_adjacency"><code class="docutils literal notranslate"><span class="pre">group_by_adjacency()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.group_by_air_boundary_adjacency"><code class="docutils literal notranslate"><span class="pre">group_by_air_boundary_adjacency()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.group_by_attribute"><code class="docutils literal notranslate"><span class="pre">group_by_attribute()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.group_by_floor_height"><code class="docutils literal notranslate"><span class="pre">group_by_floor_height()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.group_by_orientation"><code class="docutils literal notranslate"><span class="pre">group_by_orientation()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.grouped_horizontal_boundary"><code class="docutils literal notranslate"><span class="pre">grouped_horizontal_boundary()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.intersect_adjacency"><code class="docutils literal notranslate"><span class="pre">intersect_adjacency()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.join_by_boundary"><code class="docutils literal notranslate"><span class="pre">join_by_boundary()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.join_room_2ds"><code class="docutils literal notranslate"><span class="pre">join_room_2ds()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.join_to_neighbor"><code class="docutils literal notranslate"><span class="pre">join_to_neighbor()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.label_point"><code class="docutils literal notranslate"><span class="pre">label_point()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.make_skylights_flush"><code class="docutils literal notranslate"><span class="pre">make_skylights_flush()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.make_windows_flush"><code class="docutils literal notranslate"><span class="pre">make_windows_flush()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.move"><code class="docutils literal notranslate"><span class="pre">move()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.offset_skylights"><code class="docutils literal notranslate"><span class="pre">offset_skylights()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.offset_skylights_from_edges"><code class="docutils literal notranslate"><span class="pre">offset_skylights_from_edges()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.offset_windows"><code class="docutils literal notranslate"><span class="pre">offset_windows()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.overlap_area"><code class="docutils literal notranslate"><span class="pre">overlap_area()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.patch_missing_adjacencies"><code class="docutils literal notranslate"><span class="pre">patch_missing_adjacencies()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.pull_to_polygon"><code class="docutils literal notranslate"><span class="pre">pull_to_polygon()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.pull_to_polyline"><code class="docutils literal notranslate"><span class="pre">pull_to_polyline()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.pull_to_room_2d"><code class="docutils literal notranslate"><span class="pre">pull_to_room_2d()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.pull_to_segments"><code class="docutils literal notranslate"><span class="pre">pull_to_segments()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.rectangularize_windows"><code class="docutils literal notranslate"><span class="pre">rectangularize_windows()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.reflect"><code class="docutils literal notranslate"><span class="pre">reflect()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.relevant_roof_geometry"><code class="docutils literal notranslate"><span class="pre">relevant_roof_geometry()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.remove_colinear_vertices"><code class="docutils literal notranslate"><span class="pre">remove_colinear_vertices()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.remove_degenerate_holes"><code class="docutils literal notranslate"><span class="pre">remove_degenerate_holes()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.remove_doors"><code class="docutils literal notranslate"><span class="pre">remove_doors()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.remove_duplicate_vertices"><code class="docutils literal notranslate"><span class="pre">remove_duplicate_vertices()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.remove_short_segments"><code class="docutils literal notranslate"><span class="pre">remove_short_segments()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.remove_small_holes"><code class="docutils literal notranslate"><span class="pre">remove_small_holes()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.remove_small_skylights"><code class="docutils literal notranslate"><span class="pre">remove_small_skylights()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.remove_small_windows"><code class="docutils literal notranslate"><span class="pre">remove_small_windows()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.replace_floor_geometry"><code class="docutils literal notranslate"><span class="pre">replace_floor_geometry()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.reset_adjacency"><code class="docutils literal notranslate"><span class="pre">reset_adjacency()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.room_orientation_plane"><code class="docutils literal notranslate"><span class="pre">room_orientation_plane()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.rotate_xy"><code class="docutils literal notranslate"><span class="pre">rotate_xy()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.scale"><code class="docutils literal notranslate"><span class="pre">scale()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.segment_indices_by_guide_lines"><code class="docutils literal notranslate"><span class="pre">segment_indices_by_guide_lines()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.segment_orientations"><code class="docutils literal notranslate"><span class="pre">segment_orientations()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.separate_plenum"><code class="docutils literal notranslate"><span class="pre">separate_plenum()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.set_adjacency"><code class="docutils literal notranslate"><span class="pre">set_adjacency()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.set_air_boundary"><code class="docutils literal notranslate"><span class="pre">set_air_boundary()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.set_boundary_condition"><code class="docutils literal notranslate"><span class="pre">set_boundary_condition()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.set_outdoor_shading_parameters"><code class="docutils literal notranslate"><span class="pre">set_outdoor_shading_parameters()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.set_outdoor_window_parameters"><code class="docutils literal notranslate"><span class="pre">set_outdoor_window_parameters()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.set_window_parameter"><code class="docutils literal notranslate"><span class="pre">set_window_parameter()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.snap_to_grid"><code class="docutils literal notranslate"><span class="pre">snap_to_grid()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.snap_to_line_end_points"><code class="docutils literal notranslate"><span class="pre">snap_to_line_end_points()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.snap_to_points"><code class="docutils literal notranslate"><span class="pre">snap_to_points()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.solve_adjacency"><code class="docutils literal notranslate"><span class="pre">solve_adjacency()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.split_through_self_intersection"><code class="docutils literal notranslate"><span class="pre">split_through_self_intersection()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.split_with_line"><code class="docutils literal notranslate"><span class="pre">split_with_line()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.split_with_lines"><code class="docutils literal notranslate"><span class="pre">split_with_lines()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.split_with_polygon"><code class="docutils literal notranslate"><span class="pre">split_with_polygon()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.split_with_polyline"><code class="docutils literal notranslate"><span class="pre">split_with_polyline()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.split_with_thick_line"><code class="docutils literal notranslate"><span class="pre">split_with_thick_line()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.split_with_thick_polyline"><code class="docutils literal notranslate"><span class="pre">split_with_thick_polyline()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.subtract_room_2ds"><code class="docutils literal notranslate"><span class="pre">subtract_room_2ds()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.to_core_perimeter"><code class="docutils literal notranslate"><span class="pre">to_core_perimeter()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.to_detailed_windows"><code class="docutils literal notranslate"><span class="pre">to_detailed_windows()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.to_dict"><code class="docutils literal notranslate"><span class="pre">to_dict()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.to_honeybee"><code class="docutils literal notranslate"><span class="pre">to_honeybee()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.to_rectangular_windows"><code class="docutils literal notranslate"><span class="pre">to_rectangular_windows()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.unconforming_vertex_map"><code class="docutils literal notranslate"><span class="pre">unconforming_vertex_map()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.update_floor_geometry"><code class="docutils literal notranslate"><span class="pre">update_floor_geometry()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.air_boundaries"><code class="docutils literal notranslate"><span class="pre">air_boundaries</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.boundary_conditions"><code class="docutils literal notranslate"><span class="pre">boundary_conditions</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.ceiling_elevation"><code class="docutils literal notranslate"><span class="pre">ceiling_elevation</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.ceiling_height"><code class="docutils literal notranslate"><span class="pre">ceiling_height</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.ceiling_plenum_depth"><code class="docutils literal notranslate"><span class="pre">ceiling_plenum_depth</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.center"><code class="docutils literal notranslate"><span class="pre">center</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.display_name"><code class="docutils literal notranslate"><span class="pre">display_name</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.exterior_aperture_area"><code class="docutils literal notranslate"><span class="pre">exterior_aperture_area</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.exterior_wall_area"><code class="docutils literal notranslate"><span class="pre">exterior_wall_area</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.exterior_window_area"><code class="docutils literal notranslate"><span class="pre">exterior_window_area</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.floor_area"><code class="docutils literal notranslate"><span class="pre">floor_area</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.floor_elevation"><code class="docutils literal notranslate"><span class="pre">floor_elevation</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.floor_geometry"><code class="docutils literal notranslate"><span class="pre">floor_geometry</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.floor_height"><code class="docutils literal notranslate"><span class="pre">floor_height</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.floor_plenum_depth"><code class="docutils literal notranslate"><span class="pre">floor_plenum_depth</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.floor_segments"><code class="docutils literal notranslate"><span class="pre">floor_segments</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.floor_segments_2d"><code class="docutils literal notranslate"><span class="pre">floor_segments_2d</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.floor_to_ceiling_height"><code class="docutils literal notranslate"><span class="pre">floor_to_ceiling_height</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.full_id"><code class="docutils literal notranslate"><span class="pre">full_id</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.has_ceiling"><code class="docutils literal notranslate"><span class="pre">has_ceiling</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.has_floor"><code class="docutils literal notranslate"><span class="pre">has_floor</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.has_parent"><code class="docutils literal notranslate"><span class="pre">has_parent</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.highest_plenum_floor_height"><code class="docutils literal notranslate"><span class="pre">highest_plenum_floor_height</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.identifier"><code class="docutils literal notranslate"><span class="pre">identifier</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.interior_wall_area"><code class="docutils literal notranslate"><span class="pre">interior_wall_area</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.is_core"><code class="docutils literal notranslate"><span class="pre">is_core</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.is_ground_contact"><code class="docutils literal notranslate"><span class="pre">is_ground_contact</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.is_perimeter"><code class="docutils literal notranslate"><span class="pre">is_perimeter</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.is_top_exposed"><code class="docutils literal notranslate"><span class="pre">is_top_exposed</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.max"><code class="docutils literal notranslate"><span class="pre">max</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.min"><code class="docutils literal notranslate"><span class="pre">min</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.parent"><code class="docutils literal notranslate"><span class="pre">parent</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.properties"><code class="docutils literal notranslate"><span class="pre">properties</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.roof_sub_face_area"><code class="docutils literal notranslate"><span class="pre">roof_sub_face_area</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.segment_count"><code class="docutils literal notranslate"><span class="pre">segment_count</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.segment_normals"><code class="docutils literal notranslate"><span class="pre">segment_normals</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.shading_parameters"><code class="docutils literal notranslate"><span class="pre">shading_parameters</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.skylight_area"><code class="docutils literal notranslate"><span class="pre">skylight_area</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.skylight_parameters"><code class="docutils literal notranslate"><span class="pre">skylight_parameters</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.sub_face_area"><code class="docutils literal notranslate"><span class="pre">sub_face_area</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.to"><code class="docutils literal notranslate"><span class="pre">to</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.user_data"><code class="docutils literal notranslate"><span class="pre">user_data</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.volume"><code class="docutils literal notranslate"><span class="pre">volume</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.wall_sub_face_area"><code class="docutils literal notranslate"><span class="pre">wall_sub_face_area</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.window_parameters"><code class="docutils literal notranslate"><span class="pre">window_parameters</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.room2d.html#dragonfly.room2d.Room2D.zone"><code class="docutils literal notranslate"><span class="pre">zone</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../dragonfly.shadingparameter.html">dragonfly.shadingparameter module</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../dragonfly.shadingparameter.html#dragonfly.shadingparameter.ExtrudedBorder"><code class="docutils literal notranslate"><span class="pre">ExtrudedBorder</span></code></a><ul>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.shadingparameter.html#dragonfly.shadingparameter.ExtrudedBorder.ToString"><code class="docutils literal notranslate"><span class="pre">ToString()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.shadingparameter.html#dragonfly.shadingparameter.ExtrudedBorder.add_shading_to_face"><code class="docutils literal notranslate"><span class="pre">add_shading_to_face()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.shadingparameter.html#dragonfly.shadingparameter.ExtrudedBorder.duplicate"><code class="docutils literal notranslate"><span class="pre">duplicate()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.shadingparameter.html#dragonfly.shadingparameter.ExtrudedBorder.from_dict"><code class="docutils literal notranslate"><span class="pre">from_dict()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.shadingparameter.html#dragonfly.shadingparameter.ExtrudedBorder.scale"><code class="docutils literal notranslate"><span class="pre">scale()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.shadingparameter.html#dragonfly.shadingparameter.ExtrudedBorder.to_dict"><code class="docutils literal notranslate"><span class="pre">to_dict()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.shadingparameter.html#dragonfly.shadingparameter.ExtrudedBorder.depth"><code class="docutils literal notranslate"><span class="pre">depth</span></code></a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="../../dragonfly.shadingparameter.html#dragonfly.shadingparameter.LouversByCount"><code class="docutils literal notranslate"><span class="pre">LouversByCount</span></code></a><ul>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.shadingparameter.html#dragonfly.shadingparameter.LouversByCount.ToString"><code class="docutils literal notranslate"><span class="pre">ToString()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.shadingparameter.html#dragonfly.shadingparameter.LouversByCount.add_shading_to_face"><code class="docutils literal notranslate"><span class="pre">add_shading_to_face()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.shadingparameter.html#dragonfly.shadingparameter.LouversByCount.duplicate"><code class="docutils literal notranslate"><span class="pre">duplicate()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.shadingparameter.html#dragonfly.shadingparameter.LouversByCount.from_dict"><code class="docutils literal notranslate"><span class="pre">from_dict()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.shadingparameter.html#dragonfly.shadingparameter.LouversByCount.scale"><code class="docutils literal notranslate"><span class="pre">scale()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.shadingparameter.html#dragonfly.shadingparameter.LouversByCount.to_dict"><code class="docutils literal notranslate"><span class="pre">to_dict()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.shadingparameter.html#dragonfly.shadingparameter.LouversByCount.angle"><code class="docutils literal notranslate"><span class="pre">angle</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.shadingparameter.html#dragonfly.shadingparameter.LouversByCount.contour_vector"><code class="docutils literal notranslate"><span class="pre">contour_vector</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.shadingparameter.html#dragonfly.shadingparameter.LouversByCount.depth"><code class="docutils literal notranslate"><span class="pre">depth</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.shadingparameter.html#dragonfly.shadingparameter.LouversByCount.flip_start_side"><code class="docutils literal notranslate"><span class="pre">flip_start_side</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.shadingparameter.html#dragonfly.shadingparameter.LouversByCount.louver_count"><code class="docutils literal notranslate"><span class="pre">louver_count</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.shadingparameter.html#dragonfly.shadingparameter.LouversByCount.offset"><code class="docutils literal notranslate"><span class="pre">offset</span></code></a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="../../dragonfly.shadingparameter.html#dragonfly.shadingparameter.LouversByDistance"><code class="docutils literal notranslate"><span class="pre">LouversByDistance</span></code></a><ul>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.shadingparameter.html#dragonfly.shadingparameter.LouversByDistance.ToString"><code class="docutils literal notranslate"><span class="pre">ToString()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.shadingparameter.html#dragonfly.shadingparameter.LouversByDistance.add_shading_to_face"><code class="docutils literal notranslate"><span class="pre">add_shading_to_face()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.shadingparameter.html#dragonfly.shadingparameter.LouversByDistance.duplicate"><code class="docutils literal notranslate"><span class="pre">duplicate()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.shadingparameter.html#dragonfly.shadingparameter.LouversByDistance.from_dict"><code class="docutils literal notranslate"><span class="pre">from_dict()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.shadingparameter.html#dragonfly.shadingparameter.LouversByDistance.scale"><code class="docutils literal notranslate"><span class="pre">scale()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.shadingparameter.html#dragonfly.shadingparameter.LouversByDistance.to_dict"><code class="docutils literal notranslate"><span class="pre">to_dict()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.shadingparameter.html#dragonfly.shadingparameter.LouversByDistance.angle"><code class="docutils literal notranslate"><span class="pre">angle</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.shadingparameter.html#dragonfly.shadingparameter.LouversByDistance.contour_vector"><code class="docutils literal notranslate"><span class="pre">contour_vector</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.shadingparameter.html#dragonfly.shadingparameter.LouversByDistance.depth"><code class="docutils literal notranslate"><span class="pre">depth</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.shadingparameter.html#dragonfly.shadingparameter.LouversByDistance.distance"><code class="docutils literal notranslate"><span class="pre">distance</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.shadingparameter.html#dragonfly.shadingparameter.LouversByDistance.flip_start_side"><code class="docutils literal notranslate"><span class="pre">flip_start_side</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.shadingparameter.html#dragonfly.shadingparameter.LouversByDistance.offset"><code class="docutils literal notranslate"><span class="pre">offset</span></code></a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="../../dragonfly.shadingparameter.html#dragonfly.shadingparameter.Overhang"><code class="docutils literal notranslate"><span class="pre">Overhang</span></code></a><ul>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.shadingparameter.html#dragonfly.shadingparameter.Overhang.ToString"><code class="docutils literal notranslate"><span class="pre">ToString()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.shadingparameter.html#dragonfly.shadingparameter.Overhang.add_shading_to_face"><code class="docutils literal notranslate"><span class="pre">add_shading_to_face()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.shadingparameter.html#dragonfly.shadingparameter.Overhang.duplicate"><code class="docutils literal notranslate"><span class="pre">duplicate()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.shadingparameter.html#dragonfly.shadingparameter.Overhang.from_dict"><code class="docutils literal notranslate"><span class="pre">from_dict()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.shadingparameter.html#dragonfly.shadingparameter.Overhang.scale"><code class="docutils literal notranslate"><span class="pre">scale()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.shadingparameter.html#dragonfly.shadingparameter.Overhang.to_dict"><code class="docutils literal notranslate"><span class="pre">to_dict()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.shadingparameter.html#dragonfly.shadingparameter.Overhang.angle"><code class="docutils literal notranslate"><span class="pre">angle</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.shadingparameter.html#dragonfly.shadingparameter.Overhang.depth"><code class="docutils literal notranslate"><span class="pre">depth</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../dragonfly.skylightparameter.html">dragonfly.skylightparameter module</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../dragonfly.skylightparameter.html#dragonfly.skylightparameter.DetailedSkylights"><code class="docutils literal notranslate"><span class="pre">DetailedSkylights</span></code></a><ul>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.skylightparameter.html#dragonfly.skylightparameter.DetailedSkylights.ToString"><code class="docutils literal notranslate"><span class="pre">ToString()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.skylightparameter.html#dragonfly.skylightparameter.DetailedSkylights.add_skylight_to_face"><code class="docutils literal notranslate"><span class="pre">add_skylight_to_face()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.skylightparameter.html#dragonfly.skylightparameter.DetailedSkylights.aperture_area_from_face"><code class="docutils literal notranslate"><span class="pre">aperture_area_from_face()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.skylightparameter.html#dragonfly.skylightparameter.DetailedSkylights.area_from_face"><code class="docutils literal notranslate"><span class="pre">area_from_face()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.skylightparameter.html#dragonfly.skylightparameter.DetailedSkylights.check_overlaps"><code class="docutils literal notranslate"><span class="pre">check_overlaps()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.skylightparameter.html#dragonfly.skylightparameter.DetailedSkylights.check_self_intersecting"><code class="docutils literal notranslate"><span class="pre">check_self_intersecting()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.skylightparameter.html#dragonfly.skylightparameter.DetailedSkylights.check_valid_for_face"><code class="docutils literal notranslate"><span class="pre">check_valid_for_face()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.skylightparameter.html#dragonfly.skylightparameter.DetailedSkylights.duplicate"><code class="docutils literal notranslate"><span class="pre">duplicate()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.skylightparameter.html#dragonfly.skylightparameter.DetailedSkylights.from_dict"><code class="docutils literal notranslate"><span class="pre">from_dict()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.skylightparameter.html#dragonfly.skylightparameter.DetailedSkylights.from_honeybee"><code class="docutils literal notranslate"><span class="pre">from_honeybee()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.skylightparameter.html#dragonfly.skylightparameter.DetailedSkylights.invalid_face_geometries"><code class="docutils literal notranslate"><span class="pre">invalid_face_geometries()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.skylightparameter.html#dragonfly.skylightparameter.DetailedSkylights.make_flush"><code class="docutils literal notranslate"><span class="pre">make_flush()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.skylightparameter.html#dragonfly.skylightparameter.DetailedSkylights.merge_and_simplify"><code class="docutils literal notranslate"><span class="pre">merge_and_simplify()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.skylightparameter.html#dragonfly.skylightparameter.DetailedSkylights.merge_to_bounding_rectangle"><code class="docutils literal notranslate"><span class="pre">merge_to_bounding_rectangle()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.skylightparameter.html#dragonfly.skylightparameter.DetailedSkylights.move"><code class="docutils literal notranslate"><span class="pre">move()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.skylightparameter.html#dragonfly.skylightparameter.DetailedSkylights.offset"><code class="docutils literal notranslate"><span class="pre">offset()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.skylightparameter.html#dragonfly.skylightparameter.DetailedSkylights.offset_polygons_for_face"><code class="docutils literal notranslate"><span class="pre">offset_polygons_for_face()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.skylightparameter.html#dragonfly.skylightparameter.DetailedSkylights.overlapping_geometries"><code class="docutils literal notranslate"><span class="pre">overlapping_geometries()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.skylightparameter.html#dragonfly.skylightparameter.DetailedSkylights.rectangularize"><code class="docutils literal notranslate"><span class="pre">rectangularize()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.skylightparameter.html#dragonfly.skylightparameter.DetailedSkylights.reflect"><code class="docutils literal notranslate"><span class="pre">reflect()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.skylightparameter.html#dragonfly.skylightparameter.DetailedSkylights.remove_doors"><code class="docutils literal notranslate"><span class="pre">remove_doors()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.skylightparameter.html#dragonfly.skylightparameter.DetailedSkylights.remove_duplicate_skylights"><code class="docutils literal notranslate"><span class="pre">remove_duplicate_skylights()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.skylightparameter.html#dragonfly.skylightparameter.DetailedSkylights.remove_self_intersecting"><code class="docutils literal notranslate"><span class="pre">remove_self_intersecting()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.skylightparameter.html#dragonfly.skylightparameter.DetailedSkylights.remove_small_skylights"><code class="docutils literal notranslate"><span class="pre">remove_small_skylights()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.skylightparameter.html#dragonfly.skylightparameter.DetailedSkylights.remove_windows"><code class="docutils literal notranslate"><span class="pre">remove_windows()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.skylightparameter.html#dragonfly.skylightparameter.DetailedSkylights.rotate"><code class="docutils literal notranslate"><span class="pre">rotate()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.skylightparameter.html#dragonfly.skylightparameter.DetailedSkylights.scale"><code class="docutils literal notranslate"><span class="pre">scale()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.skylightparameter.html#dragonfly.skylightparameter.DetailedSkylights.self_intersecting_geometries"><code class="docutils literal notranslate"><span class="pre">self_intersecting_geometries()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.skylightparameter.html#dragonfly.skylightparameter.DetailedSkylights.split"><code class="docutils literal notranslate"><span class="pre">split()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.skylightparameter.html#dragonfly.skylightparameter.DetailedSkylights.to_dict"><code class="docutils literal notranslate"><span class="pre">to_dict()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.skylightparameter.html#dragonfly.skylightparameter.DetailedSkylights.union_overlaps"><code class="docutils literal notranslate"><span class="pre">union_overlaps()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.skylightparameter.html#dragonfly.skylightparameter.DetailedSkylights.are_doors"><code class="docutils literal notranslate"><span class="pre">are_doors</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.skylightparameter.html#dragonfly.skylightparameter.DetailedSkylights.polygons"><code class="docutils literal notranslate"><span class="pre">polygons</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.skylightparameter.html#dragonfly.skylightparameter.DetailedSkylights.user_data"><code class="docutils literal notranslate"><span class="pre">user_data</span></code></a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="../../dragonfly.skylightparameter.html#dragonfly.skylightparameter.GriddedSkylightArea"><code class="docutils literal notranslate"><span class="pre">GriddedSkylightArea</span></code></a><ul>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.skylightparameter.html#dragonfly.skylightparameter.GriddedSkylightArea.ToString"><code class="docutils literal notranslate"><span class="pre">ToString()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.skylightparameter.html#dragonfly.skylightparameter.GriddedSkylightArea.add_skylight_to_face"><code class="docutils literal notranslate"><span class="pre">add_skylight_to_face()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.skylightparameter.html#dragonfly.skylightparameter.GriddedSkylightArea.area_from_face"><code class="docutils literal notranslate"><span class="pre">area_from_face()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.skylightparameter.html#dragonfly.skylightparameter.GriddedSkylightArea.duplicate"><code class="docutils literal notranslate"><span class="pre">duplicate()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.skylightparameter.html#dragonfly.skylightparameter.GriddedSkylightArea.from_dict"><code class="docutils literal notranslate"><span class="pre">from_dict()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.skylightparameter.html#dragonfly.skylightparameter.GriddedSkylightArea.scale"><code class="docutils literal notranslate"><span class="pre">scale()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.skylightparameter.html#dragonfly.skylightparameter.GriddedSkylightArea.split"><code class="docutils literal notranslate"><span class="pre">split()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.skylightparameter.html#dragonfly.skylightparameter.GriddedSkylightArea.to_dict"><code class="docutils literal notranslate"><span class="pre">to_dict()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.skylightparameter.html#dragonfly.skylightparameter.GriddedSkylightArea.skylight_area"><code class="docutils literal notranslate"><span class="pre">skylight_area</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.skylightparameter.html#dragonfly.skylightparameter.GriddedSkylightArea.spacing"><code class="docutils literal notranslate"><span class="pre">spacing</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.skylightparameter.html#dragonfly.skylightparameter.GriddedSkylightArea.user_data"><code class="docutils literal notranslate"><span class="pre">user_data</span></code></a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="../../dragonfly.skylightparameter.html#dragonfly.skylightparameter.GriddedSkylightRatio"><code class="docutils literal notranslate"><span class="pre">GriddedSkylightRatio</span></code></a><ul>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.skylightparameter.html#dragonfly.skylightparameter.GriddedSkylightRatio.ToString"><code class="docutils literal notranslate"><span class="pre">ToString()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.skylightparameter.html#dragonfly.skylightparameter.GriddedSkylightRatio.add_skylight_to_face"><code class="docutils literal notranslate"><span class="pre">add_skylight_to_face()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.skylightparameter.html#dragonfly.skylightparameter.GriddedSkylightRatio.area_from_face"><code class="docutils literal notranslate"><span class="pre">area_from_face()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.skylightparameter.html#dragonfly.skylightparameter.GriddedSkylightRatio.duplicate"><code class="docutils literal notranslate"><span class="pre">duplicate()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.skylightparameter.html#dragonfly.skylightparameter.GriddedSkylightRatio.from_dict"><code class="docutils literal notranslate"><span class="pre">from_dict()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.skylightparameter.html#dragonfly.skylightparameter.GriddedSkylightRatio.scale"><code class="docutils literal notranslate"><span class="pre">scale()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.skylightparameter.html#dragonfly.skylightparameter.GriddedSkylightRatio.split"><code class="docutils literal notranslate"><span class="pre">split()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.skylightparameter.html#dragonfly.skylightparameter.GriddedSkylightRatio.to_dict"><code class="docutils literal notranslate"><span class="pre">to_dict()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.skylightparameter.html#dragonfly.skylightparameter.GriddedSkylightRatio.skylight_ratio"><code class="docutils literal notranslate"><span class="pre">skylight_ratio</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.skylightparameter.html#dragonfly.skylightparameter.GriddedSkylightRatio.spacing"><code class="docutils literal notranslate"><span class="pre">spacing</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.skylightparameter.html#dragonfly.skylightparameter.GriddedSkylightRatio.user_data"><code class="docutils literal notranslate"><span class="pre">user_data</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../dragonfly.story.html">dragonfly.story module</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story"><code class="docutils literal notranslate"><span class="pre">Story</span></code></a><ul>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.ToString"><code class="docutils literal notranslate"><span class="pre">ToString()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.add_prefix"><code class="docutils literal notranslate"><span class="pre">add_prefix()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.add_room_2d"><code class="docutils literal notranslate"><span class="pre">add_room_2d()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.add_room_2ds"><code class="docutils literal notranslate"><span class="pre">add_room_2ds()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.align"><code class="docutils literal notranslate"><span class="pre">align()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.align_room_2ds"><code class="docutils literal notranslate"><span class="pre">align_room_2ds()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.automatically_zone"><code class="docutils literal notranslate"><span class="pre">automatically_zone()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.check_collision_with_story"><code class="docutils literal notranslate"><span class="pre">check_collision_with_story()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.check_missing_adjacencies"><code class="docutils literal notranslate"><span class="pre">check_missing_adjacencies()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.check_no_roof_overlaps"><code class="docutils literal notranslate"><span class="pre">check_no_roof_overlaps()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.check_no_room2d_overlaps"><code class="docutils literal notranslate"><span class="pre">check_no_room2d_overlaps()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.check_roofs_above_rooms"><code class="docutils literal notranslate"><span class="pre">check_roofs_above_rooms()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.check_room2d_floor_heights_valid"><code class="docutils literal notranslate"><span class="pre">check_room2d_floor_heights_valid()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.delete_degenerate_room_2ds"><code class="docutils literal notranslate"><span class="pre">delete_degenerate_room_2ds()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.duplicate"><code class="docutils literal notranslate"><span class="pre">duplicate()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.fill_holes"><code class="docutils literal notranslate"><span class="pre">fill_holes()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.floor_geometry"><code class="docutils literal notranslate"><span class="pre">floor_geometry()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.footprint"><code class="docutils literal notranslate"><span class="pre">footprint()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.from_dict"><code class="docutils literal notranslate"><span class="pre">from_dict()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.from_honeybee"><code class="docutils literal notranslate"><span class="pre">from_honeybee()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.generate_grid"><code class="docutils literal notranslate"><span class="pre">generate_grid()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.intersect_room_2d_adjacency"><code class="docutils literal notranslate"><span class="pre">intersect_room_2d_adjacency()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.join_room_2ds"><code class="docutils literal notranslate"><span class="pre">join_room_2ds()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.join_small_room_2ds"><code class="docutils literal notranslate"><span class="pre">join_small_room_2ds()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.make_aboveground"><code class="docutils literal notranslate"><span class="pre">make_aboveground()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.make_underground"><code class="docutils literal notranslate"><span class="pre">make_underground()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.move"><code class="docutils literal notranslate"><span class="pre">move()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.outline_polylines"><code class="docutils literal notranslate"><span class="pre">outline_polylines()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.outline_segments"><code class="docutils literal notranslate"><span class="pre">outline_segments()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.patch_missing_adjacencies"><code class="docutils literal notranslate"><span class="pre">patch_missing_adjacencies()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.rebuild_detailed_windows"><code class="docutils literal notranslate"><span class="pre">rebuild_detailed_windows()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.reflect"><code class="docutils literal notranslate"><span class="pre">reflect()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.remove_room_2d_colinear_vertices"><code class="docutils literal notranslate"><span class="pre">remove_room_2d_colinear_vertices()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.remove_room_2d_duplicate_vertices"><code class="docutils literal notranslate"><span class="pre">remove_room_2d_duplicate_vertices()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.remove_room_2d_short_segments"><code class="docutils literal notranslate"><span class="pre">remove_room_2d_short_segments()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.reset_adjacency"><code class="docutils literal notranslate"><span class="pre">reset_adjacency()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.reset_room_2d_boundaries"><code class="docutils literal notranslate"><span class="pre">reset_room_2d_boundaries()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.room_2d_story_geometry_valid"><code class="docutils literal notranslate"><span class="pre">room_2d_story_geometry_valid()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.room_by_identifier"><code class="docutils literal notranslate"><span class="pre">room_by_identifier()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.rooms_by_identifier"><code class="docutils literal notranslate"><span class="pre">rooms_by_identifier()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.rotate_xy"><code class="docutils literal notranslate"><span class="pre">rotate_xy()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.scale"><code class="docutils literal notranslate"><span class="pre">scale()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.set_adjacent_air_boundary"><code class="docutils literal notranslate"><span class="pre">set_adjacent_air_boundary()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.set_ground_contact"><code class="docutils literal notranslate"><span class="pre">set_ground_contact()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.set_ground_contact_by_story_below"><code class="docutils literal notranslate"><span class="pre">set_ground_contact_by_story_below()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.set_outdoor_shading_parameters"><code class="docutils literal notranslate"><span class="pre">set_outdoor_shading_parameters()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.set_outdoor_window_parameters"><code class="docutils literal notranslate"><span class="pre">set_outdoor_window_parameters()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.set_top_exposed"><code class="docutils literal notranslate"><span class="pre">set_top_exposed()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.set_top_exposed_by_story_above"><code class="docutils literal notranslate"><span class="pre">set_top_exposed_by_story_above()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.shade_representation"><code class="docutils literal notranslate"><span class="pre">shade_representation()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.shade_representation_multiplier"><code class="docutils literal notranslate"><span class="pre">shade_representation_multiplier()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.solve_room_2d_adjacency"><code class="docutils literal notranslate"><span class="pre">solve_room_2d_adjacency()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.split_with_story_above"><code class="docutils literal notranslate"><span class="pre">split_with_story_above()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.suggested_alignment_axes"><code class="docutils literal notranslate"><span class="pre">suggested_alignment_axes()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.to_dict"><code class="docutils literal notranslate"><span class="pre">to_dict()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.to_honeybee"><code class="docutils literal notranslate"><span class="pre">to_honeybee()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.to_rectangular_windows"><code class="docutils literal notranslate"><span class="pre">to_rectangular_windows()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.STORY_TYPES"><code class="docutils literal notranslate"><span class="pre">STORY_TYPES</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.display_name"><code class="docutils literal notranslate"><span class="pre">display_name</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.exterior_aperture_area"><code class="docutils literal notranslate"><span class="pre">exterior_aperture_area</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.exterior_wall_area"><code class="docutils literal notranslate"><span class="pre">exterior_wall_area</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.floor_area"><code class="docutils literal notranslate"><span class="pre">floor_area</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.floor_height"><code class="docutils literal notranslate"><span class="pre">floor_height</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.floor_to_floor_height"><code class="docutils literal notranslate"><span class="pre">floor_to_floor_height</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.full_id"><code class="docutils literal notranslate"><span class="pre">full_id</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.has_parent"><code class="docutils literal notranslate"><span class="pre">has_parent</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.has_plenums"><code class="docutils literal notranslate"><span class="pre">has_plenums</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.has_zones"><code class="docutils literal notranslate"><span class="pre">has_zones</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.highest_plenum_floor_height"><code class="docutils literal notranslate"><span class="pre">highest_plenum_floor_height</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.identifier"><code class="docutils literal notranslate"><span class="pre">identifier</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.is_above_ground"><code class="docutils literal notranslate"><span class="pre">is_above_ground</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.is_plenum"><code class="docutils literal notranslate"><span class="pre">is_plenum</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.max"><code class="docutils literal notranslate"><span class="pre">max</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.max_room_2d_ceiling_height"><code class="docutils literal notranslate"><span class="pre">max_room_2d_ceiling_height</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.median_room2d_floor_height"><code class="docutils literal notranslate"><span class="pre">median_room2d_floor_height</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.min"><code class="docutils literal notranslate"><span class="pre">min</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.min_room_2d_floor_height"><code class="docutils literal notranslate"><span class="pre">min_room_2d_floor_height</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.multiplier"><code class="docutils literal notranslate"><span class="pre">multiplier</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.parent"><code class="docutils literal notranslate"><span class="pre">parent</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.properties"><code class="docutils literal notranslate"><span class="pre">properties</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.roof"><code class="docutils literal notranslate"><span class="pre">roof</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.room_2ds"><code class="docutils literal notranslate"><span class="pre">room_2ds</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.sub_face_area"><code class="docutils literal notranslate"><span class="pre">sub_face_area</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.to"><code class="docutils literal notranslate"><span class="pre">to</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.type"><code class="docutils literal notranslate"><span class="pre">type</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.user_data"><code class="docutils literal notranslate"><span class="pre">user_data</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.volume"><code class="docutils literal notranslate"><span class="pre">volume</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.story.html#dragonfly.story.Story.zone_dict"><code class="docutils literal notranslate"><span class="pre">zone_dict</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../dragonfly.subdivide.html">dragonfly.subdivide module</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../dragonfly.subdivide.html#dragonfly.subdivide.interpret_core_perimeter_subdivide"><code class="docutils literal notranslate"><span class="pre">interpret_core_perimeter_subdivide()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../dragonfly.subdivide.html#dragonfly.subdivide.interpret_floor_height_subdivide"><code class="docutils literal notranslate"><span class="pre">interpret_floor_height_subdivide()</span></code></a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../dragonfly.windowparameter.html">dragonfly.windowparameter module</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.DetailedWindows"><code class="docutils literal notranslate"><span class="pre">DetailedWindows</span></code></a><ul>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.DetailedWindows.ToString"><code class="docutils literal notranslate"><span class="pre">ToString()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.DetailedWindows.add_window_to_face"><code class="docutils literal notranslate"><span class="pre">add_window_to_face()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.DetailedWindows.adjust_for_segment"><code class="docutils literal notranslate"><span class="pre">adjust_for_segment()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.DetailedWindows.aperture_area_from_segment"><code class="docutils literal notranslate"><span class="pre">aperture_area_from_segment()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.DetailedWindows.area_from_segment"><code class="docutils literal notranslate"><span class="pre">area_from_segment()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.DetailedWindows.check_self_intersecting"><code class="docutils literal notranslate"><span class="pre">check_self_intersecting()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.DetailedWindows.check_valid_for_segment"><code class="docutils literal notranslate"><span class="pre">check_valid_for_segment()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.DetailedWindows.check_window_overlaps"><code class="docutils literal notranslate"><span class="pre">check_window_overlaps()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.DetailedWindows.duplicate"><code class="docutils literal notranslate"><span class="pre">duplicate()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.DetailedWindows.flip"><code class="docutils literal notranslate"><span class="pre">flip()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.DetailedWindows.from_dict"><code class="docutils literal notranslate"><span class="pre">from_dict()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.DetailedWindows.from_face3ds"><code class="docutils literal notranslate"><span class="pre">from_face3ds()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.DetailedWindows.is_face3d_in_segment_plane"><code class="docutils literal notranslate"><span class="pre">is_face3d_in_segment_plane()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.DetailedWindows.is_flipped_equivalent"><code class="docutils literal notranslate"><span class="pre">is_flipped_equivalent()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.DetailedWindows.make_flush"><code class="docutils literal notranslate"><span class="pre">make_flush()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.DetailedWindows.merge"><code class="docutils literal notranslate"><span class="pre">merge()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.DetailedWindows.merge_and_simplify"><code class="docutils literal notranslate"><span class="pre">merge_and_simplify()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.DetailedWindows.merge_to_bounding_rectangle"><code class="docutils literal notranslate"><span class="pre">merge_to_bounding_rectangle()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.DetailedWindows.merge_to_rectangular"><code class="docutils literal notranslate"><span class="pre">merge_to_rectangular()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.DetailedWindows.offset"><code class="docutils literal notranslate"><span class="pre">offset()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.DetailedWindows.overlapping_geometries"><code class="docutils literal notranslate"><span class="pre">overlapping_geometries()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.DetailedWindows.rectangularize"><code class="docutils literal notranslate"><span class="pre">rectangularize()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.DetailedWindows.remove_doors"><code class="docutils literal notranslate"><span class="pre">remove_doors()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.DetailedWindows.remove_duplicate_windows"><code class="docutils literal notranslate"><span class="pre">remove_duplicate_windows()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.DetailedWindows.remove_small_windows"><code class="docutils literal notranslate"><span class="pre">remove_small_windows()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.DetailedWindows.remove_windows"><code class="docutils literal notranslate"><span class="pre">remove_windows()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.DetailedWindows.scale"><code class="docutils literal notranslate"><span class="pre">scale()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.DetailedWindows.self_intersecting_geometries"><code class="docutils literal notranslate"><span class="pre">self_intersecting_geometries()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.DetailedWindows.shift_horizontally"><code class="docutils literal notranslate"><span class="pre">shift_horizontally()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.DetailedWindows.shift_vertically"><code class="docutils literal notranslate"><span class="pre">shift_vertically()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.DetailedWindows.split"><code class="docutils literal notranslate"><span class="pre">split()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.DetailedWindows.to_dict"><code class="docutils literal notranslate"><span class="pre">to_dict()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.DetailedWindows.to_rectangular_windows"><code class="docutils literal notranslate"><span class="pre">to_rectangular_windows()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.DetailedWindows.trim"><code class="docutils literal notranslate"><span class="pre">trim()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.DetailedWindows.union_overlaps"><code class="docutils literal notranslate"><span class="pre">union_overlaps()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.DetailedWindows.are_doors"><code class="docutils literal notranslate"><span class="pre">are_doors</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.DetailedWindows.polygons"><code class="docutils literal notranslate"><span class="pre">polygons</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.DetailedWindows.user_data"><code class="docutils literal notranslate"><span class="pre">user_data</span></code></a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RectangularWindows"><code class="docutils literal notranslate"><span class="pre">RectangularWindows</span></code></a><ul>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RectangularWindows.ToString"><code class="docutils literal notranslate"><span class="pre">ToString()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RectangularWindows.add_window_to_face"><code class="docutils literal notranslate"><span class="pre">add_window_to_face()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RectangularWindows.adjust_for_segment"><code class="docutils literal notranslate"><span class="pre">adjust_for_segment()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RectangularWindows.aperture_area_from_segment"><code class="docutils literal notranslate"><span class="pre">aperture_area_from_segment()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RectangularWindows.area_from_segment"><code class="docutils literal notranslate"><span class="pre">area_from_segment()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RectangularWindows.check_valid_for_segment"><code class="docutils literal notranslate"><span class="pre">check_valid_for_segment()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RectangularWindows.check_window_overlaps"><code class="docutils literal notranslate"><span class="pre">check_window_overlaps()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RectangularWindows.duplicate"><code class="docutils literal notranslate"><span class="pre">duplicate()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RectangularWindows.flip"><code class="docutils literal notranslate"><span class="pre">flip()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RectangularWindows.from_dict"><code class="docutils literal notranslate"><span class="pre">from_dict()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RectangularWindows.merge"><code class="docutils literal notranslate"><span class="pre">merge()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RectangularWindows.merge_to_rectangular"><code class="docutils literal notranslate"><span class="pre">merge_to_rectangular()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RectangularWindows.offset"><code class="docutils literal notranslate"><span class="pre">offset()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RectangularWindows.remove_doors"><code class="docutils literal notranslate"><span class="pre">remove_doors()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RectangularWindows.remove_duplicate_windows"><code class="docutils literal notranslate"><span class="pre">remove_duplicate_windows()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RectangularWindows.remove_small_windows"><code class="docutils literal notranslate"><span class="pre">remove_small_windows()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RectangularWindows.remove_windows"><code class="docutils literal notranslate"><span class="pre">remove_windows()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RectangularWindows.scale"><code class="docutils literal notranslate"><span class="pre">scale()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RectangularWindows.shift_horizontally"><code class="docutils literal notranslate"><span class="pre">shift_horizontally()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RectangularWindows.shift_vertically"><code class="docutils literal notranslate"><span class="pre">shift_vertically()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RectangularWindows.split"><code class="docutils literal notranslate"><span class="pre">split()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RectangularWindows.to_detailed_windows"><code class="docutils literal notranslate"><span class="pre">to_detailed_windows()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RectangularWindows.to_dict"><code class="docutils literal notranslate"><span class="pre">to_dict()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RectangularWindows.to_rectangular_windows"><code class="docutils literal notranslate"><span class="pre">to_rectangular_windows()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RectangularWindows.trim"><code class="docutils literal notranslate"><span class="pre">trim()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RectangularWindows.are_doors"><code class="docutils literal notranslate"><span class="pre">are_doors</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RectangularWindows.heights"><code class="docutils literal notranslate"><span class="pre">heights</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RectangularWindows.origins"><code class="docutils literal notranslate"><span class="pre">origins</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RectangularWindows.user_data"><code class="docutils literal notranslate"><span class="pre">user_data</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RectangularWindows.widths"><code class="docutils literal notranslate"><span class="pre">widths</span></code></a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RepeatingWindowRatio"><code class="docutils literal notranslate"><span class="pre">RepeatingWindowRatio</span></code></a><ul>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RepeatingWindowRatio.ToString"><code class="docutils literal notranslate"><span class="pre">ToString()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RepeatingWindowRatio.add_window_to_face"><code class="docutils literal notranslate"><span class="pre">add_window_to_face()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RepeatingWindowRatio.area_from_segment"><code class="docutils literal notranslate"><span class="pre">area_from_segment()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RepeatingWindowRatio.duplicate"><code class="docutils literal notranslate"><span class="pre">duplicate()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RepeatingWindowRatio.from_dict"><code class="docutils literal notranslate"><span class="pre">from_dict()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RepeatingWindowRatio.merge"><code class="docutils literal notranslate"><span class="pre">merge()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RepeatingWindowRatio.merge_to_rectangular"><code class="docutils literal notranslate"><span class="pre">merge_to_rectangular()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RepeatingWindowRatio.scale"><code class="docutils literal notranslate"><span class="pre">scale()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RepeatingWindowRatio.split"><code class="docutils literal notranslate"><span class="pre">split()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RepeatingWindowRatio.to_dict"><code class="docutils literal notranslate"><span class="pre">to_dict()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RepeatingWindowRatio.to_rectangular_windows"><code class="docutils literal notranslate"><span class="pre">to_rectangular_windows()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RepeatingWindowRatio.trim"><code class="docutils literal notranslate"><span class="pre">trim()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RepeatingWindowRatio.horizontal_separation"><code class="docutils literal notranslate"><span class="pre">horizontal_separation</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RepeatingWindowRatio.rect_split"><code class="docutils literal notranslate"><span class="pre">rect_split</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RepeatingWindowRatio.sill_height"><code class="docutils literal notranslate"><span class="pre">sill_height</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RepeatingWindowRatio.user_data"><code class="docutils literal notranslate"><span class="pre">user_data</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RepeatingWindowRatio.vertical_separation"><code class="docutils literal notranslate"><span class="pre">vertical_separation</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RepeatingWindowRatio.window_height"><code class="docutils literal notranslate"><span class="pre">window_height</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RepeatingWindowRatio.window_ratio"><code class="docutils literal notranslate"><span class="pre">window_ratio</span></code></a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RepeatingWindowWidthHeight"><code class="docutils literal notranslate"><span class="pre">RepeatingWindowWidthHeight</span></code></a><ul>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RepeatingWindowWidthHeight.ToString"><code class="docutils literal notranslate"><span class="pre">ToString()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RepeatingWindowWidthHeight.add_window_to_face"><code class="docutils literal notranslate"><span class="pre">add_window_to_face()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RepeatingWindowWidthHeight.area_from_segment"><code class="docutils literal notranslate"><span class="pre">area_from_segment()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RepeatingWindowWidthHeight.duplicate"><code class="docutils literal notranslate"><span class="pre">duplicate()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RepeatingWindowWidthHeight.from_dict"><code class="docutils literal notranslate"><span class="pre">from_dict()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RepeatingWindowWidthHeight.merge"><code class="docutils literal notranslate"><span class="pre">merge()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RepeatingWindowWidthHeight.merge_to_rectangular"><code class="docutils literal notranslate"><span class="pre">merge_to_rectangular()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RepeatingWindowWidthHeight.scale"><code class="docutils literal notranslate"><span class="pre">scale()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RepeatingWindowWidthHeight.split"><code class="docutils literal notranslate"><span class="pre">split()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RepeatingWindowWidthHeight.to_dict"><code class="docutils literal notranslate"><span class="pre">to_dict()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RepeatingWindowWidthHeight.to_rectangular_windows"><code class="docutils literal notranslate"><span class="pre">to_rectangular_windows()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RepeatingWindowWidthHeight.trim"><code class="docutils literal notranslate"><span class="pre">trim()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RepeatingWindowWidthHeight.horizontal_separation"><code class="docutils literal notranslate"><span class="pre">horizontal_separation</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RepeatingWindowWidthHeight.sill_height"><code class="docutils literal notranslate"><span class="pre">sill_height</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RepeatingWindowWidthHeight.user_data"><code class="docutils literal notranslate"><span class="pre">user_data</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RepeatingWindowWidthHeight.window_height"><code class="docutils literal notranslate"><span class="pre">window_height</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.RepeatingWindowWidthHeight.window_width"><code class="docutils literal notranslate"><span class="pre">window_width</span></code></a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.SimpleWindowArea"><code class="docutils literal notranslate"><span class="pre">SimpleWindowArea</span></code></a><ul>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.SimpleWindowArea.ToString"><code class="docutils literal notranslate"><span class="pre">ToString()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.SimpleWindowArea.add_window_to_face"><code class="docutils literal notranslate"><span class="pre">add_window_to_face()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.SimpleWindowArea.area_from_segment"><code class="docutils literal notranslate"><span class="pre">area_from_segment()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.SimpleWindowArea.duplicate"><code class="docutils literal notranslate"><span class="pre">duplicate()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.SimpleWindowArea.from_dict"><code class="docutils literal notranslate"><span class="pre">from_dict()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.SimpleWindowArea.merge"><code class="docutils literal notranslate"><span class="pre">merge()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.SimpleWindowArea.merge_to_rectangular"><code class="docutils literal notranslate"><span class="pre">merge_to_rectangular()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.SimpleWindowArea.scale"><code class="docutils literal notranslate"><span class="pre">scale()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.SimpleWindowArea.split"><code class="docutils literal notranslate"><span class="pre">split()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.SimpleWindowArea.to_dict"><code class="docutils literal notranslate"><span class="pre">to_dict()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.SimpleWindowArea.to_rectangular_windows"><code class="docutils literal notranslate"><span class="pre">to_rectangular_windows()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.SimpleWindowArea.trim"><code class="docutils literal notranslate"><span class="pre">trim()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.SimpleWindowArea.rect_split"><code class="docutils literal notranslate"><span class="pre">rect_split</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.SimpleWindowArea.user_data"><code class="docutils literal notranslate"><span class="pre">user_data</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.SimpleWindowArea.window_area"><code class="docutils literal notranslate"><span class="pre">window_area</span></code></a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.SimpleWindowRatio"><code class="docutils literal notranslate"><span class="pre">SimpleWindowRatio</span></code></a><ul>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.SimpleWindowRatio.ToString"><code class="docutils literal notranslate"><span class="pre">ToString()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.SimpleWindowRatio.add_window_to_face"><code class="docutils literal notranslate"><span class="pre">add_window_to_face()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.SimpleWindowRatio.area_from_segment"><code class="docutils literal notranslate"><span class="pre">area_from_segment()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.SimpleWindowRatio.duplicate"><code class="docutils literal notranslate"><span class="pre">duplicate()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.SimpleWindowRatio.from_dict"><code class="docutils literal notranslate"><span class="pre">from_dict()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.SimpleWindowRatio.merge"><code class="docutils literal notranslate"><span class="pre">merge()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.SimpleWindowRatio.merge_to_rectangular"><code class="docutils literal notranslate"><span class="pre">merge_to_rectangular()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.SimpleWindowRatio.scale"><code class="docutils literal notranslate"><span class="pre">scale()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.SimpleWindowRatio.split"><code class="docutils literal notranslate"><span class="pre">split()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.SimpleWindowRatio.to_dict"><code class="docutils literal notranslate"><span class="pre">to_dict()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.SimpleWindowRatio.to_rectangular_windows"><code class="docutils literal notranslate"><span class="pre">to_rectangular_windows()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.SimpleWindowRatio.trim"><code class="docutils literal notranslate"><span class="pre">trim()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.SimpleWindowRatio.rect_split"><code class="docutils literal notranslate"><span class="pre">rect_split</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.SimpleWindowRatio.user_data"><code class="docutils literal notranslate"><span class="pre">user_data</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.SimpleWindowRatio.window_ratio"><code class="docutils literal notranslate"><span class="pre">window_ratio</span></code></a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.SingleWindow"><code class="docutils literal notranslate"><span class="pre">SingleWindow</span></code></a><ul>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.SingleWindow.ToString"><code class="docutils literal notranslate"><span class="pre">ToString()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.SingleWindow.add_window_to_face"><code class="docutils literal notranslate"><span class="pre">add_window_to_face()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.SingleWindow.area_from_segment"><code class="docutils literal notranslate"><span class="pre">area_from_segment()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.SingleWindow.duplicate"><code class="docutils literal notranslate"><span class="pre">duplicate()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.SingleWindow.from_dict"><code class="docutils literal notranslate"><span class="pre">from_dict()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.SingleWindow.merge"><code class="docutils literal notranslate"><span class="pre">merge()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.SingleWindow.merge_to_rectangular"><code class="docutils literal notranslate"><span class="pre">merge_to_rectangular()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.SingleWindow.scale"><code class="docutils literal notranslate"><span class="pre">scale()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.SingleWindow.split"><code class="docutils literal notranslate"><span class="pre">split()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.SingleWindow.to_dict"><code class="docutils literal notranslate"><span class="pre">to_dict()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.SingleWindow.to_rectangular_windows"><code class="docutils literal notranslate"><span class="pre">to_rectangular_windows()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.SingleWindow.trim"><code class="docutils literal notranslate"><span class="pre">trim()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.SingleWindow.height"><code class="docutils literal notranslate"><span class="pre">height</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.SingleWindow.sill_height"><code class="docutils literal notranslate"><span class="pre">sill_height</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.SingleWindow.user_data"><code class="docutils literal notranslate"><span class="pre">user_data</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../dragonfly.windowparameter.html#dragonfly.windowparameter.SingleWindow.width"><code class="docutils literal notranslate"><span class="pre">width</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../dragonfly.html#module-dragonfly">Module contents</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li class="toctree-l1"><a class="reference internal" href="../../cli/index.html">CLI Docs</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../modules.html">dragonfly</a></li>
</ul>
</ul>
</li>
              
            
            
              
                
              
            
            
            
            
              <li class="hidden-sm"></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
      <div class="col-md-4">
        <div id="sidebar" class="bs-sidenav" role="complementary"><ul>
<li class="toctree-l1"><a class="reference internal" href="../../cli/index.html">CLI Docs</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../modules.html">dragonfly</a></li>
</ul>

        </div>
      </div>
    <div class="body col-md-8 content" role="main">
      
  <h1>Source code for dragonfly.roof</h1><div class="highlight"><pre>
<span></span><span class="c1"># coding: utf-8</span>
<span class="sd">&quot;&quot;&quot;Roof specification with instructions for generating sloped roofs over a Story.&quot;&quot;&quot;</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">__future__</span><span class="w"> </span><span class="kn">import</span> <span class="n">division</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">math</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">ladybug_geometry.geometry2d</span><span class="w"> </span><span class="kn">import</span> <span class="n">Vector2D</span><span class="p">,</span> <span class="n">Point2D</span><span class="p">,</span> <span class="n">Ray2D</span><span class="p">,</span> <span class="n">LineSegment2D</span><span class="p">,</span> \
    <span class="n">Polyline2D</span><span class="p">,</span> <span class="n">Polygon2D</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">ladybug_geometry.geometry3d</span><span class="w"> </span><span class="kn">import</span> <span class="n">Vector3D</span><span class="p">,</span> <span class="n">Point3D</span><span class="p">,</span> <span class="n">LineSegment3D</span><span class="p">,</span> \
    <span class="n">Plane</span><span class="p">,</span> <span class="n">Polyline3D</span><span class="p">,</span> <span class="n">Face3D</span><span class="p">,</span> <span class="n">Mesh3D</span><span class="p">,</span> <span class="n">Polyface3D</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">ladybug_geometry.intersection2d</span><span class="w"> </span><span class="kn">import</span> <span class="n">closest_point2d_on_line2d</span><span class="p">,</span> \
    <span class="n">closest_point2d_on_line2d_infinite</span>


<div class="viewcode-block" id="RoofSpecification">
<a class="viewcode-back" href="../../dragonfly.roof.html#dragonfly.roof.RoofSpecification">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">RoofSpecification</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A roof specification with instructions for generating sloped roofs over a Story.</span>

<span class="sd">    Args:</span>
<span class="sd">        geometry: An array of Face3D objects representing the geometry of the Roof.</span>
<span class="sd">            Cases where Room2Ds are only partially covered by these roof geometries</span>
<span class="sd">            will result in those portions of the Room2Ds being extruded to their</span>
<span class="sd">            floor_to_ceiling_height.</span>

<span class="sd">    Properties:</span>
<span class="sd">        * geometry</span>
<span class="sd">        * geometry_2d</span>
<span class="sd">        * boundary_geometry_2d</span>
<span class="sd">        * planes</span>
<span class="sd">        * parent</span>
<span class="sd">        * has_parent</span>
<span class="sd">        * min</span>
<span class="sd">        * max</span>
<span class="sd">        * min_height</span>
<span class="sd">        * max_height</span>
<span class="sd">        * center_heights</span>
<span class="sd">        * azimuths</span>
<span class="sd">        * altitudes</span>
<span class="sd">        * tilts</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="vm">__slots__</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;_geometry&#39;</span><span class="p">,</span> <span class="s1">&#39;_parent&#39;</span><span class="p">,</span> <span class="s1">&#39;_is_resolved&#39;</span><span class="p">)</span>
    <span class="n">_ANG_TOL</span> <span class="o">=</span> <span class="mf">0.0174533</span>  <span class="c1"># angle tolerance in radians for determining X or Y alignment</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">geometry</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize RoofSpecification.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">geometry</span> <span class="o">=</span> <span class="n">geometry</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_parent</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># will be set when RoofSpecification is added to a Story</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_is_resolved</span> <span class="o">=</span> <span class="kc">False</span>  <span class="c1"># will be set during the serialization process</span>

<div class="viewcode-block" id="RoofSpecification.from_geometry_to_join">
<a class="viewcode-back" href="../../dragonfly.roof.html#dragonfly.roof.RoofSpecification.from_geometry_to_join">[docs]</a>
    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">from_geometry_to_join</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">geometry</span><span class="p">,</span> <span class="n">tolerance</span><span class="o">=</span><span class="mf">0.01</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize RoofSpecification from an array of Face3D to be joined together.</span>

<span class="sd">        When using this classmethod, Face3D that are coplanar and touching within</span>
<span class="sd">        the tolerance will be joined together in the returned RoofSpecification</span>
<span class="sd">        object. This makes this classmethod particularly useful when trying to</span>
<span class="sd">        create roofs from honeybee models where the contiguous roof geometries</span>
<span class="sd">        are spread across multiple 3D Rooms.</span>

<span class="sd">        Args:</span>
<span class="sd">            geometry: An array of Face3D objects representing the geometry of</span>
<span class="sd">                the Roof.</span>
<span class="sd">            tolerance: The maximum difference between values at which point vertices</span>
<span class="sd">                are considered to be the same. (Default: 0.01,</span>
<span class="sd">                suitable for objects in Meters).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># group the geometries based on their co-planarity</span>
        <span class="n">roof_groups</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">geo</span> <span class="ow">in</span> <span class="n">geometry</span><span class="p">:</span>
            <span class="n">is_grouped</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="k">for</span> <span class="n">r_grp</span> <span class="ow">in</span> <span class="n">roof_groups</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">rg</span> <span class="ow">in</span> <span class="n">r_grp</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">geo</span><span class="o">.</span><span class="n">is_coplanar</span><span class="p">(</span><span class="n">rg</span><span class="p">,</span> <span class="n">tolerance</span><span class="p">):</span>
                        <span class="n">r_grp</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">geo</span><span class="p">)</span>
                        <span class="n">is_grouped</span> <span class="o">=</span> <span class="kc">True</span>
                        <span class="k">break</span>
                <span class="k">if</span> <span class="n">is_grouped</span><span class="p">:</span>
                    <span class="k">break</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">roof_groups</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">geo</span><span class="p">])</span>

        <span class="c1"># join the coplanar faces together</span>
        <span class="n">all_geos</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">r_grp</span> <span class="ow">in</span> <span class="n">roof_groups</span><span class="p">:</span>
            <span class="c1"># remove colinear vertices and degenerate geometries</span>
            <span class="n">clean_geos</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">geo</span> <span class="ow">in</span> <span class="n">r_grp</span><span class="p">:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">clean_geo</span> <span class="o">=</span> <span class="n">geo</span><span class="o">.</span><span class="n">remove_colinear_vertices</span><span class="p">(</span><span class="n">tolerance</span><span class="p">)</span>
                    <span class="k">if</span> <span class="n">clean_geo</span><span class="o">.</span><span class="n">normal</span><span class="o">.</span><span class="n">z</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
                        <span class="n">clean_geo</span> <span class="o">=</span> <span class="n">clean_geo</span><span class="o">.</span><span class="n">flip</span><span class="p">()</span>
                    <span class="n">clean_geos</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">clean_geo</span><span class="p">)</span>
                <span class="k">except</span> <span class="ne">AssertionError</span><span class="p">:</span>  <span class="c1"># degenerate geometry to ignore</span>
                    <span class="k">pass</span>

            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">clean_geos</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">continue</span>
            <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">clean_geos</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                <span class="n">final_faces</span> <span class="o">=</span> <span class="n">clean_geos</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c1"># convert the floor Face3Ds into counterclockwise Polygon2Ds</span>
                <span class="n">roof_polys</span> <span class="o">=</span> <span class="p">[]</span>
                <span class="k">for</span> <span class="n">rf_geo</span> <span class="ow">in</span> <span class="n">clean_geos</span><span class="p">:</span>
                    <span class="n">b_poly</span> <span class="o">=</span> <span class="n">Polygon2D</span><span class="p">([</span><span class="n">Point2D</span><span class="p">(</span><span class="n">pt</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">pt</span><span class="o">.</span><span class="n">y</span><span class="p">)</span> <span class="k">for</span> <span class="n">pt</span> <span class="ow">in</span> <span class="n">rf_geo</span><span class="o">.</span><span class="n">boundary</span><span class="p">])</span>
                    <span class="n">roof_polys</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">b_poly</span><span class="p">)</span>
                    <span class="k">if</span> <span class="n">rf_geo</span><span class="o">.</span><span class="n">has_holes</span><span class="p">:</span>
                        <span class="k">for</span> <span class="n">hole</span> <span class="ow">in</span> <span class="n">rf_geo</span><span class="o">.</span><span class="n">holes</span><span class="p">:</span>
                            <span class="n">h_poly</span> <span class="o">=</span> <span class="n">Polygon2D</span><span class="p">([</span><span class="n">Point2D</span><span class="p">(</span><span class="n">pt</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">pt</span><span class="o">.</span><span class="n">y</span><span class="p">)</span> <span class="k">for</span> <span class="n">pt</span> <span class="ow">in</span> <span class="n">hole</span><span class="p">])</span>
                            <span class="n">roof_polys</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">h_poly</span><span class="p">)</span>

                <span class="c1"># get the boundary around all of the polygons</span>
                <span class="n">rf_polys2d</span> <span class="o">=</span> <span class="n">Polygon2D</span><span class="o">.</span><span class="n">joined_intersected_boundary</span><span class="p">(</span><span class="n">roof_polys</span><span class="p">,</span> <span class="n">tolerance</span><span class="p">)</span>
                <span class="c1"># remove colinear vertices from the resulting polygons</span>
                <span class="n">clean_polys</span> <span class="o">=</span> <span class="p">[]</span>
                <span class="k">for</span> <span class="n">poly</span> <span class="ow">in</span> <span class="n">rf_polys2d</span><span class="p">:</span>
                    <span class="k">try</span><span class="p">:</span>
                        <span class="n">clean_polys</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">poly</span><span class="o">.</span><span class="n">remove_colinear_vertices</span><span class="p">(</span><span class="n">tolerance</span><span class="p">))</span>
                    <span class="k">except</span> <span class="ne">AssertionError</span><span class="p">:</span>
                        <span class="k">pass</span>  <span class="c1"># degenerate polygon to ignore</span>

                <span class="c1"># construct the final projected faces</span>
                <span class="n">final_faces</span> <span class="o">=</span> <span class="p">[]</span>
                <span class="n">r_pln_normal</span> <span class="o">=</span> <span class="n">clean_geos</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">normal</span>
                <span class="k">for</span> <span class="n">geo</span> <span class="ow">in</span> <span class="n">clean_geos</span><span class="p">[</span><span class="mi">1</span><span class="p">:]:</span>
                    <span class="n">r_pln_normal</span> <span class="o">+=</span> <span class="n">geo</span><span class="o">.</span><span class="n">normal</span>
                <span class="n">r_pln</span> <span class="o">=</span> <span class="n">Plane</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="n">r_pln_normal</span><span class="p">,</span> <span class="n">o</span><span class="o">=</span><span class="n">clean_geos</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">plane</span><span class="o">.</span><span class="n">o</span><span class="p">)</span>
                <span class="n">proj_dir</span> <span class="o">=</span> <span class="n">Vector3D</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">clean_polys</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="k">continue</span>
                <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">clean_polys</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>  <span class="c1"># can be represented with a single Face3D</span>
                    <span class="n">pts3d</span> <span class="o">=</span> <span class="p">[</span><span class="n">r_pln</span><span class="o">.</span><span class="n">project_point</span><span class="p">(</span><span class="n">Point3D</span><span class="p">(</span><span class="n">pt</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">pt</span><span class="o">.</span><span class="n">y</span><span class="p">),</span> <span class="n">proj_dir</span><span class="p">)</span>
                             <span class="k">for</span> <span class="n">pt</span> <span class="ow">in</span> <span class="n">clean_polys</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span>
                    <span class="n">final_faces</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Face3D</span><span class="p">(</span><span class="n">pts3d</span><span class="p">,</span> <span class="n">plane</span><span class="o">=</span><span class="n">r_pln</span><span class="p">))</span>
                <span class="k">else</span><span class="p">:</span>  <span class="c1"># need to separate holes from distinct Face3Ds</span>
                    <span class="n">bound_faces</span> <span class="o">=</span> <span class="p">[]</span>
                    <span class="k">for</span> <span class="n">poly</span> <span class="ow">in</span> <span class="n">clean_polys</span><span class="p">:</span>
                        <span class="n">pts3d</span> <span class="o">=</span> <span class="p">[</span><span class="n">r_pln</span><span class="o">.</span><span class="n">project_point</span><span class="p">(</span><span class="n">Point3D</span><span class="p">(</span><span class="n">pt</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">pt</span><span class="o">.</span><span class="n">y</span><span class="p">),</span> <span class="n">proj_dir</span><span class="p">)</span>
                                 <span class="k">for</span> <span class="n">pt</span> <span class="ow">in</span> <span class="n">poly</span><span class="p">]</span>
                        <span class="n">bound_faces</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Face3D</span><span class="p">(</span><span class="n">pts3d</span><span class="p">,</span> <span class="n">plane</span><span class="o">=</span><span class="n">r_pln</span><span class="p">))</span>
                    <span class="n">merged_faces</span> <span class="o">=</span> <span class="n">Face3D</span><span class="o">.</span><span class="n">merge_faces_to_holes</span><span class="p">(</span><span class="n">bound_faces</span><span class="p">,</span> <span class="n">tolerance</span><span class="p">)</span>
                    <span class="n">final_faces</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">merged_faces</span><span class="p">)</span>
            <span class="n">all_geos</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">final_faces</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="n">all_geos</span><span class="p">)</span></div>


<div class="viewcode-block" id="RoofSpecification.from_dict">
<a class="viewcode-back" href="../../dragonfly.roof.html#dragonfly.roof.RoofSpecification.from_dict">[docs]</a>
    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">from_dict</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">tolerance</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize RoofSpecification from a dictionary.</span>

<span class="sd">        Args:</span>
<span class="sd">            data: A dictionary representation of an RoofSpecification object.</span>
<span class="sd">            tolerance: The maximum difference between z values at which point vertices</span>
<span class="sd">                are considered equivalent. This is used to triangulate non-planar</span>
<span class="sd">                mesh quads if they are found in the geometry. Default is 0, which</span>
<span class="sd">                will not perform any check.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># check the type of dictionary</span>
        <span class="k">assert</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;RoofSpecification&#39;</span><span class="p">,</span> <span class="s1">&#39;Expected RoofSpecification &#39;</span> \
            <span class="s1">&#39;dictionary. Got </span><span class="si">{}</span><span class="s1">.&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">])</span>
        <span class="n">geometry</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">rf_geo</span> <span class="ow">in</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;geometry&#39;</span><span class="p">]:</span>
            <span class="k">if</span> <span class="n">rf_geo</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;Face3D&#39;</span><span class="p">:</span>
                <span class="n">geometry</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Face3D</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span><span class="n">rf_geo</span><span class="p">))</span>
            <span class="k">else</span><span class="p">:</span>  <span class="c1"># it is a Mesh3D</span>
                <span class="n">mesh</span> <span class="o">=</span> <span class="n">Mesh3D</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span><span class="n">rf_geo</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">face_pts</span> <span class="ow">in</span> <span class="n">mesh</span><span class="o">.</span><span class="n">face_vertices</span><span class="p">:</span>
                    <span class="n">geo</span> <span class="o">=</span> <span class="n">Face3D</span><span class="p">(</span><span class="n">face_pts</span><span class="p">)</span>
                    <span class="k">if</span> <span class="n">tolerance</span> <span class="o">!=</span> <span class="mi">0</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">geo</span><span class="o">.</span><span class="n">vertices</span><span class="p">)</span> <span class="o">==</span> <span class="mi">4</span> <span class="ow">and</span> <span class="ow">not</span> \
                            <span class="n">geo</span><span class="o">.</span><span class="n">check_planar</span><span class="p">(</span><span class="n">tolerance</span><span class="p">,</span> <span class="kc">False</span><span class="p">):</span>
                        <span class="n">geometry</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Face3D</span><span class="p">((</span><span class="n">geo</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">geo</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">geo</span><span class="p">[</span><span class="mi">2</span><span class="p">])))</span>
                        <span class="n">geometry</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Face3D</span><span class="p">((</span><span class="n">geo</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">geo</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">geo</span><span class="p">[</span><span class="mi">0</span><span class="p">])))</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">geometry</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">geo</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="n">geometry</span><span class="p">)</span></div>


    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">geometry</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get or set a tuple of Face3D objects representing the geometry of the Roof.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_geometry</span>

    <span class="nd">@geometry</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">geometry</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">):</span>
            <span class="n">value</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;RoofSpecification must have at least one Face3D.&#39;</span>
        <span class="k">for</span> <span class="n">geo</span> <span class="ow">in</span> <span class="n">value</span><span class="p">:</span>
            <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">geo</span><span class="p">,</span> <span class="n">Face3D</span><span class="p">),</span> \
                <span class="s1">&#39;Expected Face3D for RoofSpecification. Got </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">geo</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_geometry</span> <span class="o">=</span> <span class="n">value</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">geometry_2d</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a tuple of tuples where each sub-tuple has Polygon2Ds for each geometry.</span>

<span class="sd">        There is one sub-tuple for each Face3D in this RoofSpecification. The first</span>
<span class="sd">        Polygon2D always represents the boundary around the Face3D and any</span>
<span class="sd">        subsequent Polygon2Ds represent holes that may be in the Face3D.</span>
<span class="sd">        All polygons will be in the World XY coordinate system instead of the</span>
<span class="sd">        coordinate system of the Face3D&#39;s plane.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">geo_2d</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">geo</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_geometry</span><span class="p">:</span>
            <span class="n">polys</span> <span class="o">=</span> <span class="p">[</span><span class="n">Polygon2D</span><span class="p">(</span><span class="nb">tuple</span><span class="p">(</span><span class="n">Point2D</span><span class="p">(</span><span class="n">pt</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">pt</span><span class="o">.</span><span class="n">y</span><span class="p">)</span> <span class="k">for</span> <span class="n">pt</span> <span class="ow">in</span> <span class="n">geo</span><span class="o">.</span><span class="n">boundary</span><span class="p">))]</span>
            <span class="k">if</span> <span class="n">geo</span><span class="o">.</span><span class="n">has_holes</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">hole</span> <span class="ow">in</span> <span class="n">geo</span><span class="o">.</span><span class="n">holes</span><span class="p">:</span>
                    <span class="n">polys</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Polygon2D</span><span class="p">(</span><span class="nb">tuple</span><span class="p">(</span><span class="n">Point2D</span><span class="p">(</span><span class="n">pt</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">pt</span><span class="o">.</span><span class="n">y</span><span class="p">)</span> <span class="k">for</span> <span class="n">pt</span> <span class="ow">in</span> <span class="n">hole</span><span class="p">)))</span>
            <span class="n">geo_2d</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">polys</span><span class="p">)</span>
        <span class="k">return</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">geo_2d</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">boundary_geometry_2d</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a tuple of Polygon2D for the boundaries around each Face3D in geometry.</span>

<span class="sd">        These polygons will be in the World XY coordinate system instead of the</span>
<span class="sd">        coordinate system of the Face3D&#39;s plane.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">tuple</span><span class="p">(</span>
            <span class="n">Polygon2D</span><span class="p">(</span><span class="nb">tuple</span><span class="p">(</span><span class="n">Point2D</span><span class="p">(</span><span class="n">pt</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">pt</span><span class="o">.</span><span class="n">y</span><span class="p">)</span> <span class="k">for</span> <span class="n">pt</span> <span class="ow">in</span> <span class="n">geo</span><span class="o">.</span><span class="n">boundary</span><span class="p">))</span>
            <span class="k">for</span> <span class="n">geo</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_geometry</span>
        <span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">planes</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a tuple of Planes for each Face3D in geometry.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">geo</span><span class="o">.</span><span class="n">plane</span> <span class="k">for</span> <span class="n">geo</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_geometry</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">parent</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Parent Story if assigned. None if not assigned.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parent</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">has_parent</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Boolean noting whether this RoofSpecification has a parent Story.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parent</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">min</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a Point2D for the min bounding rectangle vertex in the XY plane.</span>

<span class="sd">        This is useful in calculations to determine if this RoofSpecification is in</span>
<span class="sd">        proximity to other objects.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_calculate_min</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_geometry</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">max</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a Point2D for the max bounding rectangle vertex in the XY plane.</span>

<span class="sd">        This is useful in calculations to determine if this RoofSpecification is in</span>
<span class="sd">        proximity to other objects.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_calculate_max</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_geometry</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">min_height</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get lowest Z-value of the roof geometry.&quot;&quot;&quot;</span>
        <span class="n">min_z</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_geometry</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">min</span><span class="o">.</span><span class="n">z</span>
        <span class="k">for</span> <span class="n">r_geo</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_geometry</span><span class="p">[</span><span class="mi">1</span><span class="p">:]:</span>
            <span class="k">if</span> <span class="n">r_geo</span><span class="o">.</span><span class="n">min</span><span class="o">.</span><span class="n">z</span> <span class="o">&lt;</span> <span class="n">min_z</span><span class="p">:</span>
                <span class="n">min_z</span> <span class="o">=</span> <span class="n">r_geo</span><span class="o">.</span><span class="n">min</span><span class="o">.</span><span class="n">z</span>
        <span class="k">return</span> <span class="n">min_z</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">max_height</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get highest Z-value of the roof geometry.&quot;&quot;&quot;</span>
        <span class="n">max_z</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_geometry</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="o">.</span><span class="n">z</span>
        <span class="k">for</span> <span class="n">r_geo</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_geometry</span><span class="p">[</span><span class="mi">1</span><span class="p">:]:</span>
            <span class="k">if</span> <span class="n">r_geo</span><span class="o">.</span><span class="n">max</span><span class="o">.</span><span class="n">z</span> <span class="o">&gt;</span> <span class="n">max_z</span><span class="p">:</span>
                <span class="n">max_z</span> <span class="o">=</span> <span class="n">r_geo</span><span class="o">.</span><span class="n">max</span><span class="o">.</span><span class="n">z</span>
        <span class="k">return</span> <span class="n">max_z</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">center_heights</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a tuple of average Z-values for each roof geometry.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">r_geo</span><span class="o">.</span><span class="n">center</span><span class="o">.</span><span class="n">z</span> <span class="k">for</span> <span class="n">r_geo</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_geometry</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">azimuths</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a tuple of azimuths for each roof geometry in degrees.</span>

<span class="sd">        These values start from 0, indicating the positive Y-axis, and move clockwise</span>
<span class="sd">        up to 360, which indicates a return to the positive Y-axis.</span>

<span class="sd">        This will be zero if a geometry is perfectly horizontal.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">azimuths</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">r_geo</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_geometry</span><span class="p">:</span>
            <span class="n">r_geo</span> <span class="o">=</span> <span class="n">r_geo</span> <span class="k">if</span> <span class="n">r_geo</span><span class="o">.</span><span class="n">normal</span><span class="o">.</span><span class="n">z</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="k">else</span> <span class="n">r_geo</span><span class="o">.</span><span class="n">flip</span><span class="p">()</span>
            <span class="n">azimuths</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">degrees</span><span class="p">(</span><span class="n">r_geo</span><span class="o">.</span><span class="n">azimuth</span><span class="p">))</span>
        <span class="k">return</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">azimuths</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">altitudes</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a tuple of altitudes for each roof geometry in degrees.</span>

<span class="sd">        These values range from 0 (vertical) up to 90 (horizontal).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">tuple</span><span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">degrees</span><span class="p">(</span><span class="n">r_geo</span><span class="o">.</span><span class="n">altitude</span><span class="p">))</span> <span class="k">for</span> <span class="n">r_geo</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_geometry</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">tilts</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a tuple of tilts for each roof geometry in degrees.</span>

<span class="sd">        These values range from 0 (horizontal) up to 90 (vertical).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">tuple</span><span class="p">(</span><span class="mi">90</span> <span class="o">-</span> <span class="n">alt</span> <span class="k">for</span> <span class="n">alt</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">altitudes</span><span class="p">)</span>

<div class="viewcode-block" id="RoofSpecification.union_coplanar">
<a class="viewcode-back" href="../../dragonfly.roof.html#dragonfly.roof.RoofSpecification.union_coplanar">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">union_coplanar</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tolerance</span><span class="o">=</span><span class="mf">0.01</span><span class="p">,</span> <span class="n">angle_tolerance</span><span class="o">=</span><span class="mf">1.0</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Union coplanar and overlapping geometries on this Roof together.</span>

<span class="sd">        This is useful for removing duplicated roof geometries that would</span>
<span class="sd">        otherwise slow down the translation process and potentially create</span>
<span class="sd">        unwanted results.</span>

<span class="sd">        Args:</span>
<span class="sd">            tolerance: The minimum distance between two roof geometries at which</span>
<span class="sd">                point they will be unioned together. (Default: 0.01, suitable</span>
<span class="sd">                for objects in meters).</span>
<span class="sd">            angle_tolerance: The max angle difference in degrees that planes</span>
<span class="sd">                can differ from one another for them to be considered</span>
<span class="sd">                coplanar. (Default: 1.0).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># remove colinear vertices from all roof geometries</span>
        <span class="n">roof_geo</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">geo</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">geometry</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">roof_geo</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">geo</span><span class="o">.</span><span class="n">remove_colinear_vertices</span><span class="p">(</span><span class="n">tolerance</span><span class="p">))</span>
            <span class="k">except</span> <span class="ne">AssertionError</span><span class="p">:</span>  <span class="c1"># degenerate geometry to ignore</span>
                <span class="k">pass</span>

        <span class="c1"># group the roof geometries by the same plane</span>
        <span class="n">a_tol</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">radians</span><span class="p">(</span><span class="n">angle_tolerance</span><span class="p">)</span>
        <span class="n">tol</span> <span class="o">=</span> <span class="n">tolerance</span>
        <span class="n">plane_dict</span> <span class="o">=</span> <span class="p">{</span><span class="n">roof_geo</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">plane</span><span class="p">:</span> <span class="p">[</span><span class="n">roof_geo</span><span class="p">[</span><span class="mi">0</span><span class="p">]]}</span>
        <span class="k">for</span> <span class="n">face</span> <span class="ow">in</span> <span class="n">roof_geo</span><span class="p">[</span><span class="mi">1</span><span class="p">:]:</span>
            <span class="k">for</span> <span class="n">test_plane</span> <span class="ow">in</span> <span class="n">plane_dict</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">test_plane</span><span class="o">.</span><span class="n">is_coplanar_tolerance</span><span class="p">(</span><span class="n">face</span><span class="o">.</span><span class="n">plane</span><span class="p">,</span> <span class="n">tol</span><span class="p">,</span> <span class="n">a_tol</span><span class="p">):</span>
                    <span class="n">plane_dict</span><span class="p">[</span><span class="n">test_plane</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">face</span><span class="p">)</span>
                    <span class="k">break</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">plane_dict</span><span class="p">[</span><span class="n">face</span><span class="o">.</span><span class="n">plane</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">face</span><span class="p">]</span>

        <span class="c1"># group the geometries by overlap</span>
        <span class="n">overlap_groups</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">pl_group</span> <span class="ow">in</span> <span class="n">plane_dict</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">pl_group</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                <span class="n">overlap_groups</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pl_group</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">overlap_groups</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">Face3D</span><span class="o">.</span><span class="n">group_by_coplanar_overlap</span><span class="p">(</span><span class="n">pl_group</span><span class="p">,</span> <span class="n">tol</span><span class="p">))</span>

        <span class="c1"># union the overlapping groups together</span>
        <span class="n">clean_geo</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">o_group</span> <span class="ow">in</span> <span class="n">overlap_groups</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">o_group</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                <span class="n">clean_geo</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">o_group</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">union_geo</span> <span class="o">=</span> <span class="n">Face3D</span><span class="o">.</span><span class="n">coplanar_union_all</span><span class="p">(</span><span class="n">o_group</span><span class="p">,</span> <span class="n">tol</span><span class="p">,</span> <span class="n">a_tol</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">union_geo</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="n">clean_geo</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">union_geo</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">clean_geo</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">o_group</span><span class="p">)</span>

        <span class="c1"># assign the new unioned geometry to this object</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">clean_geo</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_geometry</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">clean_geo</span><span class="p">)</span></div>


<div class="viewcode-block" id="RoofSpecification.resolved_geometry">
<a class="viewcode-back" href="../../dragonfly.roof.html#dragonfly.roof.RoofSpecification.resolved_geometry">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">resolved_geometry</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tolerance</span><span class="o">=</span><span class="mf">0.01</span><span class="p">,</span> <span class="n">split_through_holes</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a version of this object&#39;s geometry with all overlaps in plan resolved.</span>

<span class="sd">        In the case of overlaps, the roof geometry that has the highest average</span>
<span class="sd">        z-value for the overlap will become the &quot;correct&quot; one that actually</span>
<span class="sd">        bounds the room geometry except for the case where the Z domains of the</span>
<span class="sd">        overlapping portions collide with one another.</span>

<span class="sd">        This method can also optionally split any roof geometries with holes such</span>
<span class="sd">        that they can be accurately accounted for in the room volume calculation.</span>

<span class="sd">        Args:</span>
<span class="sd">            tolerance: The minimum distance that two Roof geometries can overlap</span>
<span class="sd">                with one another and still be considered distinct. (Default: 0.01,</span>
<span class="sd">                suitable for objects in meters).</span>
<span class="sd">            split_through_holes: Boolean to note whether roof geometries with holes</span>
<span class="sd">                in them should be split through the holes as part of the resolution</span>
<span class="sd">                process. This is needed to accurately represent these holes in</span>
<span class="sd">                the room volume calculation but may require some extra cleanup</span>
<span class="sd">                in terms of merging coplanar roof faces. (Default: False).</span>

<span class="sd">        Returns:</span>
<span class="sd">            A list of Face3D that have no overlaps in plan.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># if split_through_holes is requested, perform the split</span>
        <span class="k">if</span> <span class="n">split_through_holes</span><span class="p">:</span>
            <span class="n">base_geo</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">geo</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_geometry</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">geo</span><span class="o">.</span><span class="n">has_holes</span><span class="p">:</span>
                    <span class="k">try</span><span class="p">:</span>
                        <span class="n">base_geo</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">geo</span><span class="o">.</span><span class="n">split_through_holes</span><span class="p">())</span>
                    <span class="k">except</span> <span class="ne">AssertionError</span><span class="p">:</span>  <span class="c1"># probably an invalid hole to ignore</span>
                        <span class="n">base_geo</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">geo</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">base_geo</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">geo</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">base_geo</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_geometry</span><span class="p">)</span>

        <span class="c1"># check to see if an overlap is possible</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">base_geo</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">base_geo</span>

        <span class="c1"># convert the roof geometry to 2D</span>
        <span class="n">proj_dir</span> <span class="o">=</span> <span class="n">Vector3D</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">bound_geo</span> <span class="o">=</span> <span class="p">[</span><span class="n">Polygon2D</span><span class="p">(</span><span class="nb">tuple</span><span class="p">(</span><span class="n">Point2D</span><span class="p">(</span><span class="n">pt</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">pt</span><span class="o">.</span><span class="n">y</span><span class="p">)</span> <span class="k">for</span> <span class="n">pt</span> <span class="ow">in</span> <span class="n">geo</span><span class="o">.</span><span class="n">boundary</span><span class="p">))</span>
                     <span class="k">for</span> <span class="n">geo</span> <span class="ow">in</span> <span class="n">base_geo</span><span class="p">]</span>
        <span class="n">bound_planes</span> <span class="o">=</span> <span class="p">[</span><span class="n">geo</span><span class="o">.</span><span class="n">plane</span> <span class="k">for</span> <span class="n">geo</span> <span class="ow">in</span> <span class="n">base_geo</span><span class="p">]</span>
        <span class="n">sort_obj</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">bound_geo</span><span class="p">,</span> <span class="n">bound_planes</span><span class="p">),</span>
                          <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">pair</span><span class="p">:</span> <span class="n">pair</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">area</span><span class="p">,</span> <span class="n">reverse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

        <span class="c1"># remove colinear vertices from all roof polygons</span>
        <span class="n">planes</span><span class="p">,</span> <span class="n">geo_2d</span> <span class="o">=</span> <span class="p">[],</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">geo</span><span class="p">,</span> <span class="n">pl</span> <span class="ow">in</span> <span class="n">sort_obj</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">clean_geo</span> <span class="o">=</span> <span class="n">geo</span><span class="o">.</span><span class="n">remove_colinear_vertices</span><span class="p">(</span><span class="n">tolerance</span><span class="p">)</span>
                <span class="n">geo_2d</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">clean_geo</span><span class="p">)</span>
                <span class="n">planes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pl</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">AssertionError</span><span class="p">:</span>  <span class="c1"># degenerate geometry to ignore</span>
                <span class="k">pass</span>

        <span class="c1"># loop through the geometries and test for any overlaps</span>
        <span class="n">remove_i</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">gei</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">geo_2d</span><span class="p">)))</span>
        <span class="n">overlap_count</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">gei</span><span class="p">:</span>
            <span class="n">poly_1</span> <span class="o">=</span> <span class="n">geo_2d</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
            <span class="n">pln_1</span> <span class="o">=</span> <span class="n">planes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
            <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="n">gei</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">:]:</span>
                <span class="n">poly_2</span> <span class="o">=</span> <span class="n">geo_2d</span><span class="p">[</span><span class="n">j</span><span class="p">]</span>
                <span class="n">pln_2</span> <span class="o">=</span> <span class="n">planes</span><span class="p">[</span><span class="n">j</span><span class="p">]</span>
                <span class="n">poly_relationship</span> <span class="o">=</span> <span class="n">poly_1</span><span class="o">.</span><span class="n">polygon_relationship</span><span class="p">(</span><span class="n">poly_2</span><span class="p">,</span> <span class="n">tolerance</span><span class="p">)</span> \
                    <span class="k">if</span> <span class="n">poly_2</span><span class="o">.</span><span class="n">area</span> <span class="o">&lt;</span> <span class="n">poly_1</span><span class="o">.</span><span class="n">area</span> <span class="k">else</span> \
                    <span class="n">poly_2</span><span class="o">.</span><span class="n">polygon_relationship</span><span class="p">(</span><span class="n">poly_1</span><span class="p">,</span> <span class="n">tolerance</span><span class="p">)</span>
                <span class="n">tol</span> <span class="o">=</span> <span class="n">tolerance</span>  <span class="c1"># temporary tolerance value that may be adjusted</span>
                <span class="k">if</span> <span class="n">poly_relationship</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="c1"># resolve the overlap between the polygons</span>
                    <span class="n">overlap_count</span> <span class="o">+=</span> <span class="mi">1</span>
                    <span class="k">try</span><span class="p">:</span>
                        <span class="n">overlap_polys</span> <span class="o">=</span> <span class="n">poly_1</span><span class="o">.</span><span class="n">boolean_intersect</span><span class="p">(</span><span class="n">poly_2</span><span class="p">,</span> <span class="n">tol</span><span class="p">)</span>
                    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>  <span class="c1"># tolerance is likely not correct</span>
                        <span class="k">try</span><span class="p">:</span>  <span class="c1"># make an attempt at a slightly lower tol</span>
                            <span class="n">tol</span> <span class="o">=</span> <span class="n">tol</span> <span class="o">/</span> <span class="mi">10</span>
                            <span class="n">overlap_polys</span> <span class="o">=</span> <span class="n">poly_1</span><span class="o">.</span><span class="n">boolean_intersect</span><span class="p">(</span><span class="n">poly_1</span><span class="p">,</span> <span class="n">tol</span><span class="p">)</span>
                        <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
                            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Failed to get boolean intersect.</span><span class="se">\n</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">e</span><span class="p">))</span>
                            <span class="k">continue</span>
                    <span class="k">for</span> <span class="n">o_poly</span> <span class="ow">in</span> <span class="n">overlap_polys</span><span class="p">:</span>
                        <span class="n">o_face_1</span><span class="p">,</span> <span class="n">o_face_2</span> <span class="o">=</span> <span class="p">[],</span> <span class="p">[]</span>
                        <span class="k">for</span> <span class="n">pt</span> <span class="ow">in</span> <span class="n">o_poly</span><span class="o">.</span><span class="n">vertices</span><span class="p">:</span>
                            <span class="n">pt1</span> <span class="o">=</span> <span class="n">pln_1</span><span class="o">.</span><span class="n">project_point</span><span class="p">(</span><span class="n">Point3D</span><span class="p">(</span><span class="n">pt</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">pt</span><span class="o">.</span><span class="n">y</span><span class="p">),</span> <span class="n">proj_dir</span><span class="p">)</span>
                            <span class="n">pt2</span> <span class="o">=</span> <span class="n">pln_2</span><span class="o">.</span><span class="n">project_point</span><span class="p">(</span><span class="n">Point3D</span><span class="p">(</span><span class="n">pt</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">pt</span><span class="o">.</span><span class="n">y</span><span class="p">),</span> <span class="n">proj_dir</span><span class="p">)</span>
                            <span class="n">o_face_1</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pt1</span><span class="p">)</span>
                            <span class="n">o_face_2</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pt2</span><span class="p">)</span>
                        <span class="n">o_face_1</span> <span class="o">=</span> <span class="n">Face3D</span><span class="p">(</span><span class="n">o_face_1</span><span class="p">,</span> <span class="n">plane</span><span class="o">=</span><span class="n">pln_1</span><span class="p">)</span>
                        <span class="n">o_face_2</span> <span class="o">=</span> <span class="n">Face3D</span><span class="p">(</span><span class="n">o_face_2</span><span class="p">,</span> <span class="n">plane</span><span class="o">=</span><span class="n">pln_2</span><span class="p">)</span>
                        <span class="k">if</span> <span class="n">o_face_1</span><span class="o">.</span><span class="n">center</span><span class="o">.</span><span class="n">z</span> <span class="o">&lt;=</span> <span class="n">o_face_2</span><span class="o">.</span><span class="n">center</span><span class="o">.</span><span class="n">z</span><span class="p">:</span>
                            <span class="n">poly_1</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_process_polygon_overlap</span><span class="p">(</span>
                                <span class="n">poly_1</span><span class="p">,</span> <span class="n">pln_1</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">o_poly</span><span class="p">,</span>
                                <span class="n">remove_i</span><span class="p">,</span> <span class="n">geo_2d</span><span class="p">,</span> <span class="n">planes</span><span class="p">,</span> <span class="n">gei</span><span class="p">,</span> <span class="n">tol</span><span class="p">)</span>
                        <span class="k">else</span><span class="p">:</span>  <span class="c1"># remove the overlap from the second polygon</span>
                            <span class="n">poly_2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_process_polygon_overlap</span><span class="p">(</span>
                                <span class="n">poly_2</span><span class="p">,</span> <span class="n">pln_2</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="n">o_poly</span><span class="p">,</span>
                                <span class="n">remove_i</span><span class="p">,</span> <span class="n">geo_2d</span><span class="p">,</span> <span class="n">planes</span><span class="p">,</span> <span class="n">gei</span><span class="p">,</span> <span class="n">tol</span><span class="p">)</span>
                <span class="k">elif</span> <span class="n">poly_relationship</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                    <span class="c1"># polygon is completely inside the other; remove it</span>
                    <span class="n">remove_i</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">j</span><span class="p">)</span>

        <span class="c1"># if any overlaps were found, rebuild the 3D roof geometry</span>
        <span class="k">if</span> <span class="n">overlap_count</span> <span class="o">!=</span> <span class="mi">0</span> <span class="ow">or</span> <span class="nb">len</span><span class="p">(</span><span class="n">remove_i</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">resolved_geo</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="p">(</span><span class="n">r_poly</span><span class="p">,</span> <span class="n">r_pln</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">geo_2d</span><span class="p">,</span> <span class="n">planes</span><span class="p">)):</span>
                <span class="k">if</span> <span class="n">i</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">remove_i</span><span class="p">:</span>
                    <span class="n">r_face</span> <span class="o">=</span> <span class="p">[]</span>
                    <span class="k">for</span> <span class="n">pt2</span> <span class="ow">in</span> <span class="n">r_poly</span><span class="o">.</span><span class="n">vertices</span><span class="p">:</span>
                        <span class="n">pt3</span> <span class="o">=</span> <span class="n">r_pln</span><span class="o">.</span><span class="n">project_point</span><span class="p">(</span><span class="n">Point3D</span><span class="p">(</span><span class="n">pt2</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">pt2</span><span class="o">.</span><span class="n">y</span><span class="p">),</span> <span class="n">proj_dir</span><span class="p">)</span>
                        <span class="n">r_face</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pt3</span><span class="p">)</span>
                    <span class="n">resolved_geo</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Face3D</span><span class="p">(</span><span class="n">r_face</span><span class="p">,</span> <span class="n">plane</span><span class="o">=</span><span class="n">r_pln</span><span class="p">))</span>
            <span class="k">return</span> <span class="n">resolved_geo</span>

        <span class="k">return</span> <span class="n">base_geo</span>  <span class="c1"># no overlaps in the geometry; just return as is</span></div>


    <span class="nd">@staticmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_process_polygon_overlap</span><span class="p">(</span><span class="n">eval_poly</span><span class="p">,</span> <span class="n">eval_pln</span><span class="p">,</span> <span class="n">eval_i</span><span class="p">,</span> <span class="n">o_poly</span><span class="p">,</span>
                                 <span class="n">remove_i</span><span class="p">,</span> <span class="n">geo_2d</span><span class="p">,</span> <span class="n">planes</span><span class="p">,</span> <span class="n">gei</span><span class="p">,</span> <span class="n">tol</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Process the overlap in two roof polygons during roof resolution.&quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>  <span class="c1"># remove the overlap from the first polygon</span>
            <span class="n">np</span> <span class="o">=</span> <span class="n">eval_poly</span><span class="o">.</span><span class="n">boolean_difference</span><span class="p">(</span><span class="n">o_poly</span><span class="p">,</span> <span class="n">tol</span><span class="p">)</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">np</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>  <span class="c1"># eliminated the polygon</span>
                <span class="n">remove_i</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">eval_i</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>  <span class="c1"># part-removed</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">eval_poly</span> <span class="o">=</span> <span class="n">np</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">remove_colinear_vertices</span><span class="p">(</span><span class="n">tol</span><span class="p">)</span>
                    <span class="n">geo_2d</span><span class="p">[</span><span class="n">eval_i</span><span class="p">]</span> <span class="o">=</span> <span class="n">eval_poly</span>
                <span class="k">except</span> <span class="ne">AssertionError</span><span class="p">:</span>  <span class="c1"># degenerate result</span>
                    <span class="n">remove_i</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">eval_i</span><span class="p">)</span>
                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">np</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>  <span class="c1"># split the polygon to multiple</span>
                    <span class="k">for</span> <span class="n">ply</span> <span class="ow">in</span> <span class="n">np</span><span class="p">[</span><span class="mi">1</span><span class="p">:]:</span>
                        <span class="k">try</span><span class="p">:</span>
                            <span class="n">cp</span> <span class="o">=</span> <span class="n">ply</span><span class="o">.</span><span class="n">remove_colinear_vertices</span><span class="p">(</span><span class="n">tol</span><span class="p">)</span>
                            <span class="n">geo_2d</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">cp</span><span class="p">)</span>
                            <span class="n">planes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">eval_pln</span><span class="p">)</span>
                            <span class="n">gei</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">gei</span><span class="p">))</span>
                        <span class="k">except</span> <span class="ne">AssertionError</span><span class="p">:</span>  <span class="c1"># degenerate result</span>
                            <span class="k">pass</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>  <span class="c1"># tolerance is likely not correct</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Failed to get boolean difference.</span><span class="se">\n</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">e</span><span class="p">))</span>
            <span class="k">pass</span>
        <span class="k">return</span> <span class="n">eval_poly</span>

<div class="viewcode-block" id="RoofSpecification.overlap_count">
<a class="viewcode-back" href="../../dragonfly.roof.html#dragonfly.roof.RoofSpecification.overlap_count">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">overlap_count</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tolerance</span><span class="o">=</span><span class="mf">0.01</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the number of times that the Roof geometries overlap with one another.</span>

<span class="sd">        This should be zero for the RoofSpecification to be be translated to</span>
<span class="sd">        Honeybee without any loss of geometry.</span>

<span class="sd">        Args:</span>
<span class="sd">            tolerance: The minimum distance that two Roof geometries can overlap</span>
<span class="sd">                with one another and still be considered distinct. (Default: 0.01,</span>
<span class="sd">                suitable for objects in meters).</span>

<span class="sd">        Returns:</span>
<span class="sd">            An integer for the number of times that the roof geometries overlap</span>
<span class="sd">            with one another beyond the tolerance.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">geo_2d</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">boundary_geometry_2d</span>
        <span class="n">overlap_count</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">poly_1</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">geo_2d</span><span class="p">):</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">poly_2</span> <span class="ow">in</span> <span class="n">geo_2d</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">:]:</span>
                    <span class="k">if</span> <span class="n">poly_1</span><span class="o">.</span><span class="n">polygon_relationship</span><span class="p">(</span><span class="n">poly_2</span><span class="p">,</span> <span class="n">tolerance</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">:</span>
                        <span class="n">overlap_count</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="k">except</span> <span class="ne">IndexError</span><span class="p">:</span>
                <span class="k">pass</span>  <span class="c1"># we have reached the end of the list</span>
        <span class="k">return</span> <span class="n">overlap_count</span></div>


<div class="viewcode-block" id="RoofSpecification.find_gaps">
<a class="viewcode-back" href="../../dragonfly.roof.html#dragonfly.roof.RoofSpecification.find_gaps">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">find_gaps</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">gap_distance</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">tolerance</span><span class="o">=</span><span class="mf">0.01</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Identify gaps between the geometries that are smaller than a gap_distance.</span>

<span class="sd">        This is useful for identifying cases where gaps can result in messy</span>
<span class="sd">        room volumes when translating to Honeybee.</span>

<span class="sd">        Args:</span>
<span class="sd">            gap_distance: The maximum distance between two roof geometries that is</span>
<span class="sd">                considered an unwanted gap. Differences between roofs that are</span>
<span class="sd">                higher than this distance are considered meaningful gaps to be preserved.</span>
<span class="sd">                This value should be higher than the tolerance to be</span>
<span class="sd">                meaningful. (Default: 0.1, suitable for objects in meters).</span>
<span class="sd">            selected_indices: An optional list of indices for specific roof</span>
<span class="sd">                geometries to be snapped to the grid. If None, all of the roof</span>
<span class="sd">                geometry will be snapped. (Default: None).</span>
<span class="sd">            tolerance: The minimum difference between the coordinate values at</span>
<span class="sd">                which point they are considered equivalent. (Default: 0.01,</span>
<span class="sd">                suitable for objects in meters).</span>

<span class="sd">        Returns:</span>
<span class="sd">            A list of Point2Ds that note the location of any gaps between the input</span>
<span class="sd">            room_2ds, which are larger than the tolerance but less than the</span>
<span class="sd">            gap_distance.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">roof_polys</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">boundary_geometry_2d</span>
        <span class="n">gap_points</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">poly_1</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">roof_polys</span><span class="p">):</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">poly_2</span> <span class="ow">in</span> <span class="n">roof_polys</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">:]:</span>
                    <span class="k">if</span> <span class="ow">not</span> <span class="n">Polygon2D</span><span class="o">.</span><span class="n">overlapping_bounding_rect</span><span class="p">(</span>
                            <span class="n">poly_1</span><span class="p">,</span> <span class="n">poly_2</span><span class="p">,</span> <span class="n">gap_distance</span><span class="p">):</span>
                        <span class="k">continue</span>  <span class="c1"># no overlap in bounding rect; gap impossible</span>
                    <span class="c1"># check the first polygon against the second</span>
                    <span class="k">for</span> <span class="n">pt_1</span> <span class="ow">in</span> <span class="n">poly_1</span><span class="p">:</span>
                        <span class="n">pt_dist</span> <span class="o">=</span> <span class="n">poly_2</span><span class="o">.</span><span class="n">distance_from_edge_to_point</span><span class="p">(</span><span class="n">pt_1</span><span class="p">)</span>
                        <span class="k">if</span> <span class="n">tolerance</span> <span class="o">&lt;</span> <span class="n">pt_dist</span> <span class="o">&lt;=</span> <span class="n">gap_distance</span><span class="p">:</span>
                            <span class="n">gap_points</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pt_1</span><span class="p">)</span>
                    <span class="c1"># check the second polygon against the first</span>
                    <span class="k">for</span> <span class="n">pt_2</span> <span class="ow">in</span> <span class="n">poly_2</span><span class="p">:</span>
                        <span class="n">pt_dist</span> <span class="o">=</span> <span class="n">poly_1</span><span class="o">.</span><span class="n">distance_from_edge_to_point</span><span class="p">(</span><span class="n">pt_2</span><span class="p">)</span>
                        <span class="k">if</span> <span class="n">tolerance</span> <span class="o">&lt;</span> <span class="n">pt_dist</span> <span class="o">&lt;=</span> <span class="n">gap_distance</span><span class="p">:</span>
                            <span class="n">gap_points</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pt_2</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">IndexError</span><span class="p">:</span>
                <span class="k">pass</span>  <span class="c1"># we have reached the end of the list of rooms</span>
        <span class="k">return</span> <span class="n">gap_points</span></div>


<div class="viewcode-block" id="RoofSpecification.move">
<a class="viewcode-back" href="../../dragonfly.roof.html#dragonfly.roof.RoofSpecification.move">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">move</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">moving_vec</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Move this RoofSpecification along a vector.</span>

<span class="sd">        Args:</span>
<span class="sd">            moving_vec: A ladybug_geometry Vector3D with the direction and distance</span>
<span class="sd">                to move the object.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_geometry</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">geo</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="n">moving_vec</span><span class="p">)</span> <span class="k">for</span> <span class="n">geo</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_geometry</span><span class="p">)</span></div>


<div class="viewcode-block" id="RoofSpecification.rotate_xy">
<a class="viewcode-back" href="../../dragonfly.roof.html#dragonfly.roof.RoofSpecification.rotate_xy">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">rotate_xy</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">angle</span><span class="p">,</span> <span class="n">origin</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Rotate RoofSpecification counterclockwise in the XY plane by a certain angle.</span>

<span class="sd">        Args:</span>
<span class="sd">            angle: An angle in degrees.</span>
<span class="sd">            origin: A ladybug_geometry Point3D for the origin around which the</span>
<span class="sd">                object will be rotated.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_geometry</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">geo</span><span class="o">.</span><span class="n">rotate_xy</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">radians</span><span class="p">(</span><span class="n">angle</span><span class="p">),</span> <span class="n">origin</span><span class="p">)</span>
                               <span class="k">for</span> <span class="n">geo</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_geometry</span><span class="p">)</span></div>


<div class="viewcode-block" id="RoofSpecification.reflect">
<a class="viewcode-back" href="../../dragonfly.roof.html#dragonfly.roof.RoofSpecification.reflect">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">reflect</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">plane</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Reflect this RoofSpecification across a plane.</span>

<span class="sd">        Args:</span>
<span class="sd">            plane: A ladybug_geometry Plane across which the object will be reflected.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_geometry</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">geo</span><span class="o">.</span><span class="n">reflect</span><span class="p">(</span><span class="n">plane</span><span class="o">.</span><span class="n">n</span><span class="p">,</span> <span class="n">plane</span><span class="o">.</span><span class="n">o</span><span class="p">)</span> <span class="k">for</span> <span class="n">geo</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_geometry</span><span class="p">)</span></div>


<div class="viewcode-block" id="RoofSpecification.scale">
<a class="viewcode-back" href="../../dragonfly.roof.html#dragonfly.roof.RoofSpecification.scale">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">scale</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">factor</span><span class="p">,</span> <span class="n">origin</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Scale this RoofSpecification by a factor from an origin point.</span>

<span class="sd">        Args:</span>
<span class="sd">            factor: A number representing how much the object should be scaled.</span>
<span class="sd">            origin: A ladybug_geometry Point3D representing the origin from which</span>
<span class="sd">                to scale. If None, it will be scaled from the World origin (0, 0, 0).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_geometry</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">geo</span><span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="n">factor</span><span class="p">,</span> <span class="n">origin</span><span class="p">)</span> <span class="k">for</span> <span class="n">geo</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_geometry</span><span class="p">)</span></div>


<div class="viewcode-block" id="RoofSpecification.update_geometry_3d">
<a class="viewcode-back" href="../../dragonfly.roof.html#dragonfly.roof.RoofSpecification.update_geometry_3d">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">update_geometry_3d</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">new_face_3d</span><span class="p">,</span> <span class="n">face_index</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Change one of the Face3D in this RoofSpecification.geometry.</span>

<span class="sd">        This method is intended to be used when the roof geometry has been edited</span>
<span class="sd">        by some external means and this RoofSpecification should be updated</span>
<span class="sd">        for coordination.</span>

<span class="sd">        Args:</span>
<span class="sd">            new_face_3d: A Face3D for a new roof geometry that is to replace one</span>
<span class="sd">                of the existing Face3D in the roof.</span>
<span class="sd">            face_index: An integer for the index of the Face3D in the roof to</span>
<span class="sd">                be replaced.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">new_face_3d</span><span class="p">,</span> <span class="n">Face3D</span><span class="p">),</span> \
            <span class="s1">&#39;Expected Face3D for RoofSpecification.update_geometry_3d. &#39;</span> \
            <span class="s1">&#39;Got </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">new_face_3d</span><span class="p">))</span>
        <span class="n">geo_list</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_geometry</span><span class="p">)</span>
        <span class="n">geo_list</span><span class="p">[</span><span class="n">face_index</span><span class="p">]</span> <span class="o">=</span> <span class="n">new_face_3d</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_geometry</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">geo_list</span><span class="p">)</span></div>


<div class="viewcode-block" id="RoofSpecification.update_geometry_2d">
<a class="viewcode-back" href="../../dragonfly.roof.html#dragonfly.roof.RoofSpecification.update_geometry_2d">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">update_geometry_2d</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span> <span class="n">new_polygon_2d</span><span class="p">,</span> <span class="n">polygon_index</span><span class="p">,</span> <span class="n">new_hole_polygon_2d</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Change one of the Face3D in this roof by supplying a 2D Polygon.</span>

<span class="sd">        This method is intended to be used when the roof geometry has been edited</span>
<span class="sd">        by some external means and this RoofSpecification should be updated</span>
<span class="sd">        for coordination. It it particularly helpful when the external means</span>
<span class="sd">        of editing has happened in 2D plan view and only the boundary of the</span>
<span class="sd">        roof should be updated while the plane of the roof geometry is held</span>
<span class="sd">        constant.</span>

<span class="sd">        Args:</span>
<span class="sd">            new_polygon_2d: A Polygon2D for a new roof geometry that is to replace</span>
<span class="sd">                one of the existing geometries in the roof. Ideally, this is</span>
<span class="sd">                one of this RoofSpecification&#39;s boundary_geometry_2d polygons</span>
<span class="sd">                that has been edited.</span>
<span class="sd">            polygon_index: An integer for the index of the boundary polygon in</span>
<span class="sd">                the roof to be replaced.</span>
<span class="sd">            new_hole_polygon_2d: An optional list of Polygon2D for new hole</span>
<span class="sd">                geometry to be updated. If None, any holes in the roof geometry</span>
<span class="sd">                will be left as they are. (Default: None).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># first process the boundary polygon</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">new_polygon_2d</span><span class="p">,</span> <span class="n">Polygon2D</span><span class="p">),</span> \
            <span class="s1">&#39;Expected Polygon2D for RoofSpecification.update_geometry_2d. &#39;</span> \
            <span class="s1">&#39;Got </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">new_polygon_2d</span><span class="p">))</span>
        <span class="n">proj_dir</span> <span class="o">=</span> <span class="n">Vector3D</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>  <span class="c1"># direction to project onto Roof planes</span>
        <span class="n">roof_plane</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">geometry</span><span class="p">[</span><span class="n">polygon_index</span><span class="p">]</span><span class="o">.</span><span class="n">plane</span>
        <span class="n">roof_verts</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">pt2</span> <span class="ow">in</span> <span class="n">new_polygon_2d</span><span class="o">.</span><span class="n">vertices</span><span class="p">:</span>
            <span class="n">pt3</span> <span class="o">=</span> <span class="n">roof_plane</span><span class="o">.</span><span class="n">project_point</span><span class="p">(</span><span class="n">Point3D</span><span class="p">(</span><span class="n">pt2</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">pt2</span><span class="o">.</span><span class="n">y</span><span class="p">),</span> <span class="n">proj_dir</span><span class="p">)</span>
            <span class="n">roof_verts</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pt3</span><span class="p">)</span>
        <span class="c1"># process the holes</span>
        <span class="n">holes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_geometry</span><span class="p">[</span><span class="n">polygon_index</span><span class="p">]</span><span class="o">.</span><span class="n">holes</span>
        <span class="k">if</span> <span class="n">new_hole_polygon_2d</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">holes</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">hole_poly</span> <span class="ow">in</span> <span class="n">new_hole_polygon_2d</span><span class="p">:</span>
                <span class="n">hole_verts</span> <span class="o">=</span> <span class="p">[]</span>
                <span class="k">for</span> <span class="n">pt2</span> <span class="ow">in</span> <span class="n">hole_poly</span><span class="o">.</span><span class="n">vertices</span><span class="p">:</span>
                    <span class="n">pt3</span> <span class="o">=</span> <span class="n">roof_plane</span><span class="o">.</span><span class="n">project_point</span><span class="p">(</span><span class="n">Point3D</span><span class="p">(</span><span class="n">pt2</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">pt2</span><span class="o">.</span><span class="n">y</span><span class="p">),</span> <span class="n">proj_dir</span><span class="p">)</span>
                    <span class="n">hole_verts</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pt3</span><span class="p">)</span>
                <span class="n">holes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">hole_verts</span><span class="p">)</span>
        <span class="c1"># create the final Face3D and update it</span>
        <span class="n">new_face_3d</span> <span class="o">=</span> <span class="n">Face3D</span><span class="p">(</span><span class="n">roof_verts</span><span class="p">,</span> <span class="n">plane</span><span class="o">=</span><span class="n">roof_plane</span><span class="p">,</span> <span class="n">holes</span><span class="o">=</span><span class="n">holes</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">update_geometry_3d</span><span class="p">(</span><span class="n">new_face_3d</span><span class="p">,</span> <span class="n">polygon_index</span><span class="p">)</span></div>


<div class="viewcode-block" id="RoofSpecification.remove_small_holes">
<a class="viewcode-back" href="../../dragonfly.roof.html#dragonfly.roof.RoofSpecification.remove_small_holes">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">remove_small_holes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">area_threshold</span><span class="p">,</span> <span class="n">selected_indices</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Remove any holes in thr roof geometry that are below a certain area threshold.</span>

<span class="sd">        Args:</span>
<span class="sd">            area_threshold: A number for the area below which holes will be removed.</span>
<span class="sd">            selected_indices: An optional list of indices for specific roof</span>
<span class="sd">                geometries for which holes will be removed. If None, all of the roof</span>
<span class="sd">                geometry will be have holes removed. (Default: None).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">new_geo</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">face</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">geometry</span><span class="p">):</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">selected_indices</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">selected_indices</span><span class="p">)</span> <span class="ow">and</span> <span class="n">face</span><span class="o">.</span><span class="n">has_holes</span><span class="p">:</span>
                <span class="n">holes_to_remove</span><span class="p">,</span> <span class="n">holes_to_keep</span> <span class="o">=</span> <span class="p">[],</span> <span class="p">[]</span>
                <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">hole</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">face</span><span class="o">.</span><span class="n">holes</span><span class="p">):</span>
                    <span class="n">tf</span> <span class="o">=</span> <span class="n">Face3D</span><span class="p">(</span><span class="n">hole</span><span class="p">,</span> <span class="n">face</span><span class="o">.</span><span class="n">plane</span><span class="p">)</span>
                    <span class="k">if</span> <span class="n">tf</span><span class="o">.</span><span class="n">area</span> <span class="o">&lt;</span> <span class="n">area_threshold</span><span class="p">:</span>
                        <span class="n">holes_to_remove</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">hole</span><span class="p">)</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">holes_to_keep</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">hole</span><span class="p">)</span>
                <span class="c1"># if removable holes were found, rebuild the Room2D</span>
                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">holes_to_remove</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="n">new_geo</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Face3D</span><span class="p">(</span><span class="n">face</span><span class="o">.</span><span class="n">boundary</span><span class="p">,</span> <span class="n">face</span><span class="o">.</span><span class="n">plane</span><span class="p">,</span> <span class="n">holes_to_keep</span><span class="p">))</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">new_geo</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">face</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">new_geo</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">face</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">geometry</span> <span class="o">=</span> <span class="n">new_geo</span></div>


<div class="viewcode-block" id="RoofSpecification.snap_to_grid">
<a class="viewcode-back" href="../../dragonfly.roof.html#dragonfly.roof.RoofSpecification.snap_to_grid">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">snap_to_grid</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">grid_increment</span><span class="p">,</span> <span class="n">selected_indices</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">base_plane</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                     <span class="n">tolerance</span><span class="o">=</span><span class="mf">0.01</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Snap naked roof vertices to the nearest grid node defined by an increment.</span>

<span class="sd">        This is useful for coordinating the Roof specification with the grid snapping</span>
<span class="sd">        of Room2Ds that belong to the same Story as this Roof.</span>

<span class="sd">        Note that the planes of the input roof Face3Ds will be preserved. This way,</span>
<span class="sd">        the internal structure of the roof geometry will be conserved but the roof</span>
<span class="sd">        will be extended to cover Room2Ds that might have otherwise been snapped to</span>
<span class="sd">        the a node where they have no Roof geometry above them. This command will</span>
<span class="sd">        preserve all roof ridge lines and vertices along them will only be moved</span>
<span class="sd">        if the ridge line is oriented to the X or Y axis.</span>

<span class="sd">        Args:</span>
<span class="sd">            grid_increment: A positive number for dimension of each grid cell. This</span>
<span class="sd">                typically should be equal to the tolerance or larger but should</span>
<span class="sd">                not be larger than the smallest detail of the Room2D that you</span>
<span class="sd">                wish to resolve.</span>
<span class="sd">            selected_indices: An optional list of indices for specific roof</span>
<span class="sd">                geometries to be snapped to the grid. If None, all of the roof</span>
<span class="sd">                geometry will be snapped. (Default: None).</span>
<span class="sd">            tolerance: The minimum distance between vertices below which they are</span>
<span class="sd">                considered co-located. (Default: 0.01,</span>
<span class="sd">                suitable for objects in meters).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># if the base plane is specified, convert to the plane&#39;s coordinate system</span>
        <span class="n">pl_ang</span><span class="p">,</span> <span class="n">t_vec</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">base_plane</span><span class="p">,</span> <span class="n">Plane</span><span class="p">)</span> <span class="ow">and</span> <span class="n">base_plane</span><span class="o">.</span><span class="n">n</span><span class="o">.</span><span class="n">z</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">origin</span> <span class="o">=</span> <span class="n">base_plane</span><span class="o">.</span><span class="n">o</span>
            <span class="n">t_vec</span> <span class="o">=</span> <span class="n">Vector3D</span><span class="p">(</span><span class="o">-</span><span class="n">origin</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="o">-</span><span class="n">origin</span><span class="o">.</span><span class="n">y</span><span class="p">)</span>
            <span class="n">x_axis</span> <span class="o">=</span> <span class="n">Vector2D</span><span class="p">(</span><span class="n">base_plane</span><span class="o">.</span><span class="n">x</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">base_plane</span><span class="o">.</span><span class="n">x</span><span class="o">.</span><span class="n">y</span><span class="p">)</span>
            <span class="n">pl_ang</span> <span class="o">=</span> <span class="n">x_axis</span><span class="o">.</span><span class="n">angle_counterclockwise</span><span class="p">(</span><span class="n">Vector2D</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">geometry</span> <span class="o">=</span> <span class="p">[</span><span class="n">f</span><span class="o">.</span><span class="n">rotate_xy</span><span class="p">(</span><span class="n">pl_ang</span><span class="p">,</span> <span class="n">origin</span><span class="p">)</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="n">t_vec</span><span class="p">)</span>
                             <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">geometry</span><span class="p">]</span>

        <span class="c1"># get the ridge lines of the roof to determine if snapping is possible</span>
        <span class="n">poly_ridge_info</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_compute_ridge_line_info</span><span class="p">(</span><span class="n">tolerance</span><span class="p">)</span>

        <span class="c1"># loop through the roof faces and evaluate whether they can be moved</span>
        <span class="n">new_geo</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="p">(</span><span class="n">face</span><span class="p">,</span> <span class="n">poly_info</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">geometry</span><span class="p">,</span> <span class="n">poly_ridge_info</span><span class="p">)):</span>
            <span class="k">if</span> <span class="n">selected_indices</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">selected_indices</span><span class="p">:</span>
                <span class="n">snap_method</span> <span class="o">=</span> <span class="s1">&#39;standard&#39;</span>
                <span class="k">for</span> <span class="n">pt_info</span> <span class="ow">in</span> <span class="n">poly_info</span><span class="p">:</span>
                    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">pt_info</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>  <span class="c1"># not on a ridge line</span>
                        <span class="k">continue</span>
                    <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">pt_info</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_vector_xy</span><span class="p">(</span><span class="n">pt_info</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">v</span><span class="p">):</span>
                        <span class="n">snap_method</span> <span class="o">=</span> <span class="s1">&#39;move&#39;</span>
                        <span class="n">pt</span> <span class="o">=</span> <span class="n">pt_info</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">p</span>
                        <span class="n">new_x</span> <span class="o">=</span> <span class="n">grid_increment</span> <span class="o">*</span> <span class="nb">round</span><span class="p">(</span><span class="n">pt</span><span class="o">.</span><span class="n">x</span> <span class="o">/</span> <span class="n">grid_increment</span><span class="p">)</span>
                        <span class="n">new_y</span> <span class="o">=</span> <span class="n">grid_increment</span> <span class="o">*</span> <span class="nb">round</span><span class="p">(</span><span class="n">pt</span><span class="o">.</span><span class="n">y</span> <span class="o">/</span> <span class="n">grid_increment</span><span class="p">)</span>
                        <span class="n">move_vec</span> <span class="o">=</span> <span class="n">Vector3D</span><span class="p">(</span><span class="n">new_x</span> <span class="o">-</span> <span class="n">pt</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">new_y</span> <span class="o">-</span> <span class="n">pt</span><span class="o">.</span><span class="n">y</span><span class="p">)</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">snap_method</span> <span class="o">=</span> <span class="s1">&#39;nothing&#39;</span>
                        <span class="k">break</span>
                <span class="c1"># if they can be snapped, then do so</span>
                <span class="k">if</span> <span class="n">snap_method</span> <span class="o">==</span> <span class="s1">&#39;move&#39;</span><span class="p">:</span>
                    <span class="n">face</span> <span class="o">=</span> <span class="n">face</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="n">move_vec</span><span class="p">)</span>
                    <span class="n">snap_method</span> <span class="o">=</span> <span class="s1">&#39;standard&#39;</span>
                <span class="k">if</span> <span class="n">snap_method</span> <span class="o">==</span> <span class="s1">&#39;standard&#39;</span><span class="p">:</span>
                    <span class="n">proj_dir</span> <span class="o">=</span> <span class="n">Vector3D</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
                    <span class="n">new_pts</span> <span class="o">=</span> <span class="p">[]</span>
                    <span class="k">for</span> <span class="n">pt</span> <span class="ow">in</span> <span class="n">face</span><span class="o">.</span><span class="n">boundary</span><span class="p">:</span>
                        <span class="n">new_x</span> <span class="o">=</span> <span class="n">grid_increment</span> <span class="o">*</span> <span class="nb">round</span><span class="p">(</span><span class="n">pt</span><span class="o">.</span><span class="n">x</span> <span class="o">/</span> <span class="n">grid_increment</span><span class="p">)</span>
                        <span class="n">new_y</span> <span class="o">=</span> <span class="n">grid_increment</span> <span class="o">*</span> <span class="nb">round</span><span class="p">(</span><span class="n">pt</span><span class="o">.</span><span class="n">y</span> <span class="o">/</span> <span class="n">grid_increment</span><span class="p">)</span>
                        <span class="n">n_pt</span> <span class="o">=</span> <span class="n">face</span><span class="o">.</span><span class="n">plane</span><span class="o">.</span><span class="n">project_point</span><span class="p">(</span><span class="n">Point3D</span><span class="p">(</span><span class="n">new_x</span><span class="p">,</span> <span class="n">new_y</span><span class="p">),</span> <span class="n">proj_dir</span><span class="p">)</span>
                        <span class="n">new_pts</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n_pt</span><span class="p">)</span>
                    <span class="n">new_geo</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Face3D</span><span class="p">(</span><span class="n">new_pts</span><span class="p">,</span> <span class="n">plane</span><span class="o">=</span><span class="n">face</span><span class="o">.</span><span class="n">plane</span><span class="p">,</span> <span class="n">holes</span><span class="o">=</span><span class="n">face</span><span class="o">.</span><span class="n">holes</span><span class="p">))</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">new_geo</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">face</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">new_geo</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">face</span><span class="p">)</span>

        <span class="c1"># rotate the geometry back to normal if a base plane was used</span>
        <span class="k">if</span> <span class="n">pl_ang</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">r_vec</span> <span class="o">=</span> <span class="o">-</span><span class="n">t_vec</span>
            <span class="n">new_geo</span> <span class="o">=</span> <span class="p">[</span><span class="n">f</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="n">r_vec</span><span class="p">)</span><span class="o">.</span><span class="n">rotate_xy</span><span class="p">(</span><span class="o">-</span><span class="n">pl_ang</span><span class="p">,</span> <span class="n">origin</span><span class="p">)</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">new_geo</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">geometry</span> <span class="o">=</span> <span class="n">new_geo</span></div>


<div class="viewcode-block" id="RoofSpecification.align">
<a class="viewcode-back" href="../../dragonfly.roof.html#dragonfly.roof.RoofSpecification.align">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">align</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">line_ray</span><span class="p">,</span> <span class="n">distance</span><span class="p">,</span> <span class="n">tolerance</span><span class="o">=</span><span class="mf">0.01</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Move roof vertices within a given distance of a line to be on that line.</span>

<span class="sd">        This is useful for coordinating the Roof specification with the alignment</span>
<span class="sd">        of Room2Ds that belong to the same Story as this Roof.</span>

<span class="sd">        Note that the planes of the input roof Face3Ds will be preserved. This way,</span>
<span class="sd">        the internal structure of the roof geometry will be conserved but the roof will</span>
<span class="sd">        be extended to cover Room2Ds that might have otherwise been aligned to</span>
<span class="sd">        have no Roof geometry above them.</span>

<span class="sd">        Args:</span>
<span class="sd">            line_ray: A ladybug_geometry Ray2D or LineSegment2D to which the roof</span>
<span class="sd">                vertices will be aligned. Ray2Ds will be interpreted as being infinite</span>
<span class="sd">                in both directions while LineSegment2Ds will be interpreted as only</span>
<span class="sd">                existing between two points.</span>
<span class="sd">            distance: The maximum distance between a vertex and the line_ray where</span>
<span class="sd">                the vertex will be moved to lie on the line_ray. Vertices beyond</span>
<span class="sd">                this distance will be left as they are.</span>
<span class="sd">            tolerance: The minimum distance between vertices below which they are</span>
<span class="sd">                considered co-located. This is used to ensure that the alignment process</span>
<span class="sd">                does not create new overlaps in the roof geometry. (Default: 0.01,</span>
<span class="sd">                suitable for objects in meters).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># check the input line_ray</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">line_ray</span><span class="p">,</span> <span class="n">Ray2D</span><span class="p">):</span>
            <span class="n">closest_func</span> <span class="o">=</span> <span class="n">closest_point2d_on_line2d_infinite</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">line_ray</span><span class="p">,</span> <span class="n">LineSegment2D</span><span class="p">):</span>
            <span class="n">closest_func</span> <span class="o">=</span> <span class="n">closest_point2d_on_line2d</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;Expected Ray2D or LineSegment2D. Got </span><span class="si">{}</span><span class="s1">.&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">line_ray</span><span class="p">))</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

        <span class="c1"># get the polygons and planes</span>
        <span class="n">polygons</span><span class="p">,</span> <span class="n">planes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">geometry_2d</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">planes</span>

        <span class="c1"># loop through the roof polygons and align the vertices</span>
        <span class="n">aligned_polygons</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">poly_list</span> <span class="ow">in</span> <span class="n">polygons</span><span class="p">:</span>
            <span class="n">align_poly_list</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">poly</span> <span class="ow">in</span> <span class="n">poly_list</span><span class="p">:</span>
                <span class="n">new_poly</span> <span class="o">=</span> <span class="p">[]</span>
                <span class="k">for</span> <span class="n">pt</span> <span class="ow">in</span> <span class="n">poly</span><span class="p">:</span>
                    <span class="n">close_pt</span> <span class="o">=</span> <span class="n">closest_func</span><span class="p">(</span><span class="n">pt</span><span class="p">,</span> <span class="n">line_ray</span><span class="p">)</span>
                    <span class="k">if</span> <span class="n">pt</span><span class="o">.</span><span class="n">distance_to_point</span><span class="p">(</span><span class="n">close_pt</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="n">distance</span><span class="p">:</span>
                        <span class="n">new_poly</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">close_pt</span><span class="p">)</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">new_poly</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pt</span><span class="p">)</span>
                <span class="n">align_poly_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Polygon2D</span><span class="p">(</span><span class="n">new_poly</span><span class="p">))</span>
            <span class="n">aligned_polygons</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">align_poly_list</span><span class="p">)</span>

        <span class="c1"># constrain the roof edges, which typically preserves roof ridge lines</span>
        <span class="n">new_polygons</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">old_poly</span><span class="p">,</span> <span class="n">new_poly</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">polygons</span><span class="p">,</span> <span class="n">aligned_polygons</span><span class="p">):</span>
            <span class="n">new_polys</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">op</span><span class="p">,</span> <span class="n">np</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">old_poly</span><span class="p">,</span> <span class="n">new_poly</span><span class="p">):</span>
                <span class="n">con_poly</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_constrain_edges</span><span class="p">(</span><span class="n">op</span><span class="p">,</span> <span class="n">np</span><span class="p">,</span> <span class="p">[</span><span class="n">line_ray</span><span class="p">],</span> <span class="n">tolerance</span><span class="p">)</span>
                <span class="n">new_polys</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">con_poly</span><span class="p">)</span>
            <span class="n">new_polygons</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">new_polys</span><span class="p">)</span>

        <span class="c1"># project the points back onto the roof</span>
        <span class="n">proj_dir</span> <span class="o">=</span> <span class="n">Vector3D</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">new_geo</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">poly_list</span><span class="p">,</span> <span class="n">r_pl</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">new_polygons</span><span class="p">,</span> <span class="n">planes</span><span class="p">):</span>
            <span class="n">new_pts3d</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">poly</span> <span class="ow">in</span> <span class="n">poly_list</span><span class="p">:</span>
                <span class="n">new_3d</span> <span class="o">=</span> <span class="p">[]</span>
                <span class="k">for</span> <span class="n">p2</span> <span class="ow">in</span> <span class="n">poly</span><span class="p">:</span>
                    <span class="n">new_3d</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">r_pl</span><span class="o">.</span><span class="n">project_point</span><span class="p">(</span><span class="n">Point3D</span><span class="o">.</span><span class="n">from_point2d</span><span class="p">(</span><span class="n">p2</span><span class="p">),</span> <span class="n">proj_dir</span><span class="p">))</span>
                <span class="n">new_pts3d</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">new_3d</span><span class="p">)</span>
            <span class="n">new_geo</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Face3D</span><span class="p">(</span><span class="n">new_pts3d</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">plane</span><span class="o">=</span><span class="n">r_pl</span><span class="p">,</span> <span class="n">holes</span><span class="o">=</span><span class="n">new_pts3d</span><span class="p">[</span><span class="mi">1</span><span class="p">:]))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">geometry</span> <span class="o">=</span> <span class="n">new_geo</span></div>


<div class="viewcode-block" id="RoofSpecification.pull_to_segments">
<a class="viewcode-back" href="../../dragonfly.roof.html#dragonfly.roof.RoofSpecification.pull_to_segments">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">pull_to_segments</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">line_segments</span><span class="p">,</span> <span class="n">distance</span><span class="p">,</span> <span class="n">snap_vertices</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                         <span class="n">selected_indices</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">tolerance</span><span class="o">=</span><span class="mf">0.01</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Pull the vertices of this roof to several LineSegment2D.</span>

<span class="sd">        This includes both an alignment to the line segments as well as an optional</span>
<span class="sd">        snapping to the line end points. The planes of the input roof Face3Ds</span>
<span class="sd">        will be preserved.</span>

<span class="sd">        The benefit of calling this method as opposed to iterating over the segments</span>
<span class="sd">        and calling align is that this method will only align and snap to the</span>
<span class="sd">        closest segment across all of the input line_segments. This often helps</span>
<span class="sd">        avoid snapping to undesirable line segments, particularly when there are</span>
<span class="sd">        two ore more segments that are within the distance.</span>

<span class="sd">        Args:</span>
<span class="sd">            line_segments: A list of ladybug_geometry LineSegment2D to which this</span>
<span class="sd">                roof&#39;s vertices will be pulled.</span>
<span class="sd">            distance: The maximum distance between a roof vertex and the line_segments</span>
<span class="sd">                where the vertex will be moved to lie on the segments. Vertices beyond</span>
<span class="sd">                this distance will be left as they are.</span>
<span class="sd">            snap_vertices: A boolean to note whether roof vertices that are close</span>
<span class="sd">                to the segment end points within the distance should be snapped</span>
<span class="sd">                to the end point instead of simply being aligned to the nearest</span>
<span class="sd">                segment. (Default: True).</span>
<span class="sd">            selected_indices: An optional list of indices for specific roof</span>
<span class="sd">                geometries to be split with the input polygon. If None, all of</span>
<span class="sd">                the roof geometry will be tested for intersection with the</span>
<span class="sd">                input polygon. (Default: None).</span>
<span class="sd">            tolerance: The minimum difference between the coordinate values at</span>
<span class="sd">                which they are considered co-located. (Default: 0.01,</span>
<span class="sd">                suitable for objects in meters).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># check that the input is as expected</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">line_segments</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">line_segments</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">line</span><span class="p">,</span> <span class="n">LineSegment2D</span><span class="p">):</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;Expected LineSegment2D. Got </span><span class="si">{}</span><span class="s1">.&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">line</span><span class="p">))</span>
                <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

        <span class="c1"># get the polygons and planes</span>
        <span class="n">polygons</span><span class="p">,</span> <span class="n">planes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">geometry_2d</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">planes</span>

        <span class="c1"># loop through the roof polygons and align the vertices</span>
        <span class="n">aligned_polygons</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">poly_list</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">polygons</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">selected_indices</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">selected_indices</span><span class="p">:</span>
                <span class="n">align_poly_list</span> <span class="o">=</span> <span class="p">[]</span>
                <span class="k">for</span> <span class="n">poly</span> <span class="ow">in</span> <span class="n">poly_list</span><span class="p">:</span>
                    <span class="n">new_boundary</span> <span class="o">=</span> <span class="p">[]</span>
                    <span class="k">for</span> <span class="n">pt</span> <span class="ow">in</span> <span class="n">poly</span><span class="p">:</span>
                        <span class="n">dists</span><span class="p">,</span> <span class="n">c_pts</span> <span class="o">=</span> <span class="p">[],</span> <span class="p">[]</span>
                        <span class="k">for</span> <span class="n">line_ray</span> <span class="ow">in</span> <span class="n">line_segments</span><span class="p">:</span>
                            <span class="n">close_pt</span> <span class="o">=</span> <span class="n">closest_point2d_on_line2d</span><span class="p">(</span><span class="n">pt</span><span class="p">,</span> <span class="n">line_ray</span><span class="p">)</span>
                            <span class="n">c_pts</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">close_pt</span><span class="p">)</span>
                            <span class="n">dists</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pt</span><span class="o">.</span><span class="n">distance_to_point</span><span class="p">(</span><span class="n">close_pt</span><span class="p">))</span>
                        <span class="n">sort_pt</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">dists</span><span class="p">,</span> <span class="n">c_pts</span><span class="p">),</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">pair</span><span class="p">:</span> <span class="n">pair</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
                        <span class="k">if</span> <span class="n">sort_pt</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="n">distance</span><span class="p">:</span>
                            <span class="n">new_boundary</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">sort_pt</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">])</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">new_boundary</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pt</span><span class="p">)</span>
                    <span class="n">align_poly_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Polygon2D</span><span class="p">(</span><span class="n">new_boundary</span><span class="p">))</span>
                <span class="n">aligned_polygons</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">align_poly_list</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">aligned_polygons</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">poly_list</span><span class="p">)</span>

        <span class="c1"># if snap_vertices was requested, perform an additional operation to snap them</span>
        <span class="k">if</span> <span class="n">snap_vertices</span><span class="p">:</span>
            <span class="n">vertices</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">line_segments</span><span class="p">:</span>
                <span class="n">vertices</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">line</span><span class="o">.</span><span class="n">p1</span><span class="p">)</span>
                <span class="n">vertices</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">line</span><span class="o">.</span><span class="n">p2</span><span class="p">)</span>
            <span class="n">new_polygons</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">poly_list</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">aligned_polygons</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">selected_indices</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">selected_indices</span><span class="p">:</span>
                    <span class="n">new_polys</span> <span class="o">=</span> <span class="p">[]</span>
                    <span class="k">for</span> <span class="n">poly</span> <span class="ow">in</span> <span class="n">poly_list</span><span class="p">:</span>
                        <span class="n">new_boundary</span> <span class="o">=</span> <span class="p">[]</span>
                        <span class="k">for</span> <span class="n">pt</span> <span class="ow">in</span> <span class="n">poly</span><span class="p">:</span>
                            <span class="n">dists</span> <span class="o">=</span> <span class="p">[</span><span class="n">pt</span><span class="o">.</span><span class="n">distance_to_point</span><span class="p">(</span><span class="n">pt_2d</span><span class="p">)</span> <span class="k">for</span> <span class="n">pt_2d</span> <span class="ow">in</span> <span class="n">vertices</span><span class="p">]</span>
                            <span class="n">sort_pt</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">dists</span><span class="p">,</span> <span class="n">vertices</span><span class="p">),</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">pair</span><span class="p">:</span> <span class="n">pair</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
                            <span class="k">if</span> <span class="n">sort_pt</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="n">distance</span><span class="p">:</span>
                                <span class="n">new_boundary</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">sort_pt</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">])</span>
                            <span class="k">else</span><span class="p">:</span>
                                <span class="n">new_boundary</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pt</span><span class="p">)</span>
                        <span class="n">new_polys</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Polygon2D</span><span class="p">(</span><span class="n">new_boundary</span><span class="p">))</span>
                    <span class="n">new_polygons</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">new_polys</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">new_polygons</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">poly_list</span><span class="p">)</span>
            <span class="n">aligned_polygons</span> <span class="o">=</span> <span class="n">new_polygons</span>

        <span class="c1"># constrain the roof edges, which typically preserves roof ridge lines</span>
        <span class="n">new_polygons</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="p">(</span><span class="n">old_poly</span><span class="p">,</span> <span class="n">new_poly</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">polygons</span><span class="p">,</span> <span class="n">aligned_polygons</span><span class="p">)):</span>
            <span class="k">if</span> <span class="n">selected_indices</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">selected_indices</span><span class="p">:</span>
                <span class="n">new_polys</span> <span class="o">=</span> <span class="p">[]</span>
                <span class="k">for</span> <span class="n">op</span><span class="p">,</span> <span class="n">np</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">old_poly</span><span class="p">,</span> <span class="n">new_poly</span><span class="p">):</span>
                    <span class="n">con_poly</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_constrain_edges</span><span class="p">(</span><span class="n">op</span><span class="p">,</span> <span class="n">np</span><span class="p">,</span> <span class="n">line_segments</span><span class="p">,</span> <span class="n">tolerance</span><span class="p">)</span>
                    <span class="n">new_polys</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">con_poly</span><span class="p">)</span>
                <span class="n">new_polygons</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">new_polys</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">new_polygons</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">new_poly</span><span class="p">)</span>

        <span class="c1"># project the points back onto the roof</span>
        <span class="n">proj_dir</span> <span class="o">=</span> <span class="n">Vector3D</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">new_geo</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">poly_list</span><span class="p">,</span> <span class="n">r_pl</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">new_polygons</span><span class="p">,</span> <span class="n">planes</span><span class="p">):</span>
            <span class="n">new_pts3d</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">poly</span> <span class="ow">in</span> <span class="n">poly_list</span><span class="p">:</span>
                <span class="n">new_3d</span> <span class="o">=</span> <span class="p">[]</span>
                <span class="k">for</span> <span class="n">p2</span> <span class="ow">in</span> <span class="n">poly</span><span class="p">:</span>
                    <span class="n">new_3d</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">r_pl</span><span class="o">.</span><span class="n">project_point</span><span class="p">(</span><span class="n">Point3D</span><span class="o">.</span><span class="n">from_point2d</span><span class="p">(</span><span class="n">p2</span><span class="p">),</span> <span class="n">proj_dir</span><span class="p">))</span>
                <span class="n">new_pts3d</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">new_3d</span><span class="p">)</span>
            <span class="n">new_geo</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Face3D</span><span class="p">(</span><span class="n">new_pts3d</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">plane</span><span class="o">=</span><span class="n">r_pl</span><span class="p">,</span> <span class="n">holes</span><span class="o">=</span><span class="n">new_pts3d</span><span class="p">[</span><span class="mi">1</span><span class="p">:]))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">geometry</span> <span class="o">=</span> <span class="n">new_geo</span></div>


<div class="viewcode-block" id="RoofSpecification.subtract_roofs">
<a class="viewcode-back" href="../../dragonfly.roof.html#dragonfly.roof.RoofSpecification.subtract_roofs">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">subtract_roofs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">minuend_index</span><span class="p">,</span> <span class="n">subtrahend_indices</span><span class="p">,</span> <span class="n">tolerance</span><span class="o">=</span><span class="mf">0.01</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Subtract one or more geometries in this roof from a given geometry.</span>

<span class="sd">        This is useful for resolving overlaps between geometries in the roof,</span>
<span class="sd">        particularly when one geometry above another one should take precedence.</span>

<span class="sd">        Args:</span>
<span class="sd">            minuend_index: The index of a geometry in this roof from which the</span>
<span class="sd">                subtrahend roof geometries will be subtracted.</span>
<span class="sd">            subtrahend_indices: A list of indices for geometries in this roof</span>
<span class="sd">                that will be used to remove part of the geometry at the minuend_index.</span>
<span class="sd">            tolerance: The maximum difference between point values for them to be</span>
<span class="sd">                considered distinct from one another. (Default: 0.01; suitable</span>
<span class="sd">                for objects in Meters).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># project the faces so that they all have the same Z coordinate</span>
        <span class="n">planes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">planes</span>
        <span class="n">flat_faces</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">face</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">geometry</span><span class="p">:</span>
            <span class="n">new_bound</span> <span class="o">=</span> <span class="p">[</span><span class="n">Point3D</span><span class="p">(</span><span class="n">pt</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">pt</span><span class="o">.</span><span class="n">y</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="k">for</span> <span class="n">pt</span> <span class="ow">in</span> <span class="n">face</span><span class="o">.</span><span class="n">boundary</span><span class="p">]</span>
            <span class="n">new_holes</span> <span class="o">=</span> <span class="p">[[</span><span class="n">Point3D</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">y</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">h</span><span class="p">]</span> <span class="k">for</span> <span class="n">h</span> <span class="ow">in</span> <span class="n">face</span><span class="o">.</span><span class="n">holes</span><span class="p">]</span> \
                <span class="k">if</span> <span class="n">face</span><span class="o">.</span><span class="n">has_holes</span> <span class="k">else</span> <span class="kc">None</span>
            <span class="n">flat_face</span> <span class="o">=</span> <span class="n">Face3D</span><span class="p">(</span><span class="n">new_bound</span><span class="p">,</span> <span class="n">plane</span><span class="o">=</span><span class="n">Plane</span><span class="p">(),</span> <span class="n">holes</span><span class="o">=</span><span class="n">new_holes</span><span class="p">)</span>
            <span class="n">flat_faces</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">flat_face</span><span class="p">)</span>

        <span class="c1"># get the minuend and subtrahend geometries</span>
        <span class="n">minuend_geo</span> <span class="o">=</span> <span class="n">flat_faces</span><span class="p">[</span><span class="n">minuend_index</span><span class="p">]</span>
        <span class="n">minuend_plane</span> <span class="o">=</span> <span class="n">planes</span><span class="p">[</span><span class="n">minuend_index</span><span class="p">]</span>
        <span class="n">subtrahend_geos</span> <span class="o">=</span> <span class="p">[</span><span class="n">flat_faces</span><span class="p">[</span><span class="n">s_i</span><span class="p">]</span> <span class="k">for</span> <span class="n">s_i</span> <span class="ow">in</span> <span class="n">subtrahend_indices</span><span class="p">]</span>

        <span class="c1"># subtract the geometries from one another</span>
        <span class="n">ang_tol</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">radians</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">new_geos</span> <span class="o">=</span> <span class="n">minuend_geo</span><span class="o">.</span><span class="n">coplanar_difference</span><span class="p">(</span><span class="n">subtrahend_geos</span><span class="p">,</span> <span class="n">tolerance</span><span class="p">,</span> <span class="n">ang_tol</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">new_geos</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span> <span class="ow">and</span> <span class="n">new_geos</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">is</span> <span class="n">minuend_geo</span><span class="p">:</span>
            <span class="k">return</span>  <span class="c1"># the geometry did not overlap with any of the others another</span>

        <span class="c1"># project the points back onto the roof</span>
        <span class="n">proj_dir</span> <span class="o">=</span> <span class="n">Vector3D</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">new_geo</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">geo</span> <span class="ow">in</span> <span class="n">new_geos</span><span class="p">:</span>
            <span class="n">new_bound</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">pt2</span> <span class="ow">in</span> <span class="n">geo</span><span class="o">.</span><span class="n">boundary</span><span class="p">:</span>
                <span class="n">pt3</span> <span class="o">=</span> <span class="n">minuend_plane</span><span class="o">.</span><span class="n">project_point</span><span class="p">(</span><span class="n">Point3D</span><span class="o">.</span><span class="n">from_point2d</span><span class="p">(</span><span class="n">pt2</span><span class="p">),</span> <span class="n">proj_dir</span><span class="p">)</span>
                <span class="n">new_bound</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pt3</span><span class="p">)</span>
            <span class="n">new_holes</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="k">if</span> <span class="n">geo</span><span class="o">.</span><span class="n">has_holes</span><span class="p">:</span>
                <span class="n">new_holes</span> <span class="o">=</span> <span class="p">[]</span>
                <span class="k">for</span> <span class="n">hole</span> <span class="ow">in</span> <span class="n">geo</span><span class="o">.</span><span class="n">holes</span><span class="p">:</span>
                    <span class="n">new_hole</span> <span class="o">=</span> <span class="p">[]</span>
                    <span class="k">for</span> <span class="n">pt2</span> <span class="ow">in</span> <span class="n">hole</span><span class="p">:</span>
                        <span class="n">pt3</span> <span class="o">=</span> <span class="n">minuend_plane</span><span class="o">.</span><span class="n">project_point</span><span class="p">(</span>
                            <span class="n">Point3D</span><span class="o">.</span><span class="n">from_point2d</span><span class="p">(</span><span class="n">pt2</span><span class="p">),</span> <span class="n">proj_dir</span><span class="p">)</span>
                        <span class="n">new_hole</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pt3</span><span class="p">)</span>
                    <span class="n">new_holes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">new_hole</span><span class="p">)</span>
            <span class="n">new_geo</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Face3D</span><span class="p">(</span><span class="n">new_bound</span><span class="p">,</span> <span class="n">plane</span><span class="o">=</span><span class="n">minuend_plane</span><span class="p">,</span> <span class="n">holes</span><span class="o">=</span><span class="n">new_holes</span><span class="p">))</span>

        <span class="c1"># update the geometry</span>
        <span class="n">updated_geo</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">geometry</span><span class="p">)</span>
        <span class="n">updated_geo</span><span class="p">[</span><span class="n">minuend_index</span><span class="p">]</span> <span class="o">=</span> <span class="n">new_geo</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">ng</span> <span class="ow">in</span> <span class="n">new_geo</span><span class="p">[</span><span class="mi">1</span><span class="p">:]:</span>
            <span class="n">updated_geo</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ng</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">geometry</span> <span class="o">=</span> <span class="n">updated_geo</span></div>


<div class="viewcode-block" id="RoofSpecification.split_with_polygon">
<a class="viewcode-back" href="../../dragonfly.roof.html#dragonfly.roof.RoofSpecification.split_with_polygon">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">split_with_polygon</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">polygon</span><span class="p">,</span> <span class="n">selected_indices</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">tolerance</span><span class="o">=</span><span class="mf">0.01</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Split the geometry of this roof using a polygon.</span>

<span class="sd">        If the input polygon does not intersect the roof geometry in a manner</span>
<span class="sd">        that splits it, this roof will remain unaltered.</span>

<span class="sd">        Args:</span>
<span class="sd">            polygon: A Polygon2D object that will be used to split the roof geometry.</span>
<span class="sd">            selected_indices: An optional list of indices for specific roof</span>
<span class="sd">                geometries to be split with the input polygon. If None, all of</span>
<span class="sd">                the roof geometry will be tested for intersection with the</span>
<span class="sd">                input polygon. (Default: None).</span>
<span class="sd">            tolerance: The maximum difference between point values for them to be</span>
<span class="sd">                considered distinct from one another. (Default: 0.01; suitable</span>
<span class="sd">                for objects in Meters).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># check the inputs</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">polygon</span><span class="p">,</span> <span class="n">Polygon2D</span><span class="p">):</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;Expected Polygon2D. Got </span><span class="si">{}</span><span class="s1">.&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">polygon</span><span class="p">))</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

        <span class="c1"># split the geometries with the polygon</span>
        <span class="n">ang_tol</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">radians</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">proj_dir</span> <span class="o">=</span> <span class="n">Vector3D</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">split_geometries</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">geo</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">geometry</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">selected_indices</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">selected_indices</span><span class="p">:</span>
                <span class="c1"># project the polygon into the plane of the roof geometry</span>
                <span class="n">new_pts3d</span> <span class="o">=</span> <span class="p">[]</span>
                <span class="k">for</span> <span class="n">pt2</span> <span class="ow">in</span> <span class="n">polygon</span><span class="p">:</span>
                    <span class="n">pt3</span> <span class="o">=</span> <span class="n">geo</span><span class="o">.</span><span class="n">plane</span><span class="o">.</span><span class="n">project_point</span><span class="p">(</span><span class="n">Point3D</span><span class="o">.</span><span class="n">from_point2d</span><span class="p">(</span><span class="n">pt2</span><span class="p">),</span> <span class="n">proj_dir</span><span class="p">)</span>
                    <span class="n">new_pts3d</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pt3</span><span class="p">)</span>
                <span class="n">face_3d</span> <span class="o">=</span> <span class="n">Face3D</span><span class="p">(</span><span class="n">new_pts3d</span><span class="p">,</span> <span class="n">plane</span><span class="o">=</span><span class="n">geo</span><span class="o">.</span><span class="n">plane</span><span class="p">)</span>
                <span class="c1"># split the roof geometry with the polygon</span>
                <span class="n">new_geos</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">Face3D</span><span class="o">.</span><span class="n">coplanar_split</span><span class="p">(</span><span class="n">geo</span><span class="p">,</span> <span class="n">face_3d</span><span class="p">,</span> <span class="n">tolerance</span><span class="p">,</span> <span class="n">ang_tol</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">new_geos</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="nb">len</span><span class="p">(</span><span class="n">new_geos</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                    <span class="n">split_geometries</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">geo</span><span class="p">)</span>  <span class="c1"># no overlap with one another</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">split_geometries</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">new_geos</span><span class="p">)</span>  <span class="c1"># roof successfully split</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">split_geometries</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">geo</span><span class="p">)</span>

        <span class="c1"># update the geometry</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">geometry</span> <span class="o">=</span> <span class="n">split_geometries</span></div>


<div class="viewcode-block" id="RoofSpecification.split_with_lines">
<a class="viewcode-back" href="../../dragonfly.roof.html#dragonfly.roof.RoofSpecification.split_with_lines">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">split_with_lines</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">lines</span><span class="p">,</span> <span class="n">selected_indices</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">tolerance</span><span class="o">=</span><span class="mf">0.01</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Split the geometry of this roof using multiple line segments together.</span>

<span class="sd">        If the input lines do not intersect the roof geometry in a manner</span>
<span class="sd">        that splits it, this roof will remain unaltered.</span>

<span class="sd">        Args:</span>
<span class="sd">            lines: A list of LineSegment2D objects that will be used to split</span>
<span class="sd">                this roof geometry.</span>
<span class="sd">            selected_indices: An optional list of indices for specific roof</span>
<span class="sd">                geometries to be split with the input lines. If None, all of</span>
<span class="sd">                the roof geometry will be tested for intersection with the</span>
<span class="sd">                input lines. (Default: None).</span>
<span class="sd">            tolerance: The maximum difference between point values for them to be</span>
<span class="sd">                considered distinct from one another. (Default: 0.01; suitable</span>
<span class="sd">                for objects in Meters).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># check the inputs</span>
        <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">lines</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">line</span><span class="p">,</span> <span class="n">LineSegment2D</span><span class="p">):</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;Expected LineSegment2D. Got </span><span class="si">{}</span><span class="s1">.&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">line</span><span class="p">))</span>
                <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

        <span class="c1"># split the geometries with the lines</span>
        <span class="n">proj_dir</span> <span class="o">=</span> <span class="n">Vector3D</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">split_geometries</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">geo</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">geometry</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">selected_indices</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">selected_indices</span><span class="p">:</span>
                <span class="c1"># project the lines into the plane of the roof geometry</span>
                <span class="n">lines_3d</span> <span class="o">=</span> <span class="p">[]</span>
                <span class="k">for</span> <span class="n">seg</span> <span class="ow">in</span> <span class="n">lines</span><span class="p">:</span>
                    <span class="n">pt1</span> <span class="o">=</span> <span class="n">geo</span><span class="o">.</span><span class="n">plane</span><span class="o">.</span><span class="n">project_point</span><span class="p">(</span><span class="n">Point3D</span><span class="o">.</span><span class="n">from_point2d</span><span class="p">(</span><span class="n">seg</span><span class="o">.</span><span class="n">p1</span><span class="p">),</span> <span class="n">proj_dir</span><span class="p">)</span>
                    <span class="n">pt2</span> <span class="o">=</span> <span class="n">geo</span><span class="o">.</span><span class="n">plane</span><span class="o">.</span><span class="n">project_point</span><span class="p">(</span><span class="n">Point3D</span><span class="o">.</span><span class="n">from_point2d</span><span class="p">(</span><span class="n">seg</span><span class="o">.</span><span class="n">p2</span><span class="p">),</span> <span class="n">proj_dir</span><span class="p">)</span>
                    <span class="n">lines_3d</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">LineSegment3D</span><span class="o">.</span><span class="n">from_end_points</span><span class="p">(</span><span class="n">pt1</span><span class="p">,</span> <span class="n">pt2</span><span class="p">))</span>
                <span class="c1"># split the roof geometry with the lines</span>
                <span class="n">new_geos</span> <span class="o">=</span> <span class="n">geo</span><span class="o">.</span><span class="n">split_with_lines</span><span class="p">(</span><span class="n">lines_3d</span><span class="p">,</span> <span class="n">tolerance</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">new_geos</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="nb">len</span><span class="p">(</span><span class="n">new_geos</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                    <span class="n">split_geometries</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">geo</span><span class="p">)</span>  <span class="c1"># no overlap</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">split_geometries</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">new_geos</span><span class="p">)</span>  <span class="c1"># roof successfully split</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">split_geometries</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">geo</span><span class="p">)</span>

        <span class="c1"># update the geometry</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">geometry</span> <span class="o">=</span> <span class="n">split_geometries</span></div>


<div class="viewcode-block" id="RoofSpecification.split_with_thick_line">
<a class="viewcode-back" href="../../dragonfly.roof.html#dragonfly.roof.RoofSpecification.split_with_thick_line">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">split_with_thick_line</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">line</span><span class="p">,</span> <span class="n">thickness</span><span class="p">,</span> <span class="n">selected_indices</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                              <span class="n">tolerance</span><span class="o">=</span><span class="mf">0.01</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Split this RoofSpecification with a thickened LineSegment2D creating a gap.</span>

<span class="sd">        If the input line does not intersect the roof geometry in a manner</span>
<span class="sd">        that splits it, this roof will remain unaltered.</span>

<span class="sd">        Args:</span>
<span class="sd">            line: A LineSegment2D object that will be used to split this roof geometry.</span>
<span class="sd">            thickness: A number for the thickness to be applied to the line before</span>
<span class="sd">                it is used to split the roofs. The input line will be offset half</span>
<span class="sd">                of this distance in both directions before it is used to split</span>
<span class="sd">                this roof geometry.</span>
<span class="sd">            selected_indices: An optional list of indices for specific roof</span>
<span class="sd">                geometries to be split with the input line. If None, all of</span>
<span class="sd">                the roof geometry will be tested for intersection with the</span>
<span class="sd">                input line. (Default: None).</span>
<span class="sd">            tolerance: The maximum difference between point values for them to be</span>
<span class="sd">                considered distinct from one another. (Default: 0.01; suitable</span>
<span class="sd">                for objects in Meters).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># check the inputs</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">line</span><span class="p">,</span> <span class="n">LineSegment2D</span><span class="p">):</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;Expected LineSegment2D. Got </span><span class="si">{}</span><span class="s1">.&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">line</span><span class="p">))</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

        <span class="c1"># split the geometries with the line</span>
        <span class="n">proj_dir</span> <span class="o">=</span> <span class="n">Vector3D</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">split_geometries</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">geo</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">geometry</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">selected_indices</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">selected_indices</span><span class="p">:</span>
                <span class="c1"># project the line into the plane of the roof geometry</span>
                <span class="n">pt1</span> <span class="o">=</span> <span class="n">geo</span><span class="o">.</span><span class="n">plane</span><span class="o">.</span><span class="n">project_point</span><span class="p">(</span><span class="n">Point3D</span><span class="o">.</span><span class="n">from_point2d</span><span class="p">(</span><span class="n">line</span><span class="o">.</span><span class="n">p1</span><span class="p">),</span> <span class="n">proj_dir</span><span class="p">)</span>
                <span class="n">pt2</span> <span class="o">=</span> <span class="n">geo</span><span class="o">.</span><span class="n">plane</span><span class="o">.</span><span class="n">project_point</span><span class="p">(</span><span class="n">Point3D</span><span class="o">.</span><span class="n">from_point2d</span><span class="p">(</span><span class="n">line</span><span class="o">.</span><span class="n">p2</span><span class="p">),</span> <span class="n">proj_dir</span><span class="p">)</span>
                <span class="n">line_3d</span> <span class="o">=</span> <span class="n">LineSegment3D</span><span class="o">.</span><span class="n">from_end_points</span><span class="p">(</span><span class="n">pt1</span><span class="p">,</span> <span class="n">pt2</span><span class="p">)</span>
                <span class="c1"># split the roof geometry with the line</span>
                <span class="n">new_geos</span> <span class="o">=</span> <span class="n">geo</span><span class="o">.</span><span class="n">split_with_thick_line</span><span class="p">(</span><span class="n">line_3d</span><span class="p">,</span> <span class="n">thickness</span><span class="p">,</span> <span class="n">tolerance</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">new_geos</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="n">split_geometries</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">geo</span><span class="p">)</span>  <span class="c1"># no overlap</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">split_geometries</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">new_geos</span><span class="p">)</span>  <span class="c1"># roof successfully split</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">split_geometries</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">geo</span><span class="p">)</span>

        <span class="c1"># update the geometry</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">geometry</span> <span class="o">=</span> <span class="n">split_geometries</span></div>


<div class="viewcode-block" id="RoofSpecification.split_with_thick_polyline">
<a class="viewcode-back" href="../../dragonfly.roof.html#dragonfly.roof.RoofSpecification.split_with_thick_polyline">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">split_with_thick_polyline</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">polyline</span><span class="p">,</span> <span class="n">thickness</span><span class="p">,</span> <span class="n">selected_indices</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                                  <span class="n">tolerance</span><span class="o">=</span><span class="mf">0.01</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Split this RoofSpecification with a thickened Polyline2D creating a gap.</span>

<span class="sd">        If the input polyline does not intersect the roof geometry in a manner</span>
<span class="sd">        that splits it, this roof will remain unaltered.</span>

<span class="sd">        Args:</span>
<span class="sd">            polyline: A Polyline2D object that will be used to split this roof geometry.</span>
<span class="sd">            thickness: A number for the thickness to be applied to the polyline before</span>
<span class="sd">                it is used to split the roofs. The input polyline will be offset half</span>
<span class="sd">                of this distance in both directions before it is used to split</span>
<span class="sd">                this roof geometry.</span>
<span class="sd">            selected_indices: An optional list of indices for specific roof</span>
<span class="sd">                geometries to be split with the input polyline. If None, all of</span>
<span class="sd">                the roof geometry will be tested for intersection with the</span>
<span class="sd">                input polyline. (Default: None).</span>
<span class="sd">            tolerance: The maximum difference between point values for them to be</span>
<span class="sd">                considered distinct from one another. (Default: 0.01; suitable</span>
<span class="sd">                for objects in Meters).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># check the inputs</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">polyline</span><span class="p">,</span> <span class="n">Polyline2D</span><span class="p">):</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;Expected Polyline2D. Got </span><span class="si">{}</span><span class="s1">.&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">polyline</span><span class="p">))</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

        <span class="c1"># split the geometries with the polyline</span>
        <span class="n">proj_dir</span> <span class="o">=</span> <span class="n">Vector3D</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">split_geometries</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">geo</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">geometry</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">selected_indices</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">selected_indices</span><span class="p">:</span>
                <span class="c1"># project the polyline into the plane of the roof geometry</span>
                <span class="n">pts_3d</span> <span class="o">=</span> <span class="p">[</span><span class="n">geo</span><span class="o">.</span><span class="n">plane</span><span class="o">.</span><span class="n">project_point</span><span class="p">(</span><span class="n">Point3D</span><span class="o">.</span><span class="n">from_point2d</span><span class="p">(</span><span class="n">pt</span><span class="p">),</span> <span class="n">proj_dir</span><span class="p">)</span>
                          <span class="k">for</span> <span class="n">pt</span> <span class="ow">in</span> <span class="n">polyline</span><span class="o">.</span><span class="n">vertices</span><span class="p">]</span>
                <span class="n">polyline_3d</span> <span class="o">=</span> <span class="n">Polyline3D</span><span class="p">(</span><span class="n">pts_3d</span><span class="p">)</span>
                <span class="c1"># split the roof geometry with the line</span>
                <span class="n">new_geos</span> <span class="o">=</span> <span class="n">geo</span><span class="o">.</span><span class="n">split_with_thick_polyline</span><span class="p">(</span>
                    <span class="n">polyline_3d</span><span class="p">,</span> <span class="n">thickness</span><span class="p">,</span> <span class="n">tolerance</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">new_geos</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="n">split_geometries</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">geo</span><span class="p">)</span>  <span class="c1"># no overlap</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">split_geometries</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">new_geos</span><span class="p">)</span>  <span class="c1"># roof successfully split</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">split_geometries</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">geo</span><span class="p">)</span>

        <span class="c1"># update the geometry</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">geometry</span> <span class="o">=</span> <span class="n">split_geometries</span></div>


<div class="viewcode-block" id="RoofSpecification.join_geometries">
<a class="viewcode-back" href="../../dragonfly.roof.html#dragonfly.roof.RoofSpecification.join_geometries">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">join_geometries</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">selected_indices</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">tolerance</span><span class="o">=</span><span class="mf">0.01</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Join coplanar roofs together that are touching within the tolerance.</span>

<span class="sd">        Args:</span>
<span class="sd">            selected_indices: An optional list of indices for specific roof</span>
<span class="sd">                geometries to be joined together. If None, all of the roof</span>
<span class="sd">                geometry will be tested for whether they can be joined</span>
<span class="sd">                together. (Default: None).</span>
<span class="sd">            tolerance: The maximum difference between point values for them to be</span>
<span class="sd">                considered distinct from one another. (Default: 0.01; suitable</span>
<span class="sd">                for objects in Meters).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># separate geometry to join from that to keep</span>
        <span class="k">if</span> <span class="n">selected_indices</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">geo_to_join</span><span class="p">,</span> <span class="n">geo_to_keep</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">geometry</span><span class="p">,</span> <span class="p">[]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">geo_to_join</span><span class="p">,</span> <span class="n">geo_to_keep</span> <span class="o">=</span> <span class="p">[],</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">geo</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">geometry</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">selected_indices</span><span class="p">:</span>
                    <span class="n">geo_to_join</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">geo</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">geo_to_keep</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">geo</span><span class="p">)</span>
        <span class="c1"># join the geometries together</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">geo_to_join</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">joined_roof</span> <span class="o">=</span> <span class="n">RoofSpecification</span><span class="o">.</span><span class="n">from_geometry_to_join</span><span class="p">(</span>
                <span class="n">geo_to_join</span><span class="p">,</span> <span class="n">tolerance</span><span class="o">=</span><span class="n">tolerance</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">geometry</span> <span class="o">=</span> <span class="n">joined_roof</span><span class="o">.</span><span class="n">geometry</span> <span class="o">+</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">geo_to_keep</span><span class="p">)</span></div>


<div class="viewcode-block" id="RoofSpecification.check_roof_above_rooms">
<a class="viewcode-back" href="../../dragonfly.roof.html#dragonfly.roof.RoofSpecification.check_roof_above_rooms">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">check_roof_above_rooms</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">room_2ds</span><span class="p">,</span> <span class="n">tolerance</span><span class="o">=</span><span class="mf">0.01</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Check that all geometries of this roof lie above a given set of Room2Ds.</span>

<span class="sd">        Args:</span>
<span class="sd">            room_2ds: A list of Room2Ds that will be be checked for whether they</span>
<span class="sd">                lie completely below this roof.</span>
<span class="sd">            tolerance: The minimum distance between coordinate values that is</span>
<span class="sd">                considered a meaningful difference. (Default: 0.01, suitable</span>
<span class="sd">                for objects in meters).</span>
<span class="sd">            raise_exception: Boolean to note whether a ValueError should be raised if</span>
<span class="sd">                roof geometries are found below the Room2D geometries. (Default: True).</span>
<span class="sd">            detailed: Boolean for whether the returned object is a detailed list of</span>
<span class="sd">                dicts with error info or a string with a message. (Default: False).</span>

<span class="sd">        Returns:</span>
<span class="sd">            A tuple with two elements.</span>

<span class="sd">            -   messages: A list of text strings for messages about Room2Ds that</span>
<span class="sd">                have floors colliding with this roof.</span>

<span class="sd">            -   bad_rooms: A list of Room2Ds that aligns with each of the messages</span>
<span class="sd">                for the room that collides with the roof.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># get the roof polygons and set up the message template</span>
        <span class="n">roof_polys</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">boundary_geometry_2d</span>
        <span class="n">roof_planes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">planes</span>
        <span class="n">msg_temp</span> <span class="o">=</span> <span class="s1">&#39;Room2D &quot;</span><span class="si">{}</span><span class="s1">&quot; has a </span><span class="si">{}</span><span class="s1">floor height at </span><span class="si">{}</span><span class="s1"> and this is above the &#39;</span> \
            <span class="s1">&#39;roof geometry covering the room, which extends down to </span><span class="si">{}</span><span class="s1">. </span><span class="si">{}</span><span class="s1">&#39;</span>
        <span class="n">suggest</span> <span class="o">=</span> <span class="s1">&#39;Lower the room floor height, delete the roofs, or move the &#39;</span> \
            <span class="s1">&#39;roof/room boundaries.&#39;</span>
        <span class="n">suggest_pln</span> <span class="o">=</span> <span class="s1">&#39;Change the room plenum depth, lower the room floor height, &#39;</span> \
            <span class="s1">&#39;or delete the roofs.&#39;</span>

        <span class="c1"># loop through the rooms and test for collisions</span>
        <span class="n">messages</span><span class="p">,</span> <span class="n">bad_rooms</span> <span class="o">=</span> <span class="p">[],</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">room</span> <span class="ow">in</span> <span class="n">room_2ds</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">room</span><span class="o">.</span><span class="n">is_top_exposed</span><span class="p">:</span>
                <span class="k">continue</span>  <span class="c1"># impossible for the roof to mess the room up</span>
            <span class="n">room_pts2d</span> <span class="o">=</span> <span class="p">[</span><span class="n">Point2D</span><span class="p">(</span><span class="n">pt</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">pt</span><span class="o">.</span><span class="n">y</span><span class="p">)</span> <span class="k">for</span> <span class="n">pt</span> <span class="ow">in</span> <span class="n">room</span><span class="o">.</span><span class="n">floor_geometry</span><span class="o">.</span><span class="n">boundary</span><span class="p">]</span>
            <span class="n">room_poly</span> <span class="o">=</span> <span class="n">Polygon2D</span><span class="p">(</span><span class="n">room_pts2d</span><span class="p">)</span>

            <span class="c1"># gather all of the relevant roof polygons for the Room2D</span>
            <span class="n">rel_rf_polys</span><span class="p">,</span> <span class="n">rel_rf_planes</span><span class="p">,</span> <span class="n">is_full_bound</span> <span class="o">=</span> <span class="p">[],</span> <span class="p">[],</span> <span class="kc">False</span>
            <span class="k">for</span> <span class="n">rf_py</span><span class="p">,</span> <span class="n">rf_pl</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">roof_polys</span><span class="p">,</span> <span class="n">roof_planes</span><span class="p">):</span>
                <span class="n">poly_rel</span> <span class="o">=</span> <span class="n">rf_py</span><span class="o">.</span><span class="n">polygon_relationship</span><span class="p">(</span><span class="n">room_poly</span><span class="p">,</span> <span class="n">tolerance</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">poly_rel</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="n">rel_rf_polys</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">rf_py</span><span class="p">)</span>
                    <span class="n">rel_rf_planes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">rf_pl</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">poly_rel</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>  <span class="c1"># simple solution of one roof</span>
                    <span class="n">is_full_bound</span> <span class="o">=</span> <span class="kc">True</span>
                    <span class="n">rel_rf_polys</span> <span class="o">=</span> <span class="p">[</span><span class="n">rel_rf_polys</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]]</span>
                    <span class="n">rel_rf_planes</span> <span class="o">=</span> <span class="p">[</span><span class="n">rel_rf_planes</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]]</span>
                    <span class="k">break</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">rel_rf_polys</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">continue</span>  <span class="c1"># no roofs that could mess the room volume generation up</span>

            <span class="c1"># create the roof faces</span>
            <span class="n">hp_flr_hgt</span> <span class="o">=</span> <span class="n">room</span><span class="o">.</span><span class="n">highest_plenum_floor_height</span>
            <span class="n">proj_dir</span> <span class="o">=</span> <span class="n">Vector3D</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>  <span class="c1"># direction to project onto Roof planes</span>
            <span class="c1"># when fully bounded, simply project the segments onto the single Roof face</span>
            <span class="k">if</span> <span class="n">is_full_bound</span><span class="p">:</span>
                <span class="n">roof_plane</span> <span class="o">=</span> <span class="n">rel_rf_planes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                <span class="n">roof_verts</span> <span class="o">=</span> <span class="p">[</span><span class="n">roof_plane</span><span class="o">.</span><span class="n">project_point</span><span class="p">(</span><span class="n">pt</span><span class="p">,</span> <span class="n">proj_dir</span><span class="p">)</span>
                              <span class="k">for</span> <span class="n">pt</span> <span class="ow">in</span> <span class="n">room</span><span class="o">.</span><span class="n">floor_geometry</span><span class="o">.</span><span class="n">vertices</span><span class="p">]</span>
                <span class="n">roof_min</span> <span class="o">=</span> <span class="n">Face3D</span><span class="p">(</span><span class="n">roof_verts</span><span class="p">)</span><span class="o">.</span><span class="n">min</span><span class="o">.</span><span class="n">z</span>
                <span class="k">if</span> <span class="n">roof_min</span> <span class="o">&lt;</span> <span class="n">hp_flr_hgt</span> <span class="o">-</span> <span class="n">tolerance</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">room</span><span class="o">.</span><span class="n">ceiling_plenum_depth</span> <span class="o">!=</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">room</span><span class="o">.</span><span class="n">floor_plenum_depth</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
                        <span class="n">hgt_type</span><span class="p">,</span> <span class="n">sug</span> <span class="o">=</span> <span class="s1">&#39;plenum &#39;</span><span class="p">,</span> <span class="n">suggest_pln</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">hgt_type</span><span class="p">,</span> <span class="n">sug</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">suggest</span>
                    <span class="n">msg</span> <span class="o">=</span> <span class="n">msg_temp</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                        <span class="n">room</span><span class="o">.</span><span class="n">display_name</span><span class="p">,</span> <span class="n">hgt_type</span><span class="p">,</span> <span class="n">hp_flr_hgt</span><span class="p">,</span> <span class="n">roof_min</span><span class="p">,</span> <span class="n">sug</span><span class="p">)</span>
                    <span class="n">messages</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
                    <span class="n">bad_rooms</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">room</span><span class="p">)</span>
                <span class="k">continue</span>

            <span class="c1"># when multiple roofs, each segment must be intersected with the roof polygons</span>
            <span class="c1"># gather polygons that account for all of the Room2D holes</span>
            <span class="n">all_room_poly</span> <span class="o">=</span> <span class="p">[</span><span class="n">room_poly</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">room</span><span class="o">.</span><span class="n">floor_geometry</span><span class="o">.</span><span class="n">has_holes</span><span class="p">:</span>
                <span class="n">v_count</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">room_poly</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">hole</span> <span class="ow">in</span> <span class="n">room</span><span class="o">.</span><span class="n">floor_geometry</span><span class="o">.</span><span class="n">holes</span><span class="p">:</span>
                    <span class="n">hole_poly</span> <span class="o">=</span> <span class="n">Polygon2D</span><span class="p">([</span><span class="n">Point2D</span><span class="p">(</span><span class="n">pt</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">pt</span><span class="o">.</span><span class="n">y</span><span class="p">)</span> <span class="k">for</span> <span class="n">pt</span> <span class="ow">in</span> <span class="n">hole</span><span class="p">])</span>
                    <span class="n">all_room_poly</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">hole_poly</span><span class="p">)</span>
                    <span class="n">v_count</span> <span class="o">+=</span> <span class="nb">len</span><span class="p">(</span><span class="n">hole</span><span class="p">)</span>
            <span class="c1"># get the roof faces using polygon boolean operations</span>
            <span class="n">roof_faces</span> <span class="o">=</span> <span class="n">room</span><span class="o">.</span><span class="n">_roof_faces</span><span class="p">(</span>
                <span class="n">all_room_poly</span><span class="p">,</span> <span class="n">rel_rf_polys</span><span class="p">,</span> <span class="n">rel_rf_planes</span><span class="p">,</span> <span class="n">tolerance</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">roof_faces</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="nb">len</span><span class="p">(</span><span class="n">roof_faces</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>  <span class="c1"># invalid roof geometry</span>
                <span class="k">continue</span>
            <span class="n">roof_min</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">min</span><span class="o">.</span><span class="n">z</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">roof_faces</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">roof_min</span> <span class="o">&lt;</span> <span class="n">hp_flr_hgt</span> <span class="o">-</span> <span class="n">tolerance</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">room</span><span class="o">.</span><span class="n">ceiling_plenum_depth</span> <span class="o">!=</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">room</span><span class="o">.</span><span class="n">floor_plenum_depth</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="n">hgt_type</span><span class="p">,</span> <span class="n">sug</span> <span class="o">=</span> <span class="s1">&#39;plenum &#39;</span><span class="p">,</span> <span class="n">suggest_pln</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">hgt_type</span><span class="p">,</span> <span class="n">sug</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">suggest</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="n">msg_temp</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                    <span class="n">room</span><span class="o">.</span><span class="n">display_name</span><span class="p">,</span> <span class="n">hgt_type</span><span class="p">,</span> <span class="n">hp_flr_hgt</span><span class="p">,</span> <span class="n">roof_min</span><span class="p">,</span> <span class="n">sug</span><span class="p">)</span>
                <span class="n">messages</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
                <span class="n">bad_rooms</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">room</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">messages</span><span class="p">,</span> <span class="n">bad_rooms</span></div>


<div class="viewcode-block" id="RoofSpecification.to_dict">
<a class="viewcode-back" href="../../dragonfly.roof.html#dragonfly.roof.RoofSpecification.to_dict">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">to_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return RoofSpecification as a dictionary.&quot;&quot;&quot;</span>
        <span class="n">base</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;RoofSpecification&#39;</span><span class="p">}</span>
        <span class="n">base</span><span class="p">[</span><span class="s1">&#39;geometry&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">geo</span><span class="o">.</span><span class="n">to_dict</span><span class="p">()</span> <span class="k">for</span> <span class="n">geo</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_geometry</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">base</span></div>


<div class="viewcode-block" id="RoofSpecification.duplicate">
<a class="viewcode-back" href="../../dragonfly.roof.html#dragonfly.roof.RoofSpecification.duplicate">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">duplicate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a copy of this object.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__copy__</span><span class="p">()</span></div>


    <span class="k">def</span><span class="w"> </span><span class="nf">_is_vector_xy</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">vector2d</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Check if a vector lies along the X or Y axis.&quot;&quot;&quot;</span>
        <span class="n">unit_vec</span> <span class="o">=</span> <span class="n">vector2d</span><span class="o">.</span><span class="n">normalize</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">unit_vec</span><span class="o">.</span><span class="n">x</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ANG_TOL</span> <span class="ow">or</span> <span class="n">unit_vec</span><span class="o">.</span><span class="n">y</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ANG_TOL</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_compute_ridge_line_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tolerance</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a matrix of values for the ridge lines associated with each vertex.</span>

<span class="sd">        Ridge lines are defined as lines shared between two roof geometries.</span>

<span class="sd">        The matrix will have one sub-list for each polygon in the boundary_geometry_2d</span>
<span class="sd">        and each sub-list contains a sub-sub-list for each vertex. This sub-sub-list</span>
<span class="sd">        contains LineSegment2Ds for each ridge line that the vertex is a part of.</span>
<span class="sd">        Vertices that belong to only one roof geometry will get an empty list in</span>
<span class="sd">        the matrix, indicating that the vertex can be moved in any direction without</span>
<span class="sd">        changing the roof structure. Vertices belonging to two roof geometries will</span>
<span class="sd">        get a single ridge line LineSegment2D in the list, indicating that the vertex can</span>
<span class="sd">        be moved along this vector without changing the structure of the whole roof.</span>
<span class="sd">        Vertices belonging to more than one roof geometry will get multiple</span>
<span class="sd">        LineSegment2Ds in the list, which usually means that moving the vertex in</span>
<span class="sd">        any direction will change the Roof structure.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># turn the polygons into Face3D in the XY plane</span>
        <span class="n">proj_faces</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">poly</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">boundary_geometry_2d</span><span class="p">:</span>
            <span class="n">proj_face</span> <span class="o">=</span> <span class="n">Face3D</span><span class="p">(</span><span class="nb">tuple</span><span class="p">(</span><span class="n">Point3D</span><span class="p">(</span><span class="n">pt</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">pt</span><span class="o">.</span><span class="n">y</span><span class="p">)</span> <span class="k">for</span> <span class="n">pt</span> <span class="ow">in</span> <span class="n">poly</span><span class="p">))</span>
            <span class="n">proj_faces</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">proj_face</span><span class="p">)</span>
        <span class="c1"># join the projected Face3D into a Polyface3D and get all naked edges</span>
        <span class="n">roof_p_face</span> <span class="o">=</span> <span class="n">Polyface3D</span><span class="o">.</span><span class="n">from_faces</span><span class="p">(</span><span class="n">proj_faces</span><span class="p">,</span> <span class="n">tolerance</span><span class="p">)</span>
        <span class="n">roof_p_face</span> <span class="o">=</span> <span class="n">roof_p_face</span><span class="o">.</span><span class="n">merge_overlapping_edges</span><span class="p">(</span><span class="n">tolerance</span><span class="p">)</span>
        <span class="n">internal_ed</span> <span class="o">=</span> <span class="n">roof_p_face</span><span class="o">.</span><span class="n">internal_edges</span>
        <span class="c1"># check whether each Face3D vertex lies on an internal edge</span>
        <span class="n">ridge_info</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">proj_face</span> <span class="ow">in</span> <span class="n">proj_faces</span><span class="p">:</span>
            <span class="n">face_info</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">pt</span> <span class="ow">in</span> <span class="n">proj_face</span><span class="o">.</span><span class="n">boundary</span><span class="p">:</span>
                <span class="n">pt_rid</span> <span class="o">=</span> <span class="p">[]</span>
                <span class="k">for</span> <span class="n">ed</span> <span class="ow">in</span> <span class="n">internal_ed</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">ed</span><span class="o">.</span><span class="n">distance_to_point</span><span class="p">(</span><span class="n">pt</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="n">tolerance</span><span class="p">:</span>
                        <span class="n">ln_2</span> <span class="o">=</span> <span class="n">LineSegment2D</span><span class="p">(</span>
                            <span class="n">Point2D</span><span class="p">(</span><span class="n">ed</span><span class="o">.</span><span class="n">p</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">ed</span><span class="o">.</span><span class="n">p</span><span class="o">.</span><span class="n">y</span><span class="p">),</span> <span class="n">Vector2D</span><span class="p">(</span><span class="n">ed</span><span class="o">.</span><span class="n">v</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">ed</span><span class="o">.</span><span class="n">v</span><span class="o">.</span><span class="n">y</span><span class="p">))</span>
                        <span class="n">pt_rid</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ln_2</span><span class="p">)</span>
                <span class="n">face_info</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pt_rid</span><span class="p">)</span>
            <span class="n">ridge_info</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">face_info</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">ridge_info</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_constrain_edges</span><span class="p">(</span><span class="n">original_polygon</span><span class="p">,</span> <span class="n">new_polygon</span><span class="p">,</span> <span class="n">pull_segments</span><span class="p">,</span> <span class="n">tolerance</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Move 2D vertices to constrain original edges not on the pull_segments.&quot;&quot;&quot;</span>
        <span class="c1"># get all of the vertices and segments needed for the operation</span>
        <span class="n">new_verts</span> <span class="o">=</span> <span class="n">new_polygon</span><span class="o">.</span><span class="n">vertices</span>
        <span class="n">new_segs</span> <span class="o">=</span> <span class="n">new_polygon</span><span class="o">.</span><span class="n">segments</span>
        <span class="n">old_segs</span> <span class="o">=</span> <span class="n">original_polygon</span><span class="o">.</span><span class="n">segments</span>

        <span class="c1"># loop through the vertices and figure out which ones are along the pull_segments</span>
        <span class="n">pts_moved</span><span class="p">,</span> <span class="n">any_moved</span> <span class="o">=</span> <span class="p">[],</span> <span class="kc">False</span>
        <span class="k">for</span> <span class="n">seg</span> <span class="ow">in</span> <span class="n">new_segs</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">o_seg</span> <span class="ow">in</span> <span class="n">pull_segments</span><span class="p">:</span>
                <span class="n">close_pt</span> <span class="o">=</span> <span class="n">closest_point2d_on_line2d</span><span class="p">(</span><span class="n">seg</span><span class="o">.</span><span class="n">p1</span><span class="p">,</span> <span class="n">o_seg</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">seg</span><span class="o">.</span><span class="n">p1</span><span class="o">.</span><span class="n">distance_to_point</span><span class="p">(</span><span class="n">close_pt</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="n">tolerance</span><span class="p">:</span>
                    <span class="n">pts_moved</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
                    <span class="n">any_moved</span> <span class="o">=</span> <span class="kc">True</span>
                    <span class="k">break</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">pts_moved</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">any_moved</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">new_polygon</span>

        <span class="c1"># set a maximum distance for which constrained points can move</span>
        <span class="n">o_geo</span> <span class="o">=</span> <span class="n">original_polygon</span>
        <span class="n">max_dist</span> <span class="o">=</span> <span class="nb">max</span><span class="p">((</span><span class="n">o_geo</span><span class="o">.</span><span class="n">max</span><span class="o">.</span><span class="n">x</span> <span class="o">-</span> <span class="n">o_geo</span><span class="o">.</span><span class="n">min</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">o_geo</span><span class="o">.</span><span class="n">max</span><span class="o">.</span><span class="n">y</span> <span class="o">-</span> <span class="n">o_geo</span><span class="o">.</span><span class="n">min</span><span class="o">.</span><span class="n">y</span><span class="p">))</span>
        <span class="n">max_d</span> <span class="o">=</span> <span class="n">max_dist</span> <span class="o">*</span> <span class="mi">10</span>

        <span class="c1"># identify the start and end points of each stretch and move them</span>
        <span class="n">edit_boundary</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">last_vert_i</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">new_verts</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="p">(</span><span class="n">pt</span><span class="p">,</span> <span class="n">moved</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">new_verts</span><span class="p">,</span> <span class="n">pts_moved</span><span class="p">)):</span>
            <span class="k">if</span> <span class="n">moved</span><span class="p">:</span>
                <span class="n">prev_i</span> <span class="o">=</span> <span class="n">i</span> <span class="o">-</span> <span class="mi">1</span>
                <span class="n">next_i</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span> <span class="k">if</span> <span class="n">i</span> <span class="o">!=</span> <span class="n">last_vert_i</span> <span class="k">else</span> <span class="mi">0</span>
                <span class="k">if</span> <span class="n">pts_moved</span><span class="p">[</span><span class="n">prev_i</span><span class="p">]</span> <span class="ow">and</span> <span class="n">pts_moved</span><span class="p">[</span><span class="n">next_i</span><span class="p">]:</span>  <span class="c1"># middle of a stretch</span>
                    <span class="n">edit_boundary</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pt</span><span class="p">)</span>
                <span class="k">elif</span> <span class="ow">not</span> <span class="n">pts_moved</span><span class="p">[</span><span class="n">prev_i</span><span class="p">]</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">pts_moved</span><span class="p">[</span><span class="n">next_i</span><span class="p">]:</span>  <span class="c1"># lone moved point</span>
                    <span class="n">edit_boundary</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pt</span><span class="p">)</span>
                <span class="k">elif</span> <span class="n">pts_moved</span><span class="p">[</span><span class="n">prev_i</span><span class="p">]:</span>  <span class="c1"># the end of a stretch</span>
                    <span class="n">prev_seg</span><span class="p">,</span> <span class="n">next_new_seg</span> <span class="o">=</span> <span class="n">new_segs</span><span class="p">[</span><span class="n">prev_i</span><span class="p">],</span> <span class="n">new_segs</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
                    <span class="k">for</span> <span class="n">o_seg</span> <span class="ow">in</span> <span class="n">old_segs</span><span class="p">:</span>
                        <span class="k">if</span> <span class="n">o_seg</span><span class="o">.</span><span class="n">p2</span><span class="o">.</span><span class="n">is_equivalent</span><span class="p">(</span><span class="n">next_new_seg</span><span class="o">.</span><span class="n">p2</span><span class="p">,</span> <span class="n">tolerance</span><span class="p">):</span>
                            <span class="n">next_seg</span> <span class="o">=</span> <span class="n">o_seg</span>
                            <span class="k">break</span>
                    <span class="k">else</span><span class="p">:</span>  <span class="c1"># failed to find the original segment</span>
                        <span class="n">edit_boundary</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pt</span><span class="p">)</span>
                        <span class="k">continue</span>
                    <span class="n">ray_1</span> <span class="o">=</span> <span class="n">Ray2D</span><span class="p">(</span><span class="n">prev_seg</span><span class="o">.</span><span class="n">p1</span><span class="p">,</span> <span class="n">prev_seg</span><span class="o">.</span><span class="n">v</span><span class="p">)</span>
                    <span class="n">ray_2</span> <span class="o">=</span> <span class="n">Ray2D</span><span class="p">(</span><span class="n">next_seg</span><span class="o">.</span><span class="n">p2</span><span class="p">,</span> <span class="o">-</span><span class="n">next_seg</span><span class="o">.</span><span class="n">v</span><span class="p">)</span>
                    <span class="n">int_pt</span> <span class="o">=</span> <span class="n">ray_1</span><span class="o">.</span><span class="n">intersect_line_ray</span><span class="p">(</span><span class="n">ray_2</span><span class="p">)</span>
                    <span class="k">if</span> <span class="n">int_pt</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">int_pt</span><span class="o">.</span><span class="n">distance_to_point</span><span class="p">(</span><span class="n">next_seg</span><span class="o">.</span><span class="n">p1</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">max_d</span><span class="p">:</span>
                        <span class="n">edit_boundary</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pt</span><span class="p">)</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">edit_boundary</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Point2D</span><span class="p">(</span><span class="n">int_pt</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">int_pt</span><span class="o">.</span><span class="n">y</span><span class="p">))</span>
                <span class="k">else</span><span class="p">:</span>  <span class="c1"># the beginning of a stretch</span>
                    <span class="n">prev_new_seg</span><span class="p">,</span> <span class="n">next_seg</span> <span class="o">=</span> <span class="n">new_segs</span><span class="p">[</span><span class="n">prev_i</span><span class="p">],</span> <span class="n">new_segs</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
                    <span class="k">for</span> <span class="n">o_seg</span> <span class="ow">in</span> <span class="n">old_segs</span><span class="p">:</span>
                        <span class="k">if</span> <span class="n">o_seg</span><span class="o">.</span><span class="n">p1</span><span class="o">.</span><span class="n">is_equivalent</span><span class="p">(</span><span class="n">prev_new_seg</span><span class="o">.</span><span class="n">p1</span><span class="p">,</span> <span class="n">tolerance</span><span class="p">):</span>
                            <span class="n">prev_seg</span> <span class="o">=</span> <span class="n">o_seg</span>
                            <span class="k">break</span>
                    <span class="k">else</span><span class="p">:</span>  <span class="c1"># failed to find the original segment</span>
                        <span class="n">edit_boundary</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pt</span><span class="p">)</span>
                        <span class="k">continue</span>
                    <span class="n">ray_1</span> <span class="o">=</span> <span class="n">Ray2D</span><span class="p">(</span><span class="n">prev_seg</span><span class="o">.</span><span class="n">p1</span><span class="p">,</span> <span class="n">prev_seg</span><span class="o">.</span><span class="n">v</span><span class="p">)</span>
                    <span class="n">ray_2</span> <span class="o">=</span> <span class="n">Ray2D</span><span class="p">(</span><span class="n">next_seg</span><span class="o">.</span><span class="n">p2</span><span class="p">,</span> <span class="o">-</span><span class="n">next_seg</span><span class="o">.</span><span class="n">v</span><span class="p">)</span>
                    <span class="n">int_pt</span> <span class="o">=</span> <span class="n">ray_1</span><span class="o">.</span><span class="n">intersect_line_ray</span><span class="p">(</span><span class="n">ray_2</span><span class="p">)</span>
                    <span class="k">if</span> <span class="n">int_pt</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">int_pt</span><span class="o">.</span><span class="n">distance_to_point</span><span class="p">(</span><span class="n">next_seg</span><span class="o">.</span><span class="n">p1</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">max_d</span><span class="p">:</span>
                        <span class="n">edit_boundary</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pt</span><span class="p">)</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">edit_boundary</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Point2D</span><span class="p">(</span><span class="n">int_pt</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">int_pt</span><span class="o">.</span><span class="n">y</span><span class="p">))</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">edit_boundary</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pt</span><span class="p">)</span>

        <span class="c1"># rebuild the input geometry</span>
        <span class="k">return</span> <span class="n">Polygon2D</span><span class="p">(</span><span class="n">edit_boundary</span><span class="p">)</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_calculate_min</span><span class="p">(</span><span class="n">geometry_objects</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Calculate min Point2D around an array of geometry with min attributes.</span>

<span class="sd">        This is used in all functions that calculate bounding rectangles around</span>
<span class="sd">        dragonfly objects and assess when two objects are in close proximity.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">min_pt</span> <span class="o">=</span> <span class="p">[</span><span class="n">geometry_objects</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">min</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">geometry_objects</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">min</span><span class="o">.</span><span class="n">y</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">r_geo</span> <span class="ow">in</span> <span class="n">geometry_objects</span><span class="p">[</span><span class="mi">1</span><span class="p">:]:</span>
            <span class="k">if</span> <span class="n">r_geo</span><span class="o">.</span><span class="n">min</span><span class="o">.</span><span class="n">x</span> <span class="o">&lt;</span> <span class="n">min_pt</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
                <span class="n">min_pt</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">r_geo</span><span class="o">.</span><span class="n">min</span><span class="o">.</span><span class="n">x</span>
            <span class="k">if</span> <span class="n">r_geo</span><span class="o">.</span><span class="n">min</span><span class="o">.</span><span class="n">y</span> <span class="o">&lt;</span> <span class="n">min_pt</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span>
                <span class="n">min_pt</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">r_geo</span><span class="o">.</span><span class="n">min</span><span class="o">.</span><span class="n">y</span>
        <span class="k">return</span> <span class="n">Point2D</span><span class="p">(</span><span class="n">min_pt</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">min_pt</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_calculate_max</span><span class="p">(</span><span class="n">geometry_objects</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Calculate max Point2D around an array of geometry with max attributes.</span>

<span class="sd">        This is used in all functions that calculate bounding rectangles around</span>
<span class="sd">        dragonfly objects and assess when two objects are in close proximity.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">max_pt</span> <span class="o">=</span> <span class="p">[</span><span class="n">geometry_objects</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">geometry_objects</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="o">.</span><span class="n">y</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">r_geo</span> <span class="ow">in</span> <span class="n">geometry_objects</span><span class="p">[</span><span class="mi">1</span><span class="p">:]:</span>
            <span class="k">if</span> <span class="n">r_geo</span><span class="o">.</span><span class="n">max</span><span class="o">.</span><span class="n">x</span> <span class="o">&gt;</span> <span class="n">max_pt</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
                <span class="n">max_pt</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">r_geo</span><span class="o">.</span><span class="n">max</span><span class="o">.</span><span class="n">x</span>
            <span class="k">if</span> <span class="n">r_geo</span><span class="o">.</span><span class="n">max</span><span class="o">.</span><span class="n">y</span> <span class="o">&gt;</span> <span class="n">max_pt</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span>
                <span class="n">max_pt</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">r_geo</span><span class="o">.</span><span class="n">max</span><span class="o">.</span><span class="n">y</span>
        <span class="k">return</span> <span class="n">Point2D</span><span class="p">(</span><span class="n">max_pt</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">max_pt</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">__copy__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">RoofSpecification</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_geometry</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__len__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_geometry</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_geometry</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">iter</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_geometry</span><span class="p">)</span>

<div class="viewcode-block" id="RoofSpecification.ToString">
<a class="viewcode-back" href="../../dragonfly.roof.html#dragonfly.roof.RoofSpecification.ToString">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">ToString</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Overwrite .NET ToString.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__repr__</span><span class="p">()</span></div>


    <span class="k">def</span><span class="w"> </span><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s1">&#39;RoofSpecification: [</span><span class="si">{}</span><span class="s1"> geometries]&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_geometry</span><span class="p">))</span></div>

</pre></div>

    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2026, Ladybug Tools.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 8.0.2.<br/>
    </p>
  </div>
</footer>
  </body>
</html>